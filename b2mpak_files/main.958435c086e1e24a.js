(self.webpackChunkb2m_fe_suite_ngx_account=self.webpackChunkb2m_fe_suite_ngx_account||[]).push([["main"],{77939:(se,$,f)=>{"use strict";f.r($),f.d($,{EmailValidationModule:()=>k});var C=f(36362),t=f(90923),A=f(28086),g=f(19720),T=f(50253),D=f(87260),b=f(68951),O=f(3184),J=f(33935);function e(R,j){1&R&&(O.TgZ(0,"h4",20),O._UZ(1,"i",21),O.TgZ(2,"span"),O._uU(3),O.ALo(4,"translate"),O.qZA()()),2&R&&(O.xp6(3),O.hij(" ",O.lcZ(4,1,"ONBOARDING.STEP_1.EMAIL_RESENT_CONFIRMATION")," "))}function w(R,j){if(1&R){const N=O.EpF();O.TgZ(0,"div",22)(1,"h4")(2,"a",23),O.NdJ("click",function(ne){return O.CHM(N),O.oxw(2).resendEmailVerification(ne)}),O._uU(3),O.ALo(4,"translate"),O.qZA()()()}2&R&&(O.xp6(3),O.Oqu(O.lcZ(4,1,"ONBOARDING.STEP_1.RESEND_TEXT")))}function Q(R,j){if(1&R){const N=O.EpF();O.TgZ(0,"div",24)(1,"span"),O._uU(2),O.ALo(3,"translate"),O.TgZ(4,"bngx-timer",25),O.NdJ("isTimerFinished",function(){return O.CHM(N),O.oxw(2).onTimerFinished()}),O.qZA()()()}if(2&R){const N=O.oxw(2);O.xp6(2),O.hij(" ",O.lcZ(3,2,"ONBOARDING.STEP_1.REQUEST_RESEND_LABEL")," "),O.xp6(2),O.Q6J("isTimerActive",!N.isResendActive)}}function n(R,j){if(1&R&&(O.TgZ(0,"div"),O._UZ(1,"img",2),O.TgZ(2,"h1",3),O._uU(3),O.ALo(4,"translate"),O.qZA(),O.TgZ(5,"div",4),O._UZ(6,"i",5),O.TgZ(7,"p",6),O._uU(8),O.ALo(9,"translate"),O.qZA()(),O.TgZ(10,"p",7),O._UZ(11,"span",8),O.ALo(12,"translate"),O.TgZ(13,"strong"),O._uU(14),O.qZA(),O._uU(15,". "),O.qZA(),O.TgZ(16,"p",9),O._UZ(17,"span",8),O.ALo(18,"translate"),O._UZ(19,"span",10),O.ALo(20,"translate"),O.qZA(),O.TgZ(21,"span",11)(22,"a",12),O._uU(23),O.ALo(24,"translate"),O.qZA()(),O.TgZ(25,"div",13)(26,"span",14),O._uU(27),O.ALo(28,"translate"),O.qZA()(),O.YNc(29,e,5,3,"h4",15),O.YNc(30,w,5,3,"div",16),O.YNc(31,Q,5,4,"div",17),O.TgZ(32,"div",18),O._UZ(33,"bngx-too-many-requests-warning",19),O.qZA()()),2&R){const N=O.oxw();O.xp6(3),O.Oqu(O.lcZ(4,13,"ONBOARDING.STEP_1.TITLE")),O.xp6(5),O.Oqu(O.lcZ(9,15,"ONBOARDING.STEP_1.WAITING_TEXT")),O.xp6(3),O.Q6J("innerHTML",O.lcZ(12,17,"ONBOARDING.STEP_1.TEXT_1"),O.oJD),O.xp6(3),O.hij(" ",null==N.userInfo?null:N.userInfo.email,""),O.xp6(3),O.Q6J("innerHTML",O.lcZ(18,19,"ONBOARDING.STEP_1.TEXT_2"),O.oJD),O.xp6(2),O.Q6J("innerHTML",O.lcZ(20,21,"ONBOARDING.STEP_1.TEXT_3"),O.oJD),O.xp6(4),O.Oqu(O.lcZ(24,23,"ONBOARDING.STEP_1.OPEN_EMAIL_INBOX")),O.xp6(4),O.hij(" ",O.lcZ(28,25,"ONBOARDING.STEP_1.RESEND_TITLE")," "),O.xp6(2),O.Q6J("ngIf",!N.isResendActive),O.xp6(1),O.Q6J("ngIf",N.isResendActive),O.xp6(1),O.Q6J("ngIf",!N.isResendActive),O.xp6(2),O.Q6J("remainingMinutes",N.remainingMinutes)("showTooManyRequestsWarning",!!N.remainingMinutes)}}function i(R,j){if(1&R){const N=O.EpF();O.TgZ(0,"div")(1,"h3"),O._uU(2),O.ALo(3,"translate"),O.qZA(),O.TgZ(4,"button",26),O.NdJ("click",function(){return O.CHM(N),O.oxw().goToNextStep()}),O._uU(5),O.ALo(6,"translate"),O.qZA()()}2&R&&(O.xp6(2),O.Oqu(O.lcZ(3,2,"ONBOARDING.STEP_1.CONGRATULATIONS")),O.xp6(3),O.hij(" ",O.lcZ(6,4,"BUTTONS.CONTINUE")," "))}const Y=[{path:"",component:(()=>{class R{constructor(N,G,ne,te,me,ee,q){this.urlService=N,this.authService=G,this.accountService=ne,this.translateService=te,this.notificationsService=me,this.currentUserStore=ee,this.router=q,this.destroy$=new T.x,this.isResendActive=!0}ngOnInit(){this.currentUserStore.getAccountAndNext().subscribe(N=>{this.userInfo=N}),this.authService.tokenSubject.pipe((0,D.T)(1),(0,b.R)(this.destroy$)).subscribe(()=>{this.isEmailVerified=this.authService.isVerified([t.Dzy.email])}),this.isEmailVerified=this.authService.isVerified([t.Dzy.email])}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}resendEmailVerification(N){N.preventDefault(),this.accountService.verifyEmail({}).subscribe(()=>{this.isResendActive=!1,this.notificationsService.success(this.translateService.instant("CORE_UI.TOAST.EMAIL_VERIFICATION_SENT"))},G=>{var ne,te,me,ee,q,U,Ze;if(this.isResendActive=!0,(null===(te=null===(ne=null==G?void 0:G.error)||void 0===ne?void 0:ne.message)||void 0===te?void 0:te.includes)&&(null===(ee=null===(me=null==G?void 0:G.error)||void 0===me?void 0:me.message)||void 0===ee?void 0:ee.includes("rateLimitRemaining"))||(null===(q=null==G?void 0:G.error)||void 0===q?void 0:q.includes)&&(null===(U=null==G?void 0:G.error)||void 0===U?void 0:U.includes("rateLimitRemaining"))){const Ne=JSON.parse((null===(Ze=null==G?void 0:G.error)||void 0===Ze?void 0:Ze.message)||(null==G?void 0:G.error));this.remainingMinutes=Ne.rateLimitRemaining,this.isResendActive=!1}else this.notificationsService.error(this.translateService.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"))})}goToNextStep(){this.router.navigate(["/onboarding"])}onTimerFinished(){this.isResendActive=!0}}return R.\u0275fac=function(N){return new(N||R)(O.Y36(t.iOJ),O.Y36(t.e80),O.Y36(t.BRM),O.Y36(J.sK),O.Y36(t.TFo),O.Y36(t.Dk$),O.Y36(g.F0))},R.\u0275cmp=O.Xpm({type:R,selectors:[["ng-component"]],decls:3,vars:2,consts:[[1,"container","pt-5"],[4,"ngIf"],["src","assets/images/email-validation/astronaut-mail.png","alt","Email image",1,"astronaut-mail"],[1,"email-title"],[1,"mt-3","waiting-confirm"],["aria-hidden","true",1,"b2msf-clock","mr-2"],[1,"inline"],[1,"mt-3"],[3,"innerHTML"],[1,"mt-md-3","mb-2"],[1,"d-none","d-md-inline",3,"innerHTML"],[1,"d-block","d-md-none","open-inbox"],["href","mailto:",1,"b2m-btn","btn-line","my-4"],[1,"mt-4","mb-2"],[1,"no-received-label"],["class","email-resent-confirm mt-3",4,"ngIf"],["class","mt-2 resend-email",4,"ngIf"],["class","timer-resend mt-2",4,"ngIf"],[1,"invalid-feedback"],[3,"remainingMinutes","showTooManyRequestsWarning"],[1,"email-resent-confirm","mt-3"],["aria-hidden","true",1,"b2msf-check-circle-line","mr-1"],[1,"mt-2","resend-email"],["href","",3,"click"],[1,"timer-resend","mt-2"],[3,"isTimerActive","isTimerFinished"],[1,"b2m-btn","btn-solid","btn-block",3,"click"]],template:function(N,G){1&N&&(O.TgZ(0,"div",0),O.YNc(1,n,34,27,"div",1),O.YNc(2,i,7,6,"div",1),O.qZA()),2&N&&(O.xp6(1),O.Q6J("ngIf",!G.isEmailVerified),O.xp6(1),O.Q6J("ngIf",G.isEmailVerified))},directives:[C.O5,t.LCJ,t.tUR],pipes:[J.X$],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans}.container[_ngcontent-%COMP%]   .astronaut-mail[_ngcontent-%COMP%]{width:256px;position:relative;top:-3vh}@media (max-width: 415px){.container[_ngcontent-%COMP%]   .astronaut-mail[_ngcontent-%COMP%]{width:160px}}.container[_ngcontent-%COMP%]   .b2m-btn.btn-line[_ngcontent-%COMP%]{text-transform:none;font-style:normal;font-weight:700;font-size:14px;line-height:20px;border-radius:4px;padding:0 12px}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-style:normal}.container[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-color:#fff}.container[_ngcontent-%COMP%]   .email-title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:40px;letter-spacing:-.25px;text-align:center}@media (max-width: 320px){.container[_ngcontent-%COMP%]   .email-title[_ngcontent-%COMP%]{width:280px;height:50%;font-weight:700;font-size:20px;line-height:28px}}.container[_ngcontent-%COMP%]   .waiting-confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:20px;line-height:28px}@media (max-width: 320px){.container[_ngcontent-%COMP%]   .waiting-confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:24px}}.container[_ngcontent-%COMP%]   .no-received-label[_ngcontent-%COMP%]{width:272px;height:16px;font-weight:400;font-size:12px;line-height:16px;text-align:center;flex:none;order:0;flex-grow:0}.container[_ngcontent-%COMP%]   .email-resent-confirm[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .email-resent-confirm[_ngcontent-%COMP%]   .b2msf-check-circle-line[_ngcontent-%COMP%]{font-size:1em}.container[_ngcontent-%COMP%]   .email-resent-confirm[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:113px;height:20px;font-weight:700;font-size:14px;line-height:20px;flex:none;order:1;flex-grow:0}.container[_ngcontent-%COMP%]   .resend-email[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .resend-email[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{width:97px;height:20px;font-weight:400;font-size:14px;line-height:20px;flex:none;order:1;flex-grow:0}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:194px;height:20px;font-weight:400;font-size:14px;line-height:20px;flex:none;order:0;flex-grow:0}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   bngx-timer[_ngcontent-%COMP%]  nz-progress .ant-progress-text{color:#fff}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   bngx-timer[_ngcontent-%COMP%]  nz-progress .ant-progress-circle-path{stroke:#fff}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   bngx-timer[_ngcontent-%COMP%]  nz-progress .ant-progress-circle-trail{stroke:none}.container[_ngcontent-%COMP%]   .open-inbox[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]   .open-inbox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#044e97}.container[_ngcontent-%COMP%]   .open-inbox[_ngcontent-%COMP%]   .b2m-btn.btn-line[_ngcontent-%COMP%]{margin:0}"]}),R})(),data:{analytics:{pageAccess:t.Sk.loggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}}];let z=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=O.oAB({type:R}),R.\u0275inj=O.cJS({imports:[[g.Bz.forChild(Y)],g.Bz]}),R})(),k=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=O.oAB({type:R}),R.\u0275inj=O.cJS({imports:[[C.ez,t.Rbs.forChild(),A.v,z],z]}),R})()},8146:(se,$,f)=>{"use strict";f.d($,{s:()=>Y});var C=f(29527),t=f(85524),A=f(50635),g=f(59295),T=f(3184),D=f(90587),b=f(90923),O=f(26540),J=f(36362),e=f(51912),w=f(33935);const Q=["counter"];function n(z,k){1&z&&(T.TgZ(0,"div"),T._uU(1),T.ALo(2,"translate"),T.qZA()),2&z&&(T.xp6(1),T.hij(" ",T.lcZ(2,1,"FORM.VALIDATIONS.UNAUTHORIZED_DEVICE")," "))}function i(z,k){if(1&z&&(T.TgZ(0,"div",10),T.YNc(1,n,3,3,"div",11),T.qZA()),2&z){const R=T.oxw(2);T.xp6(1),T.Q6J("ngIf",null==R.authorizeDeviceForm||null==R.authorizeDeviceForm.controls||null==R.authorizeDeviceForm.controls.authorization||null==R.authorizeDeviceForm.controls.authorization.errors?null:R.authorizeDeviceForm.controls.authorization.errors.unauthorized)}}function X(z,k){if(1&z){const R=T.EpF();T.TgZ(0,"div",3)(1,"div")(2,"p"),T._uU(3),T.ALo(4,"translate"),T.qZA(),T._UZ(5,"br"),T.TgZ(6,"p"),T._uU(7),T.ALo(8,"translate"),T.TgZ(9,"b"),T._uU(10),T.ALo(11,"translate"),T.qZA()()(),T.TgZ(12,"form",4,5),T.NdJ("ngSubmit",function(){return T.CHM(R),T.oxw().submitAuthorizedDeviceCheckForm()}),T.TgZ(14,"div",3)(15,"button",6),T._uU(16),T.ALo(17,"translate"),T.qZA()()(),T.YNc(18,i,2,1,"div",7),T.TgZ(19,"label",8)(20,"nz-countdown",9),T.NdJ("nzCountdownFinish",function(){return T.CHM(R),T.oxw().onFinished()}),T.qZA()()()}if(2&z){const R=T.oxw();T.xp6(3),T.Oqu(T.lcZ(4,8,"CONFIRM_DEVICE.CONFIRM_DIALOG.CONTENT")),T.xp6(4),T.hij(" ",T.lcZ(8,10,"CONFIRM_DEVICE.CONFIRM_DIALOG.INSTRUCTION1")," "),T.xp6(3),T.Oqu(T.lcZ(11,12,"CONFIRM_DEVICE.CONFIRM_DIALOG.INSTRUCTION2")),T.xp6(2),T.Q6J("formGroup",R.authorizeDeviceForm),T.xp6(4),T.hij(" ",T.lcZ(17,14,"CONFIRM_DEVICE.CONFIRM_DIALOG.BUTTON")," "),T.xp6(2),T.Q6J("ngIf",null==R.authorizeDeviceForm||null==R.authorizeDeviceForm.controls||null==R.authorizeDeviceForm.controls.authorization?null:R.authorizeDeviceForm.controls.authorization.errors),T.xp6(2),T.Q6J("nzValue",R.remainingTime)("nzFormat","HH:mm:ss")}}let Y=(()=>{class z{constructor(R,j,N,G){this.formBuilder=R,this.authService=j,this.cookiesService=N,this.nzModalRef=G,this.responseSfa={accessToken:{token:"",expirationTime:0},sfa:!0,sfaType:"gauth"},this.remainingTime=C.ou.local().plus({minutes:5})}ngOnInit(){this.authorizeDeviceForm=this.formBuilder.group({authorization:[null]}),this.initCounter()}initCounter(){if(!this.remainingTime)return;const R=this.remainingTime,j=C.ou.local(),G=C.Xp.fromDateTimes(j,R).toDuration("seconds"),ne=Math.round(G.seconds);this.timer$=(0,t.H)(ne,1e3).pipe((0,A.U)(te=>te+1),(0,g.q)(ne+1))}onFinished(){this.nzModalRef.close()}submitAuthorizedDeviceCheckForm(){this.authService.device({accessToken:this.responseSfa.accessToken.token}).subscribe(()=>{this.oauth&&this.authService.linkOauth(this.oauth).subscribe(),this.authService.navigateToCorrectUrl()},R=>{403===R.status?this.authorizeDeviceForm.controls.authorization.setErrors({unauthorized:!0}):this.nzModalRef.close()})}}return z.\u0275fac=function(R){return new(R||z)(T.Y36(D.qu),T.Y36(b.e80),T.Y36(b.Fhc),T.Y36(O.Lf))},z.\u0275cmp=T.Xpm({type:z,selectors:[["ng-component"]],viewQuery:function(R,j){if(1&R&&T.Gf(Q,7),2&R){let N;T.iGM(N=T.CRH())&&(j.counter=N.first)}},inputs:{responseSfa:"responseSfa",oauth:"oauth"},decls:6,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["class","modal-body",4,"ngIf"],[1,"modal-body"],["name","authorized-device-form",1,"authorized-device-form",3,"formGroup","ngSubmit"],["authorizedDeviceFormTemplate","ngForm"],["type","submit",1,"b2m-btn","btn-solid","mb-0","d-block","mr-0","ml-auto"],["class","not-valid",4,"ngIf"],[1,"hidden"],[3,"nzValue","nzFormat","nzCountdownFinish"],[1,"not-valid"],[4,"ngIf"]],template:function(R,j){1&R&&(T.TgZ(0,"div",0)(1,"h3",1),T._uU(2),T.ALo(3,"translate"),T.qZA()(),T.YNc(4,X,21,16,"div",2),T.ALo(5,"async")),2&R&&(T.xp6(2),T.Oqu(T.lcZ(3,2,"CONFIRM_DEVICE.CONFIRM_DIALOG.TITLE")),T.xp6(2),T.Q6J("ngIf",T.lcZ(5,4,j.timer$)))},directives:[J.O5,D._Y,D.JL,D.sg,e.F6],pipes:[w.X$,J.Ov],styles:[".mr-0[_ngcontent-%COMP%]{margin-right:0}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.d-block[_ngcontent-%COMP%]{display:block!important}.hidden[_ngcontent-%COMP%]{display:none!important}.not-valid[_ngcontent-%COMP%]{color:#dc0006}"]}),z})()},77730:(se,$,f)=>{"use strict";f.r($),f.d($,{LoginModule:()=>vt});var C=f(36362),t=f(90923),A=f(32920),g=f(30445),T=f(2686),D=f(19720),b=f(90587),O=f(8146),J=f(28784),e=f(13068),w=f(16916),Q=f(69495),n=f(3184),i=f(33935);function X(_,y){if(1&_){const h=n.EpF();n.TgZ(0,"span")(1,"span",25),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",16)(5,"button",26),n.NdJ("click",function(){n.CHM(h);const x=n.oxw();return x.onPickProvider(x.oauthProvider.google)}),n._UZ(6,"img",27),n.TgZ(7,"span"),n._uU(8),n.ALo(9,"translate"),n.qZA()()(),n.TgZ(10,"div",16)(11,"button",26),n.NdJ("click",function(){n.CHM(h);const x=n.oxw();return x.onPickProvider(x.oauthProvider.apple)}),n._UZ(12,"img",28),n.TgZ(13,"span"),n._uU(14),n.ALo(15,"translate"),n.qZA()()()()}if(2&_){const h=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,5,"REGISTER_PICK_PAGE.SEPARATOR")),n.xp6(4),n.MGl("src","",h.urlService.getAssetsUrl(),"/images/pages/register/google.svg",n.LSH),n.xp6(2),n.Oqu(n.lcZ(9,7,"REGISTER_PICK_PAGE.GOOGLE")),n.xp6(4),n.MGl("src","",h.urlService.getAssetsUrl(),"/images/pages/register/apple.svg",n.LSH),n.xp6(2),n.Oqu(n.lcZ(15,9,"REGISTER_PICK_PAGE.APPLE"))}}const Y=function(_){return{"d-lg-block":_}},z=function(_){return{"d-none":_}};let k=(()=>{class _{constructor(h,u,x,H,re){this.socialAuthService=h,this.router=u,this.urlService=x,this.featureFlagService=H,this.appleProvider=re,this.userType="person",this.onPickProvider=(ae,de="register")=>{const Ae=JSON.stringify({userType:this.userType,origin:de,provider:ae});switch(ae){case t.uBk.google:this.socialAuthService.signIn(e.tV.PROVIDER_ID,{ux_mode:"redirect",redirect_uri:w.N.googleProvider.redirect_uri,state:Ae});break;case t.uBk.apple:this.appleProvider.initApple(Ae,w.N.appleProvider.clientId).finally(()=>{this.appleProvider.signIn()});break;default:this.router.navigate(["/login/new",{userType:this.userType}])}}}get oauthProvider(){return t.uBk}get isEnabledOauth(){return this.featureFlagService.isEnabled("account.oauth")}isUserPerson(){return"person"===this.userType}isUserCompany(){return"company"===this.userType}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(e.xE),n.Y36(D.F0),n.Y36(t.iOJ),n.Y36(t.QtJ),n.Y36(Q.E))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-register-pick"]],decls:45,vars:49,consts:[["alt","","src","assets/images/register/cable-person.svg",1,"space-drawing-register","cable","d-none",3,"ngClass"],["alt","","src","assets/images/register/cable-company.svg",1,"space-drawing-register","cable","d-none",3,"ngClass"],[1,"card-page-outer","mt-2"],[1,"text-box","position-relative","text-center","pb-3","mt-0"],[1,"register-title",3,"ngClass"],[1,"register-subtitle"],[1,"d-none","d-md-block","mb-sm-2","create-account",3,"innerHTML"],[1,"card-page-contents","register","space-drawing-contents"],["alt","","src","assets/images/register/spaceman-person.svg",1,"space-drawing","spaceman-register","d-none",3,"ngClass"],["alt","","src","assets/images/register/rocket-person.svg",1,"space-drawing","rocket","d-none",3,"ngClass"],["alt","","src","assets/images/register/spaceman-company.svg",1,"space-drawing","spaceman-register","d-none",3,"ngClass"],["alt","","src","assets/images/register/rocket-company.svg",1,"space-drawing","rocket","d-none",3,"ngClass"],[1,"card-tab"],[1,"card-page-inner","pb-0","px-0","px-md-4","pt-0","pt-md-2"],[1,"container-fluid","px-md-4"],[1,"form-block","pt-0"],[1,"pb-3","pb-sm-0","mt-4"],["type","submit","name","register",1,"b2m-btn","btn-solid","w-100","register-button",3,"click"],[4,"ngIf"],[1,"access-text","inside","pb-4","my-sm-2"],[1,"text-center"],["routerLink","/login",1,"login-link"],[1,"text-box","text-center","my-5","welcome-text","d-block"],["aria-hidden","true",1,"b2msf-logo-icon"],[1,"mt-2"],[1,"separator"],["type","submit","name","oauth",1,"b2m-btn","btn-line","w-100",3,"click"],["alt","Google","title","Google",1,"oauth-icon","mr-2",3,"src"],["alt","Apple","title","Apple",1,"oauth-icon","mr-2",3,"src"]],template:function(h,u){1&h&&(n._UZ(0,"img",0)(1,"img",1),n.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"h2",4),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",5),n._UZ(11,"span",6),n.ALo(12,"translate"),n.qZA()(),n.TgZ(13,"div",7),n._UZ(14,"img",8)(15,"img",9)(16,"img",10)(17,"img",11),n.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"div")(22,"div",15)(23,"div",16)(24,"button",17),n.NdJ("click",function(){return u.onPickProvider("email&pass")}),n.TgZ(25,"span"),n._uU(26),n.ALo(27,"translate"),n.qZA()()(),n.YNc(28,X,16,11,"span",18),n.TgZ(29,"div",19)(30,"h4",20),n._uU(31),n.ALo(32,"translate"),n.TgZ(33,"a",21)(34,"strong"),n._uU(35),n.ALo(36,"translate"),n.qZA()()()()()()()()()(),n.TgZ(37,"div",22),n._UZ(38,"i",23),n.TgZ(39,"h4",24),n._uU(40),n.ALo(41,"translate"),n.qZA(),n.TgZ(42,"h4"),n._uU(43),n.ALo(44,"translate"),n.qZA()()()),2&h&&(n.Q6J("ngClass",n.VKq(33,Y,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(35,Y,u.isUserCompany())),n.xp6(3),n.Q6J("ngClass",n.VKq(37,z,u.isUserCompany())),n.xp6(1),n.hij(" ",n.lcZ(6,17,"REGISTER_PAGE.CARD_TITLE")," "),n.xp6(2),n.Q6J("ngClass",n.VKq(39,z,u.isUserPerson())),n.xp6(1),n.hij(" ",n.lcZ(9,19,"REGISTER_PAGE.CARD_TITLE_COMPANY")," "),n.xp6(3),n.Q6J("innerHTML",n.lcZ(12,21,"REGISTER_PAGE.TITLE_RIGHT_COLUMN"),n.oJD),n.xp6(3),n.Q6J("ngClass",n.VKq(41,Y,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(43,Y,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(45,Y,u.isUserCompany())),n.xp6(1),n.Q6J("ngClass",n.VKq(47,Y,u.isUserCompany())),n.xp6(9),n.Oqu(n.lcZ(27,23,"REGISTER_PICK_PAGE.EMAIL_AND_PASSWORD")),n.xp6(2),n.Q6J("ngIf",u.isEnabledOauth),n.xp6(3),n.hij(" ",n.lcZ(32,25,"REGISTER_PAGE.HEADING_LOGIN_BUTTON_SMALL")," "),n.xp6(4),n.Oqu(n.lcZ(36,27,"REGISTER_PAGE.LOGIN_LINK_TEXT_SMALL")),n.xp6(5),n.Oqu(n.lcZ(41,29,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_1")),n.xp6(3),n.Oqu(n.lcZ(44,31,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2")))},directives:[C.mk,C.O5,D.yS],pipes:[i.X$],styles:['.register-title[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:400;font-size:40px;line-height:48px;letter-spacing:-.25px;color:#fff}.register-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.create-account[_ngcontent-%COMP%]{max-width:375px;font-family:Open Sans;font-style:normal;font-weight:700;font-size:16px;line-height:24px;text-align:center;color:#fff}.tab.container-fluid[_ngcontent-%COMP%]{padding:0 65px}h2[_ngcontent-%COMP%]{font-size:40px;font-weight:lighter;font-family:Open Sans;color:#333}.h4.text-center[_ngcontent-%COMP%]{font-size:14px;font-weight:200;font-family:Open Sans;color:#333}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:400;font-family:Open Sans}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .b2msf-briefcase-line[_ngcontent-%COMP%]{font-size:25px}.type-button[_ngcontent-%COMP%]{text-align:center}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:2px solid #044e97}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#044e97;font-weight:700}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#044e97}.form-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 360px){h2[_ngcontent-%COMP%]{font-size:20px;font-weight:400;font-family:Open Sans}span[_ngcontent-%COMP%]{font-size:12px;font-weight:16px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 0!important;font-size:16px}}@media (max-width: 450px){.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 0!important;font-size:16px}span[_ngcontent-%COMP%]{font-size:12px}.tab.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.register-title[_ngcontent-%COMP%]{font-size:20px;line-height:28px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .b2msf-briefcase-line[_ngcontent-%COMP%]{font-size:20px}}.card-page-inner[_ngcontent-%COMP%]{padding-top:.5rem!important}.tab[_ngcontent-%COMP%]{overflow:hidden;width:100%}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:center;border:none;outline:none;cursor:pointer;padding:3px 25px 10px 20px;color:#6e6e6e;font-family:Open Sans;font-style:normal;font-weight:400;font-size:20px;line-height:28px;text-align:center}.card-tab[_ngcontent-%COMP%]{align-items:center;size:40vmax}.title-register[_ngcontent-%COMP%]{border-bottom:0px;margin-bottom:5px;padding:0}.access-text.inside[_ngcontent-%COMP%]{position:center}.access-text.inside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:400;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#6e6e6e;flex:none;order:0;flex-grow:0;margin:0 8px}.access-text.inside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:600;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#066cd1;flex:none;order:1;flex-grow:0;margin:0 8px}.welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:400;font-size:24px;line-height:32px;text-align:center;color:#fafafa}.separator[_ngcontent-%COMP%]{display:table;line-height:24px;margin:1em auto;color:#7f7f7f;position:relative;text-align:center;width:85%;white-space:nowrap}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{border-top:1px solid #cccccc;content:"";display:table-cell;position:relative;top:.8em;width:42%}.separator[_ngcontent-%COMP%]:before{right:1em}.separator[_ngcontent-%COMP%]:after{left:1em}.oauth-icon[_ngcontent-%COMP%]{width:7%}@media (max-width: 450px){.card-page-outer[_ngcontent-%COMP%]{min-height:800px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}}']}),_})();const R=["recaptcha"];function j(_,y){1&_&&(n.TgZ(0,"div",20)(1,"h4"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"p",21),n._uU(5),n.ALo(6,"translate"),n.qZA()()),2&_&&(n.xp6(2),n.Oqu(n.lcZ(3,2,"LOGIN_PAGE.TEXT_HEADING_LOGIN_BOX_1")),n.xp6(3),n.Oqu(n.lcZ(6,4,"LOGIN_PAGE.TEXT_HEADING_LOGIN_BOX_2")))}function N(_,y){1&_&&(n.TgZ(0,"h4"),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"p",21),n._uU(4),n.ALo(5,"translate"),n.qZA()),2&_&&(n.xp6(1),n.Oqu(n.lcZ(2,2,"LOGIN_PAGE.TEXT_HEADING_LOGIN_TITLE_OAUTH")),n.xp6(3),n.Oqu(n.lcZ(5,4,"LOGIN_PAGE.TEXT_HEADING_LOGIN_MESSAGE_OAUTH")))}const G=function(_){return{email:_}};function ne(_,y){if(1&_&&(n.TgZ(0,"div",22)(1,"h4",23),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",24),n._UZ(5,"p",25),n.ALo(6,"translate"),n._UZ(7,"br"),n.TgZ(8,"p"),n._uU(9),n.ALo(10,"translate"),n.qZA()()()),2&_){const h=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,3,"LOGIN_PAGE.OAUTH_ALERT_TITLE")),n.xp6(3),n.Q6J("innerHTML",n.xi3(6,5,"LOGIN_PAGE.OAUTH_ALERT_TEXT1",n.VKq(10,G,null==h.oauth?null:h.oauth.email)),n.oJD),n.xp6(4),n.Oqu(n.lcZ(10,8,"LOGIN_PAGE.OAUTH_ALERT_TEXT2"))}}function te(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"FORM.VALIDATIONS.WRONG_CREDENTIALS")))}function me(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function ee(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function q(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"FORM.VALIDATIONS.WRONG_CREDENTIALS")))}function U(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}function Ze(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.PASSWORD_INPUT.REQUIRED_ERROR")," "))}const Ne=function(_){return{value:_}};function Et(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_LONGER",n.VKq(4,Ne,h.passwordLimits.minLength))," ")}}function bt(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_SHORTER",n.VKq(4,Ne,h.passwordLimits.maxLength))," ")}}const Mt=function(_){return{submitted:_}},nt=function(_,y){return{"b2msf-eye":_,"b2msf-eye-slash":y}};function It(_,y){if(1&_){const h=n.EpF();n.TgZ(0,"form",26,27),n.NdJ("ngSubmit",function(){return n.CHM(h),n.oxw().onSubmit()}),n.TgZ(2,"fieldset",28)(3,"label",29),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"div",30)(7,"input",31),n.NdJ("blur",function(){return n.CHM(h),n.oxw().handleBlurEmailInput()}),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"div",32),n.YNc(10,te,3,3,"div",14),n.YNc(11,me,3,3,"div",14),n.YNc(12,ee,3,3,"div",14),n.qZA()(),n.TgZ(13,"fieldset",28)(14,"label",33),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"div",30)(18,"input",34),n.NdJ("blur",function(){return n.CHM(h),n.oxw().handleBlurPasswordInput()}),n.ALo(19,"translate"),n.qZA(),n.TgZ(20,"div",35)(21,"button",36),n.NdJ("click",function(){return n.CHM(h),n.oxw().togglePasswordVisible()}),n._UZ(22,"i",37),n.qZA()()(),n.TgZ(23,"div",32),n.YNc(24,q,3,3,"div",14),n.YNc(25,U,3,3,"div",14),n.YNc(26,Ze,3,3,"div",14),n.YNc(27,Et,3,6,"div",14),n.YNc(28,bt,3,6,"div",14),n.qZA()(),n.TgZ(29,"bngx-recaptcha",38,39),n.NdJ("success",function(){return n.CHM(h),n.oxw().submitLoginForm()})("error",function(x){return n.CHM(h),n.oxw().onRecaptchaError(x)}),n.qZA(),n.TgZ(31,"div",40)(32,"a",41),n._uU(33),n.ALo(34,"translate"),n.qZA(),n.TgZ(35,"a",42),n._uU(36),n.ALo(37,"translate"),n.qZA()(),n._UZ(38,"bngx-too-many-requests-warning",43),n.TgZ(39,"button",44),n._uU(40),n.ALo(41,"translate"),n.qZA()()}if(2&_){const h=n.MAs(1),u=n.oxw();n.Q6J("formGroup",u.loginForm)("ngClass",n.VKq(40,Mt,h.submitted)),n.xp6(4),n.Oqu(n.lcZ(5,26,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.s9C("autofocus",!u.isMobile()&&!u.isOauth),n.Q6J("placeholder",n.lcZ(8,28,"FORM.EMAIL_INPUT.PLACEHOLDER"))("readonly",u.isOauth),n.xp6(3),n.Q6J("ngIf",u.wrongCredentials),n.xp6(1),n.Q6J("ngIf",null==u.loginForm.controls.email.errors?null:u.loginForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.loginForm.controls.email.errors?null:u.loginForm.controls.email.errors.required),n.xp6(3),n.Oqu(n.lcZ(16,30,"FORM.PASSWORD_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("type",u.passwordVisible?"text":"password")("placeholder",n.lcZ(19,32,"FORM.PASSWORD_INPUT.PLACEHOLDER")),n.xp6(4),n.Q6J("ngClass",n.WLB(42,nt,!u.passwordVisible,u.passwordVisible)),n.xp6(2),n.Q6J("ngIf",u.wrongCredentials),n.xp6(1),n.Q6J("ngIf",null==u.loginForm||null==u.loginForm.controls||null==u.loginForm.controls.password||null==u.loginForm.controls.password.errors?null:u.loginForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.loginForm.controls.password.errors?null:u.loginForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.loginForm.controls.password.errors?null:u.loginForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==u.loginForm.controls.password.errors?null:u.loginForm.controls.password.errors.maxlength),n.xp6(1),n.Q6J("siteKey",u.siteKey),n.xp6(4),n.Oqu(n.lcZ(34,34,"LOGIN_PAGE.RECOVER_PASSWORD_BUTTON_TEXT")),n.xp6(3),n.Oqu(n.lcZ(37,36,"LOGIN_PAGE.RECOVER_PASSWORD_BUTTON_TEXT_2")),n.xp6(2),n.Q6J("remainingMinutes",u.remainingMinutes)("showTooManyRequestsWarning",u.showTooManyRequestsWarning),n.xp6(1),n.Q6J("disabled",u.submitting||u.showTooManyRequestsWarning)("bngxLoadingLayer",u.submitting),n.xp6(1),n.hij(" ",n.lcZ(41,38,"LOGIN_PAGE.LOGIN_BUTTON")," ")}}function Le(_,y){if(1&_){const h=n.EpF();n.TgZ(0,"div")(1,"span",45),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",46)(5,"button",47),n.NdJ("click",function(){n.CHM(h);const x=n.oxw();return x.onPickProvider(x.oauthProvider.google,"login")}),n._UZ(6,"img",48),n.TgZ(7,"span"),n._uU(8),n.ALo(9,"translate"),n.qZA()()(),n.TgZ(10,"div",46)(11,"button",47),n.NdJ("click",function(){n.CHM(h);const x=n.oxw();return x.onPickProvider(x.oauthProvider.apple,"login")}),n._UZ(12,"img",49),n.TgZ(13,"span"),n._uU(14),n.ALo(15,"translate"),n.qZA()()()()}if(2&_){const h=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,5,"REGISTER_PICK_PAGE.SEPARATOR")),n.xp6(4),n.MGl("src","",h.urlService.getAssetsUrl(),"/images/pages/register/google.svg",n.LSH),n.xp6(2),n.Oqu(n.lcZ(9,7,"LOGIN_PAGE.OAUTH_OPTIONS.GOOGLE")),n.xp6(4),n.MGl("src","",h.urlService.getAssetsUrl(),"/images/pages/register/apple.svg",n.LSH),n.xp6(2),n.Oqu(n.lcZ(15,9,"LOGIN_PAGE.OAUTH_OPTIONS.APPLE"))}}function we(_,y){1&_&&(n.TgZ(0,"div",50)(1,"a",51),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&_&&(n.xp6(2),n.Oqu(n.lcZ(3,1,"LOGIN_PAGE.REGISTER_BUTTON_TEXT_2")))}function it(_,y){1&_&&(n.TgZ(0,"div",50)(1,"a",52),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&_&&(n.xp6(2),n.Oqu(n.lcZ(3,1,"LOGIN_PAGE.REGISTER_BUTTON_TEXT_2")))}let xt=(()=>{class _{constructor(h,u,x,H,re,ae,de,Ae,Re,Je,ye,$e,Ke,An,Cn,Pn){this.authService=h,this.modalService=u,this.activatedRoute=x,this.notificationService=H,this.translate=re,this.environmentService=ae,this.urlService=de,this.formBuilder=Ae,this.loggerService=Re,this.changeDetectorRef=Je,this.router=ye,this.route=$e,this.layoutService=Ke,this.registerPickPage=An,this.featureFlagService=Cn,this.accountAnalyticsService=Pn,this.loginData={email:"",password:""},this.recaptchaData="",this.passwordLimits={minLength:6,maxLength:64},this.passwordVisible=!1,this.wrongCredentials=!1,this.expiredSession=!1,this.loginRequired=!1,this.showTooManyRequestsWarning=!1}ngOnInit(){var h;const u=this.route.snapshot.queryParamMap.get("provider"),x=this.route.snapshot.queryParamMap.get("token"),H=this.route.snapshot.queryParamMap.get("email");x&&(this.oauth=new t.As6(u,x,H)),this.siteKey=this.environmentService.recaptchaSitekey,this.loginForm=this.formBuilder.group({email:[null===(h=this.oauth)||void 0===h?void 0:h.email,[b.kI.required,b.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],password:["",[b.kI.required,b.kI.pattern(/^\S*$/),b.kI.minLength(this.passwordLimits.minLength),b.kI.maxLength(this.passwordLimits.maxLength)]],recaptcha:[]})}ngAfterViewInit(){setTimeout(()=>this.activatedRoute.queryParams.subscribe(h=>{const{reason:u,email:x}=h;if(x&&this.loginForm.get("email").setValue(x),u){switch(u){case"expired":{const H="LOGIN_PAGE.EXPIRED_ALERT.TITLE",re="LOGIN_PAGE.EXPIRED_ALERT.DESCRIPTION";this.translate.get([H,re]).subscribe(ae=>{this.notificationService.info(ae[re],ae[H],{nzDuration:0})});break}case"required":{const H="LOGIN_PAGE.LOGIN_REQUIRED_ALERT.TITLE",re="LOGIN_PAGE.LOGIN_REQUIRED_ALERT.DESCRIPTION";this.translate.get([H,re]).subscribe(ae=>{this.notificationService.info(ae[re],ae[H],{nzDuration:0})});break}}this.router.navigate([])}}),50)}get isOauth(){return!!this.oauth}get oauthProvider(){return t.uBk}get isEnabledOauth(){return this.featureFlagService.isEnabled("account.oauth")}onPickProvider(h,u){this.registerPickPage.onPickProvider(h,u)}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}setClickTimeout(h){let u=null;clearTimeout(u),u=setTimeout(()=>{u=null,h()},200)}onSubmit(){this.submitting=!0,this.recaptcha.ngControl.value?this.setClickTimeout(()=>this.submitLoginForm()):this.recaptcha.execute(),this.submitting=!1}submitLoginForm(){if(this.loginForm.invalid)return void(this.submitting=!1);let h;this.showTooManyRequestsWarning&&(this.submitting=!0);const u=this.loginForm.getRawValue();u.recaptcha&&(h={recaptcha:u.recaptcha}),u.email=u.email.trim(),this.authService.login(u,h).subscribe(x=>{this.submitting=!1,x.deviceAuthRequired?this.modalService.open(O.s,{nzComponentParams:{responseSfa:x,oauth:this.oauth},nzClosable:!1,nzMaskClosable:!1}):x.sfa?(this.submitting=!0,this.show2FAPopup(x)):(this.oauth&&this.authService.linkOauth(this.oauth).subscribe(),this.accountAnalyticsService.trackGoogleAnalyticLoginEvent(this.authService.getUserInfo().sub),this.authService.navigateToCorrectUrl())},x=>{var H;if(this.submitting=!1,401===x.status&&(this.wrongCredentials=!0),409===x.status&&this.recaptcha&&this.recaptcha.resetCaptcha(),429===x.status&&(null===(H=null==x?void 0:x.error)||void 0===H?void 0:H.message.includes("rateLimitRemaining"))){const re=JSON.parse(x.error.message);this.remainingMinutes=re.rateLimitRemaining,this.showTooManyRequestsWarning=!0}this.recaptcha&&this.recaptcha.resetCaptcha()})}show2FAPopup(h){try{const u=this.modalService.open(t.cDe,{nzComponentParams:{responseSfa:h},nzMaskClosable:!1});h.accessToken.expirationTime=null,u.afterClose.subscribe(x=>{if(x){if(x.deviceAuthRequired)this.modalService.open(O.s,{nzComponentParams:{responseSfa:h,oauth:this.oauth},nzClosable:!1,nzMaskClosable:!1});else{if(x instanceof J.UA)throw new Error(x.message);this.oauth&&this.authService.linkOauth(this.oauth).subscribe(),this.redirecting=!0,this.authService.navigateToCorrectUrl()}this.submitting=!1}},()=>{this.submitting=!1},()=>{this.recaptcha&&this.recaptcha.resetCaptcha(),this.submitting=!1})}catch(u){this.loggerService.error(u),this.submitting=!1}}onRecaptchaError(h){this.submitting=!1,this.loggerService.error("error",h)}handleBlurEmailInput(){this.changeDetectorRef.detectChanges()}handleBlurPasswordInput(){this.changeDetectorRef.detectChanges()}isMobile(){return this.layoutService.isMobile()}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.e80),n.Y36(t.Z7U),n.Y36(D.gz),n.Y36(t.TFo),n.Y36(i.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(b.qu),n.Y36(t.mQy),n.Y36(n.sBO),n.Y36(D.F0),n.Y36(D.gz),n.Y36(t.Pb3),n.Y36(k),n.Y36(t.QtJ),n.Y36(t.p$5))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-login"]],viewQuery:function(h,u){if(1&h&&n.Gf(R,5),2&h){let x;n.iGM(x=n.CRH())&&(u.recaptcha=x.first)}},features:[n._Bn([k])],decls:33,vars:20,consts:[["context","fullscreen",1,"extern",3,"bngxLoadingLayer"],["alt","","src","assets/images/login/cable.svg",1,"space-drawing-login","cable","d-none","d-lg-block"],[1,"card-page-outer","px-2","px-sm-0","mt-2"],[1,"text-box","position-relative","text-center","login-title","pb-3","mt-0"],["class","d-none d-sm-block",4,"ngIf","ngIfElse"],["oauthTitle",""],[1,"d-block","d-sm-none"],[1,"card-page-contents","login","space-drawing-contents"],["alt","","src","assets/images/login/spaceman.svg",1,"space-drawing","spaceman-login","d-none","d-lg-block"],["alt","","src","assets/images/login/rocket.svg",1,"space-drawing","rocket","d-none","d-lg-block"],["class","oauth-alert alert alert-primary w-75 mt-5 mb-0","role","alert",4,"ngIf"],[1,"card-page-inner","pb-0","px-0","px-md-4"],[1,"container-fluid"],["novalidate","","autocomplete","off",3,"formGroup","ngClass","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"text-center","register-text","register-inside","pb-4","my-sm-2"],["style","display:inline",4,"ngIf"],[1,"text-box","text-center","my-5","welcome-text","d-block"],["aria-hidden","true",1,"b2msf-logo-icon"],[1,"mt-2"],[1,"d-none","d-sm-block"],[1,"mb-sm-4"],["role","alert",1,"oauth-alert","alert","alert-primary","w-75","mt-5","mb-0"],[1,"alert-heading"],[1,"alert-contents"],[3,"innerHTML"],["novalidate","","autocomplete","off",3,"formGroup","ngClass","ngSubmit"],["loginFormTemplate","ngForm"],[1,"form-group"],["for","email"],[1,"input-group","border","rounded"],["name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"autofocus","placeholder","readonly","blur"],[1,"invalid-feedback"],["for","password-input"],["name","password","id","password-input","formControlName","password","autocomplete","off",3,"type","placeholder","blur"],[1,"input-addon","right"],["type","button",3,"click"],["aria-hidden","true",3,"ngClass"],["name","recaptcha","formControlName","recaptcha",3,"siteKey","success","error"],["recaptcha",""],[1,"clearfix"],["routerLink","recover-password","title","",1,"float-right","pass","d-none","d-sm-block","pb-2"],["routerLink","recover-password","title","",1,"float-left","pass-small","d-block","d-sm-none","pb-4"],[3,"remainingMinutes","showTooManyRequestsWarning"],["type","submit",1,"b2m-btn","btn-solid","w-100","mb-3","mt-2","mt-md-5",3,"disabled","bngxLoadingLayer"],[1,"separator"],[1,"pb-3","pb-sm-0","mt-4"],["type","submit","name","oauth",1,"b2m-btn","btn-line","w-100",3,"click"],["alt","Google","title","Google",1,"oauth-icon","mr-2",3,"src"],["alt","Apple","title","Apple",1,"oauth-icon","mr-2",3,"src"],[2,"display","inline"],["routerLink","pick"],["routerLink","new"]],template:function(h,u){if(1&h&&(n._UZ(0,"div",0)(1,"img",1),n.TgZ(2,"div",2)(3,"div",3),n.YNc(4,j,7,6,"div",4),n.YNc(5,N,6,6,"ng-template",null,5,n.W1O),n.TgZ(7,"div",6)(8,"p"),n._uU(9),n.ALo(10,"translate"),n.qZA()()(),n.TgZ(11,"div",7),n._UZ(12,"img",8)(13,"img",9),n.YNc(14,ne,11,12,"div",10),n.TgZ(15,"div",11)(16,"div",12),n.YNc(17,It,42,45,"form",13),n.YNc(18,Le,16,11,"div",14),n.TgZ(19,"h4",15),n._uU(20),n.ALo(21,"translate"),n._UZ(22,"br",6),n.YNc(23,we,4,3,"div",16),n.YNc(24,it,4,3,"div",16),n.qZA()()()(),n.TgZ(25,"div",17),n._UZ(26,"i",18),n.TgZ(27,"h4",19),n._uU(28),n.ALo(29,"translate"),n.qZA(),n.TgZ(30,"h4"),n._uU(31),n.ALo(32,"translate"),n.qZA()()()),2&h){const x=n.MAs(6);n.Q6J("bngxLoadingLayer",u.redirecting),n.xp6(4),n.Q6J("ngIf",!u.isOauth)("ngIfElse",x),n.xp6(5),n.Oqu(n.lcZ(10,12,"LOGIN_PAGE.TEXT_HEADING_LOGIN_BOX")),n.xp6(5),n.Q6J("ngIf",u.isOauth),n.xp6(3),n.Q6J("ngIf",u.loginForm),n.xp6(1),n.Q6J("ngIf",u.isEnabledOauth&&!u.isOauth),n.xp6(2),n.hij(" ",n.lcZ(21,14,"LOGIN_PAGE.HEADING_REGISTER_BUTTON")," "),n.xp6(3),n.Q6J("ngIf",u.isEnabledOauth),n.xp6(1),n.Q6J("ngIf",!u.isEnabledOauth),n.xp6(4),n.Oqu(n.lcZ(29,16,"LOGIN_PAGE.TEXT_UNDER_LOGIN_BOX_1")),n.xp6(3),n.Oqu(n.lcZ(32,18,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2"))}},directives:[t.gO3,C.O5,b._Y,b.JL,b.sg,C.mk,b.Fj,b.JJ,b.u,t.Uqp,t.uu0,D.yS,t.tUR],pipes:[i.X$],styles:['*[_ngcontent-%COMP%]{font-family:Open Sans}.container-fluid[_ngcontent-%COMP%]{padding:0 35px}.login-title[_ngcontent-%COMP%]{text-align:center}.login-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:40px;line-height:48px;letter-spacing:-.25px;color:#fff}.login-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:24px;line-height:32px;color:#fff}@media (max-width: 575px){.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.container-fluid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:400;line-height:32px;letter-spacing:0px;text-align:left;margin-bottom:5px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}}.pass[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;text-align:right;letter-spacing:.25px;color:#066cd1}.pass-small[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:12px;line-height:16px;letter-spacing:.25px;color:#066cd1}.register-text[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#6e6e6e}.register-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#066cd1}.text-box[_ngcontent-%COMP%]{margin-top:2vh}.text-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fafafa}.text-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;letter-spacing:.25px;text-align:left;color:#333}.welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:24px;line-height:32px;text-align:center;color:#fafafa}.separator[_ngcontent-%COMP%]{display:table;line-height:24px;margin:1em auto;color:#7f7f7f;position:relative;text-align:center;width:85%;white-space:nowrap}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{border-top:1px solid #cccccc;content:"";display:table-cell;position:relative;top:.8em;width:42%}.separator[_ngcontent-%COMP%]:before{right:1em}.separator[_ngcontent-%COMP%]:after{left:1em}.oauth-icon[_ngcontent-%COMP%]{width:7%}@media (max-width: 450px){.card-page-outer[_ngcontent-%COMP%]{min-height:800px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}}']}),_})();function ot(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function rt(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function Ve(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"RECOVER_PAGE.EMAIL_NOT_FOUND")," "))}const St=function(_){return{submitted:_}};let Zt=(()=>{class _{constructor(h,u,x,H,re,ae,de){this.authService=h,this.notificationService=u,this.router=x,this.translate=H,this.environmentService=re,this.urlService=ae,this.formBuilder=de,this.recoverData={email:"",langCode:"es"}}ngOnInit(){this.recoverForm=this.formBuilder.group({email:["",[b.kI.required,b.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],langCode:[this.getLangCode()]})}submitRecoverPasswordForm(){this.recoverForm.invalid||(this.submitting=!0,this.authService.resetPassword(this.recoverForm.getRawValue()).subscribe(()=>{this.notificationService.success(this.translate.instant("RECOVER_PAGE.CHECK_YOUR_EMAIL")),this.submitting=!1,this.router.navigate(["/login/send-email-password"],{queryParams:{email:this.recoverForm.getRawValue().email}})},h=>{if(this.submitting=!1,404===h.status)return this.recoverForm.controls.email.setErrors({emailNotFoundError:!0}),void this.notificationService.error(this.translate.instant("RECOVER_PAGE.EMAIL_NOT_FOUND"));h.status<500&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0})}))}getLangCode(){return this.translate.currentLang}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.e80),n.Y36(t.TFo),n.Y36(D.F0),n.Y36(i.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(b.qu))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-recover"]],decls:28,vars:24,consts:[[1,"card-page-outer"],[1,"text-box","position-relative","text-center","login-title","pb-3","mt-0"],[1,"d-none","d-sm-block"],[3,"innerHTML"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"container-fluid"],["name","recover-password-form","autocomplete","off",1,"recover-password-form","needs-validation",3,"formGroup","ngClass","ngSubmit"],["recoverFormTemplate","ngForm"],[1,"form-group"],["for","email"],[1,"input-group","border","rounded"],["autofocus","","name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","mb-0","w-100",3,"disabled","bngxLoadingLayer"]],template:function(h,u){if(1&h&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"h4",3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"div",2),n._UZ(6,"p",3),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"form",7,8),n.NdJ("ngSubmit",function(){return u.submitRecoverPasswordForm()}),n.TgZ(13,"fieldset",9)(14,"strong")(15,"label",10),n._uU(16),n.ALo(17,"translate"),n.qZA()(),n.TgZ(18,"div",11),n._UZ(19,"input",12),n.ALo(20,"translate"),n.qZA(),n.TgZ(21,"div",13),n.YNc(22,ot,3,3,"div",14),n.YNc(23,rt,3,3,"div",14),n.YNc(24,Ve,3,3,"div",14),n.qZA()(),n.TgZ(25,"button",15),n._uU(26),n.ALo(27,"translate"),n.qZA()()()()()()),2&h){const x=n.MAs(12);n.xp6(3),n.Q6J("innerHTML",n.lcZ(4,12,"RECOVER_PAGE.CARD_TITLE"),n.oJD),n.xp6(3),n.Q6J("innerHTML",n.lcZ(7,14,"RECOVER_PAGE.CARD_TEXT"),n.oJD),n.xp6(5),n.Q6J("formGroup",u.recoverForm)("ngClass",n.VKq(22,St,x.submitted)),n.xp6(5),n.Oqu(n.lcZ(17,16,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("placeholder",n.lcZ(20,18,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("ngIf",null==u.recoverForm.controls.email.errors?null:u.recoverForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.recoverForm.controls.email.errors?null:u.recoverForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.recoverForm.controls.email.errors?null:u.recoverForm.controls.email.errors.emailNotFoundError),n.xp6(1),n.Q6J("disabled",u.submitting)("bngxLoadingLayer",u.submitting),n.xp6(1),n.hij(" ",n.lcZ(27,20,"RECOVER_PAGE.SUBMIT_BUTTON_TEXT")," ")}},directives:[b._Y,b.JL,b.sg,C.mk,b.Fj,t.Uqp,b.JJ,b.u,C.O5,t.gO3],pipes:[i.X$],styles:[".form-block[_ngcontent-%COMP%]{padding-top:30px}h4[_ngcontent-%COMP%]{font-weight:600;color:#fff;margin-bottom:15px}p[_ngcontent-%COMP%]{color:#fff}"]}),_})(),Pe=(()=>{class _{constructor(h){this.urlService=h}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.iOJ))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-validate-email"]],decls:8,vars:4,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"container-fluid"],["alt","Validate email image",3,"src"]],template:function(h,u){1&h&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"translate"),n.qZA()()()()()),2&h&&(n.xp6(4),n.MGl("src","",u.urlService.getAssetsUrl(),"/images/pages/register/validate-email/graphic.png",n.LSH),n.xp6(2),n.Oqu(n.lcZ(7,2,"VALIDATE_EMAIL_PAGE.VALIDATE_EMAIL")))},pipes:[i.X$],styles:['.card-page-inner[_ngcontent-%COMP%]{padding:40px}img[_ngcontent-%COMP%]{width:80%;display:block;margin-left:auto;margin-right:auto}p[_ngcontent-%COMP%]{font-family:"Montserrat",Arial,Sans-serif;font-weight:500;font-size:21px;line-height:28px;text-align:center;margin-top:30px;margin-bottom:0}']}),_})();var Lt=f(76317),Ue=f(54108),at=f(30897);const Oe=["recaptcha"],K=["pass"];function Rt(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function st(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function yt(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.ALREADY_EXISTS")," "))}function ze(_,y){1&_&&n._UZ(0,"i",65)}function Ee(_,y){1&_&&n._UZ(0,"i",66)}function Dt(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.PASSWORD_INPUT.REQUIRED_ERROR")," "))}function be(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}const Fe=function(_){return{value:_}};function Nt(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_LONGER",n.VKq(4,Fe,h.passwordLimits.minLength))," ")}}function lt(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_SHORTER",n.VKq(4,Fe,h.passwordLimits.maxLength))," ")}}function ct(_,y){if(1&_){const h=n.EpF();n.TgZ(0,"fieldset",26)(1,"label"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",28),n._UZ(5,"input",57,58),n.ALo(7,"translate"),n.ALo(8,"translate"),n.TgZ(9,"div",59)(10,"button",60),n.NdJ("click",function(){return n.CHM(h),n.oxw().togglePasswordVisible()}),n.YNc(11,ze,1,0,"i",61),n.YNc(12,Ee,1,0,"i",62),n.qZA()(),n._UZ(13,"bngx-password-strength",63),n.qZA(),n.TgZ(14,"p",64),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"div",30),n.YNc(18,Dt,3,3,"div",31),n.YNc(19,be,3,3,"div",31),n.YNc(20,Nt,3,6,"div",31),n.YNc(21,lt,3,6,"div",31),n.qZA()()}if(2&_){const h=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,13,"FORM.PASSWORD_INPUT.LABEL")),n.xp6(3),n.Q6J("type",h.passwordVisible?"text":"password")("placeholder",n.lcZ(7,15,"FORM.PASSWORD_INPUT.PLACEHOLDER"))("nzTooltipTitle",n.lcZ(8,17,"FORM.PASSWORD_INPUT.TOOLTIP"))("maxlength",h.passwordLimits.maxLength+1),n.xp6(6),n.Q6J("ngIf",h.passwordVisible),n.xp6(1),n.Q6J("ngIf",!h.passwordVisible),n.xp6(1),n.Q6J("password",null==h.registerForm||null==h.registerForm.value?null:h.registerForm.value.password),n.xp6(2),n.Oqu(n.xi3(16,19,"FORM.PASSWORD_INPUT.INFO_MIN_CHAR",n.VKq(22,Fe,h.passwordLimits.minLength))),n.xp6(3),n.Q6J("ngIf",null==h.registerForm||null==h.registerForm.controls||null==h.registerForm.controls.password||null==h.registerForm.controls.password.errors?null:h.registerForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==h.registerForm||null==h.registerForm.controls||null==h.registerForm.controls.password||null==h.registerForm.controls.password.errors?null:h.registerForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==h.registerForm||null==h.registerForm.controls||null==h.registerForm.controls.password||null==h.registerForm.controls.password.errors?null:h.registerForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==h.registerForm||null==h.registerForm.controls||null==h.registerForm.controls.password||null==h.registerForm.controls.password.errors?null:h.registerForm.controls.password.errors.maxlength)}}function wt(_,y){1&_&&(n.TgZ(0,"div")(1,"div",67),n._UZ(2,"input",68),n.ALo(3,"translate"),n.qZA()()),2&_&&(n.xp6(2),n.Q6J("placeholder",n.lcZ(3,1,"FORM.REFERRAL_CODE_INPUT.PLACEHOLDER")))}function Ut(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.REFERRAL_CODE_INPUT.INVALID_ERROR")," "))}function Ft(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.REFERRAL_CODE_INPUT.REQUIRED_ERROR")," "))}function qt(_,y){if(1&_&&(n.TgZ(0,"div",30),n.YNc(1,Ut,3,3,"div",31),n.YNc(2,Ft,3,3,"div",31),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.Q6J("ngIf",null==h.registerForm.controls.referralCode||null==h.registerForm.controls.referralCode.errors?null:h.registerForm.controls.referralCode.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==h.registerForm.controls.referralCode||null==h.registerForm.controls.referralCode.errors?null:h.registerForm.controls.referralCode.errors.required)}}function kt(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"REGISTER_PAGE.TERMS_AND_CONDITIONS_REQUIRED_ERROR")," "))}const Me=function(_){return{"d-lg-block":_}},dt=function(_){return{"d-none":_}},gt=function(_){return{active:_}},Gt=function(_){return{submitted:_}},Yt=function(){return{standalone:!0}},Jt=function(_){return{"d-sm-none":_}},Qt=function(_){return{"d-sm-inline":_}},Vt=function(_){return{link:_}};let pt=(()=>{class _{constructor(h,u,x,H,re,ae,de,Ae,Re,Je,ye,$e,Ke){this.authService=h,this.notificationService=u,this.translate=x,this.environmentService=H,this.urlService=re,this.formBuilder=ae,this.route=de,this.affiliatesService=Ae,this.cookiesService=Re,this.accountAnalyticsService=Je,this.router=ye,this.localeService=$e,this.layoutService=Ke,this.siteKey=w.N.recaptchaSitekey,this.passwordVisible=!1,this.passwordLimits={minLength:6,maxLength:64},this.termsChecked$=new Lt.X(!1),this.formType="register"}ngOnInit(){var h,u;this.quickRegister=this.cookiesService.get(this.environmentService.cookieNames.quickRegister);const x=this.route.snapshot.queryParamMap.get("email")||this.quickRegister||"",H={person:"person",company:"company"};this.userType=null!==(u=null!==(h=H[this.route.snapshot.params.userType])&&void 0!==h?h:H[this.route.snapshot.queryParamMap.get("type")])&&void 0!==u?u:"person";const re=this.route.snapshot.queryParamMap.get("provider"),ae=this.route.snapshot.queryParamMap.get("token");ae&&(this.oauth=new t.As6(re,ae,x));const de={email:[{value:x,disabled:!!x},[b.kI.required,b.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],password:["",[b.kI.pattern(/^\S*$/),b.kI.minLength(this.passwordLimits.minLength),b.kI.maxLength(this.passwordLimits.maxLength)]],terms:[!1,[b.kI.requiredTrue]],recaptcha:[""],langCode:[this.localeService.getAvailableLanguage().code],currencyCode:["EUR"],timeZone:[this.getTimezone()],referralCode:["",[b.kI.pattern(/[-_0-9A-Za-z]{7,14}/)]],type:[this.userType]};this.isOauth&&delete de.password,this.registerForm=this.formBuilder.group(de),this.injectReferralCodeIfExists()}get isOauth(){return!!this.oauth}ngAfterViewInit(){this.quickRegister&&setTimeout(()=>{this.passInput.nativeElement.focus()})}getTimezone(){return Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Europe/Madrid"}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}onSubmitForm(){this.registerForm.invalid||(this.recaptcha.resetCaptcha(),this.recaptcha.execute())}handleRecaptchaError(){this.submitting=!1}submitForm(){!this.registerForm.invalid&&this.isTermsValid()?this.submitRegisterForm():this.submitting=!1}submitRegisterForm(){this.submitting=!0,this.emailAlreadyExists=!1;const h=this.registerForm.controls.referralCode.value;h&&this.isUrl(h)&&this.injectReferralCodeIfUrlInserted();const u=this.registerForm.getRawValue();if(this.isReferralCodeChecked){if(!h||h.length<0)return this.registerForm.controls.referralCode.setErrors({required:!0}),void(this.submitting=!1);if(!this.checkReferralCode(u.referralCode))return this.registerForm.controls.referralCode.setErrors({pattern:!0}),void(this.submitting=!1)}else delete u.referralCode;u.email=u.email.trim(),this.authService.register(u).subscribe(x=>{this.accountAnalyticsService.trackGoogleAnalyticSignUpEvent(x.id),this.notificationService.success(this.translate.instant("REGISTER_PAGE.REGISTER_DONE")),this.affiliatesService.deleteReferralCookie(),this.quickRegister&&this.cookiesService.remove(this.environmentService.cookieNames.quickRegister,{domain:this.environmentService.cookieNames.domain},!1),this.oauth&&this.authService.linkOauth(this.oauth).subscribe(),this.authService.navigateToCorrectUrl()},x=>{409===x.status?(this.registerForm.controls.email.setErrors({emailAlreadyExists:!0}),this.notificationService.error(this.translate.instant("FORM.EMAIL_INPUT.ALREADY_EXISTS"))):404===x.status?this.registerForm.controls.referralCode.setErrors({pattern:!0}):x.status<500&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0}),this.recaptcha.resetCaptcha(),this.submitting=!1})}checkReferralCode(h){return h&&h.length<=14&&!h.includes("@")}injectReferralCodeIfExists(){let h=this.getReferralCode();!h||(h.length>14&&(h=h.substring(0,14)),this.isReferralCodeChecked=!0,this.registerForm.patchValue({referralCode:h}))}injectReferralCodeIfUrlInserted(){var h,u;const H=null===(u=null===(h=this.registerForm.controls.referralCode.value.split("?")[1])||void 0===h?void 0:h.split("=")[1])||void 0===u?void 0:u.split("r")[0];this.isReferralCodeChecked=!0,this.registerForm.patchValue({referralCode:H})}isUrl(h){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(h)}getReferralCode(){return this.affiliatesService.getReferralCookie()||localStorage.getItem("b2m-referral")}onClickTerms(){this.termsChecked$.next(!this.termsChecked$.value)}onClickReferralCode(h){h||this.registerForm.controls.referralCode.reset()}isTermsValid(){const{classList:h}=document.getElementById("terms-input");return!!h.contains("ng-valid")||(window.location.reload(),!1)}isUserPerson(){return"person"===this.userType}isUserCompany(){return"company"===this.userType}setUserType(h){this.userType=h,this.registerForm.patchValue({type:h})}isMobile(){return this.layoutService.isMobile()}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.e80),n.Y36(t.TFo),n.Y36(i.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(b.qu),n.Y36(D.gz),n.Y36(t.Oiz),n.Y36(t.Fhc),n.Y36(t.p$5),n.Y36(D.F0),n.Y36(t.OLO),n.Y36(t.Pb3))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-register"]],viewQuery:function(h,u){if(1&h&&(n.Gf(Oe,5),n.Gf(K,5)),2&h){let x;n.iGM(x=n.CRH())&&(u.recaptcha=x.first),n.iGM(x=n.CRH())&&(u.passInput=x.first)}},decls:106,vars:120,consts:[["alt","","src","assets/images/register/cable-person.svg",1,"space-drawing-register","cable","d-none",3,"ngClass"],["alt","","src","assets/images/register/cable-company.svg",1,"space-drawing-register","cable","d-none",3,"ngClass"],[1,"card-page-outer","mt-2"],[1,"text-box","position-relative","text-center","pb-3","mt-0"],[1,"register-title",3,"ngClass"],[1,"register-subtitle"],[1,"d-none","d-md-block","mb-sm-2","create-account",3,"innerHTML"],[1,"card-page-contents","register","space-drawing-contents"],["alt","","src","assets/images/register/spaceman-person.svg",1,"space-drawing","spaceman-register","d-none",3,"ngClass"],["alt","","src","assets/images/register/rocket-person.svg",1,"space-drawing","rocket","d-none",3,"ngClass"],["alt","","src","assets/images/register/spaceman-company.svg",1,"space-drawing","spaceman-register","d-none",3,"ngClass"],["alt","","src","assets/images/register/rocket-company.svg",1,"space-drawing","rocket","d-none",3,"ngClass"],[1,"card-page-title-box","title-register"],[1,"tab","container-fluid"],[1,"row","mt-3","mt-sm-0","mt-md-4"],[1,"col-6","type-button"],[1,"personal-button",3,"ngClass","click"],["aria-hidden","true",1,"b2msf-brand-account"],[1,"company-button",3,"ngClass","click"],["aria-hidden","true",1,"b2msf-briefcase-line"],[1,"card-tab"],[1,"card-page-inner","pb-0","px-0","px-md-4","pt-0","pt-md-2"],[1,"container-fluid","px-md-4"],[1,"form-block","pt-0"],["name","registerForm","autocomplete","off",3,"formGroup","ngClass","ngSubmit"],["registerFormTemplate","ngForm"],[1,"form-group"],["for","email-input"],[1,"input-group","border","rounded"],["name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"autofocus","placeholder","readonly"],[1,"invalid-feedback"],[4,"ngIf"],["class","form-group",4,"ngIf"],[1,"py-0","py-md-1"],[3,"ngModel","ngModelOptions","nzSize","ngModelChange"],["for","referral-code-input",1,"pl-2"],["nz-popover","",1,"value",3,"nzPopoverTitle","nzPopoverContent","nzPopoverPlacement"],["aria-hidden","true",1,"b2msf-question-circle-line"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","checkbox"],[1,"b2m-checkbox","py-0","py-md-1"],["type","checkbox","id","terms-input","name","terms","formControlName","terms",1,"form-control",3,"checked","change"],["for","terms-input"],[1,"d-inline",3,"ngClass"],[3,"innerHTML"],[1,"d-none",3,"ngClass"],["target","blank","rel","noopener noreferrer",1,"pl-1","terms-link",3,"href"],["name","recaptcha","formControlName","recaptcha",3,"siteKey","success","error"],["recaptcha",""],[1,"pb-3","pb-sm-0","mt-4"],["type","submit","context","replace",1,"b2m-btn","btn-solid","w-100","sm-3","register-button",3,"disabled","bngxLoadingLayer"],[1,"access-text","inside","pb-4","my-sm-2"],[1,"text-center"],["routerLink","/login",1,"login-link"],[1,"text-box","text-center","my-5","welcome-text","d-block"],["aria-hidden","true",1,"b2msf-logo-icon"],[1,"mt-2"],["id","password-input","name","password","formControlName","password","nz-tooltip","","nzTooltipPlacement","bottom","nzTooltipTrigger","focus","autocomplete","off",3,"type","placeholder","nzTooltipTitle","maxlength"],["pass",""],[1,"input-addon","right"],["type","button",3,"click"],["aria-hidden","true","class","b2msf-eye-slash",4,"ngIf"],["aria-hidden","true","class","b2msf-eye",4,"ngIf"],[3,"password"],[1,"pass-min-char","mb-sm-3"],["aria-hidden","true",1,"b2msf-eye-slash"],["aria-hidden","true",1,"b2msf-eye"],[1,"input-group","border","rounded","mt-sm-3"],["autofocus","","name","referralCode","type","text","id","referral-code-input","formControlName","referralCode","autocomplete","off",1,"form-control",3,"placeholder"]],template:function(h,u){if(1&h&&(n._UZ(0,"img",0)(1,"img",1),n.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"h2",4),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",5),n._UZ(11,"span",6),n.ALo(12,"translate"),n.qZA()(),n.TgZ(13,"div",7),n._UZ(14,"img",8)(15,"img",9)(16,"img",10)(17,"img",11),n.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"button",16),n.NdJ("click",function(){return u.setUserType("person")}),n._UZ(23,"i",17),n.TgZ(24,"span"),n._uU(25),n.ALo(26,"translate"),n.qZA()()(),n.TgZ(27,"div",15)(28,"button",18),n.NdJ("click",function(){return u.setUserType("company")}),n._UZ(29,"i",19),n.TgZ(30,"span"),n._uU(31),n.ALo(32,"translate"),n.qZA()()()()()(),n.TgZ(33,"div",20)(34,"div",21)(35,"div",22)(36,"div")(37,"div",23)(38,"form",24,25),n.NdJ("ngSubmit",function(){return u.onSubmitForm()}),n.TgZ(40,"fieldset",26)(41,"label",27),n._uU(42),n.ALo(43,"translate"),n.qZA(),n.TgZ(44,"div",28),n._UZ(45,"input",29),n.ALo(46,"translate"),n.qZA(),n.TgZ(47,"div",30),n.YNc(48,Rt,3,3,"div",31),n.YNc(49,st,3,3,"div",31),n.YNc(50,yt,3,3,"div",31),n.qZA()(),n.YNc(51,ct,22,24,"fieldset",32),n.TgZ(52,"fieldset",26)(53,"div",33)(54,"nz-switch",34),n.NdJ("ngModelChange",function(H){return u.isReferralCodeChecked=H})("ngModelChange",function(H){return u.onClickReferralCode(H)}),n.qZA(),n.TgZ(55,"label",35)(56,"span"),n._uU(57),n.ALo(58,"translate"),n.qZA(),n.TgZ(59,"span",36),n.ALo(60,"translate"),n.ALo(61,"translate"),n._UZ(62,"i",37),n.qZA()(),n.YNc(63,wt,4,3,"div",31),n.qZA(),n.YNc(64,qt,3,2,"div",38),n.qZA(),n.TgZ(65,"fieldset",39)(66,"div",40)(67,"input",41),n.NdJ("change",function(){return u.onClickTerms()}),n.ALo(68,"async"),n.qZA(),n.TgZ(69,"label",42)(70,"div",43),n._UZ(71,"span",44),n.ALo(72,"translate"),n.qZA(),n.TgZ(73,"div",45),n._UZ(74,"span",44),n.ALo(75,"translate"),n.qZA(),n.TgZ(76,"a",46),n.ALo(77,"translate"),n.TgZ(78,"strong"),n._uU(79),n.ALo(80,"translate"),n.qZA()()()(),n.TgZ(81,"div",30),n.YNc(82,kt,3,3,"div",31),n.qZA()(),n.TgZ(83,"bngx-recaptcha",47,48),n.NdJ("success",function(){return u.submitForm()})("error",function(){return u.handleRecaptchaError()}),n.qZA(),n.TgZ(85,"div",49)(86,"button",50)(87,"span"),n._uU(88),n.ALo(89,"translate"),n.qZA()()()(),n.TgZ(90,"div",51)(91,"h4",52),n._uU(92),n.ALo(93,"translate"),n.TgZ(94,"a",53)(95,"strong"),n._uU(96),n.ALo(97,"translate"),n.qZA()()()()()()()()()(),n.TgZ(98,"div",54),n._UZ(99,"i",55),n.TgZ(100,"h4",56),n._uU(101),n.ALo(102,"translate"),n.qZA(),n.TgZ(103,"h4"),n._uU(104),n.ALo(105,"translate"),n.qZA()()()),2&h){const x=n.MAs(39);n.Q6J("ngClass",n.VKq(91,Me,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(93,Me,u.isUserCompany())),n.xp6(3),n.Q6J("ngClass",n.VKq(95,dt,u.isUserCompany())),n.xp6(1),n.hij(" ",n.lcZ(6,50,"REGISTER_PAGE.CARD_TITLE")," "),n.xp6(2),n.Q6J("ngClass",n.VKq(97,dt,u.isUserPerson())),n.xp6(1),n.hij(" ",n.lcZ(9,52,"REGISTER_PAGE.CARD_TITLE_COMPANY")," "),n.xp6(3),n.Q6J("innerHTML",n.lcZ(12,54,"REGISTER_PAGE.TITLE_RIGHT_COLUMN"),n.oJD),n.xp6(3),n.Q6J("ngClass",n.VKq(99,Me,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(101,Me,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(103,Me,u.isUserCompany())),n.xp6(1),n.Q6J("ngClass",n.VKq(105,Me,u.isUserCompany())),n.xp6(5),n.Q6J("ngClass",n.VKq(107,gt,u.isUserPerson())),n.xp6(3),n.hij(" ",n.lcZ(26,56,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_PERSONAL")," "),n.xp6(3),n.Q6J("ngClass",n.VKq(109,gt,u.isUserCompany())),n.xp6(3),n.hij(" ",n.lcZ(32,58,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_COMPANY")," "),n.xp6(7),n.Q6J("formGroup",u.registerForm)("ngClass",n.VKq(111,Gt,x.submitted)),n.xp6(4),n.Oqu(n.lcZ(43,60,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.s9C("autofocus",!u.isMobile()),n.Q6J("placeholder",n.lcZ(46,62,"FORM.EMAIL_INPUT.PLACEHOLDER"))("readonly",u.isOauth),n.xp6(3),n.Q6J("ngIf",null==u.registerForm||null==u.registerForm.controls||null==u.registerForm.controls.email||null==u.registerForm.controls.email.errors?null:u.registerForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.registerForm||null==u.registerForm.controls||null==u.registerForm.controls.email||null==u.registerForm.controls.email.errors?null:u.registerForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.registerForm||null==u.registerForm.controls||null==u.registerForm.controls.email||null==u.registerForm.controls.email.errors?null:u.registerForm.controls.email.errors.emailAlreadyExists),n.xp6(1),n.Q6J("ngIf",!u.oauth),n.xp6(3),n.Q6J("ngModel",u.isReferralCodeChecked)("ngModelOptions",n.DdM(113,Yt))("nzSize","small"),n.xp6(3),n.hij(" ",n.lcZ(58,64,"FORM.REFERRAL_CODE_INPUT.LABEL")," "),n.xp6(2),n.Q6J("nzPopoverTitle",n.lcZ(60,66,"FORM.REFERRAL_CODE_INPUT.TOOLTIP.TITLE"))("nzPopoverContent",n.lcZ(61,68,"FORM.REFERRAL_CODE_INPUT.TOOLTIP.LABEL"))("nzPopoverPlacement","right"),n.xp6(4),n.Q6J("ngIf",u.isReferralCodeChecked),n.xp6(1),n.Q6J("ngIf",u.isReferralCodeChecked),n.xp6(3),n.Q6J("checked",n.lcZ(68,70,u.termsChecked$)),n.xp6(3),n.Q6J("ngClass",n.VKq(114,Jt,u.isUserPerson())),n.xp6(1),n.Q6J("innerHTML",n.lcZ(72,72,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LABEL_COMPANY"),n.oJD),n.xp6(2),n.Q6J("ngClass",n.VKq(116,Qt,u.isUserPerson())),n.xp6(1),n.Q6J("innerHTML",n.lcZ(75,74,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LABEL"),n.oJD),n.xp6(2),n.Q6J("href",n.xi3(77,76,"REGISTER_PAGE.TERMS_LINKS.TERMS",n.VKq(118,Vt,u.urlService.service("web"))),n.LSH),n.xp6(3),n.Oqu(n.lcZ(80,79,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LINK")),n.xp6(3),n.Q6J("ngIf",null==u.registerForm||null==u.registerForm.controls||null==u.registerForm.controls.terms||null==u.registerForm.controls.terms.errors?null:u.registerForm.controls.terms.errors.required),n.xp6(1),n.Q6J("siteKey",u.siteKey),n.xp6(3),n.Q6J("disabled",u.submitting)("bngxLoadingLayer",u.submitting),n.xp6(2),n.Oqu(n.lcZ(89,81,"REGISTER_PAGE.REGISTER_BUTTON_TEXT_"+u.userType.toUpperCase())),n.xp6(4),n.hij(" ",n.lcZ(93,83,"REGISTER_PAGE.HEADING_LOGIN_BUTTON_SMALL")," "),n.xp6(4),n.Oqu(n.lcZ(97,85,"REGISTER_PAGE.LOGIN_LINK_TEXT_SMALL")),n.xp6(5),n.Oqu(n.lcZ(102,87,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_1")),n.xp6(3),n.Oqu(n.lcZ(105,89,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2"))}},directives:[C.mk,b._Y,b.JL,b.sg,b.Fj,b.JJ,b.u,t.Uqp,C.O5,A.SY,b.nD,Ue.I,g.i,b.On,at.lU,b.Wl,t.uu0,t.gO3,D.yS],pipes:[i.X$,C.Ov],styles:["*[_ngcontent-%COMP%]{font-family:Open Sans}.register-title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:40px;line-height:48px;letter-spacing:-.25px;color:#fff}.register-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.create-account[_ngcontent-%COMP%]{max-width:375px;font-style:normal;font-weight:700;font-size:16px;line-height:24px;text-align:center;color:#fff}.tab.container-fluid[_ngcontent-%COMP%]{padding:0 65px}h2[_ngcontent-%COMP%]{font-size:40px;font-weight:lighter;color:#333}.h4.text-center[_ngcontent-%COMP%]{font-size:14px;font-weight:200;color:#333}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .b2msf-briefcase-line[_ngcontent-%COMP%]{font-size:25px}.type-button[_ngcontent-%COMP%]{text-align:center}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:2px solid #044e97}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#044e97;font-weight:700}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#044e97}.form-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.form-group.checkbox[_ngcontent-%COMP%]{margin:15px}.b2m-checkbox[_ngcontent-%COMP%], .b2m-radio[_ngcontent-%COMP%]{padding-left:10px}.terms-link[_ngcontent-%COMP%]{font-size:14px;color:inherit}@media (max-width: 360px){h2[_ngcontent-%COMP%]{font-size:20px;font-weight:400}span[_ngcontent-%COMP%]{font-size:12px;font-weight:16px}.form-group[_ngcontent-%COMP%]{margin:3px 0}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 0!important;font-size:16px}}@media (max-width: 450px){.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 0!important;font-size:16px}span[_ngcontent-%COMP%], .terms-link[_ngcontent-%COMP%]{font-size:12px}.tab.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.register-title[_ngcontent-%COMP%]{font-size:20px;line-height:28px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .b2msf-briefcase-line[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 768px){bngx-recaptcha[_ngcontent-%COMP%]    {flex-direction:column;align-items:unset}bngx-recaptcha[_ngcontent-%COMP%]     ngx-invisible-recaptcha{margin-right:0!important}bngx-recaptcha[_ngcontent-%COMP%]     .invalid-feedback{margin-top:10px!important}}.register-button[_ngcontent-%COMP%]     .loader-contents{padding:0!important}.show-hide[_ngcontent-%COMP%]{color:#044e97}.card-page-inner[_ngcontent-%COMP%]{padding-top:0}.tab[_ngcontent-%COMP%]{overflow:hidden;width:100%}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:center;border:none;outline:none;cursor:pointer;padding:3px 25px 10px 20px;color:#6e6e6e;font-style:normal;font-weight:400;font-size:20px;line-height:28px;text-align:center}.card-tab[_ngcontent-%COMP%]{align-items:center;size:40vmax}.b2msf-question-circle-line[_ngcontent-%COMP%]{color:#8a8a8a;font-size:16px;margin-left:5px}.title-register[_ngcontent-%COMP%]{border-bottom:0px;margin-bottom:5px;padding:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;letter-spacing:.25px;text-align:left;color:#333}.form-group[_ngcontent-%COMP%]   .pass-min-char[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;color:#001a3399;font-style:normal}.access-text.inside[_ngcontent-%COMP%]{position:center}.access-text.inside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#6e6e6e;flex:none;order:0;flex-grow:0;margin:0 8px}.access-text.inside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#066cd1;flex:none;order:1;flex-grow:0;margin:0 8px}.welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:24px;line-height:32px;text-align:center;color:#fafafa}@media (max-width: 450px){.card-page-outer[_ngcontent-%COMP%]{min-height:800px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}}"]}),_})();function ut(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"NEW_PASSWORD_PAGE.PASSWORD_IS_REQUIRED")," "))}function _t(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}const Ie=function(_){return{value:_}};function zt(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"NEW_PASSWORD_PAGE.MIN_LENGTH",n.VKq(4,Ie,h.passwordLimits.minLength))," ")}}function Bt(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"NEW_PASSWORD_PAGE.MAX_LENGTH",n.VKq(4,Ie,h.passwordLimits.maxLength))," ")}}function ue(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"NEW_PASSWORD_PAGE.PASSWORD_IS_REQUIRED")," "))}function qe(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}function mt(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"NEW_PASSWORD_PAGE.MIN_LENGTH",n.VKq(4,Ie,h.passwordLimits.minLength))," ")}}function ft(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"NEW_PASSWORD_PAGE.MAX_LENGTH",n.VKq(4,Ie,h.passwordLimits.maxLength))," ")}}function Ht(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.VALIDATIONS.PASSWORD_NOT_MATCHES",n.VKq(4,Ie,h.passwordLimits.maxLength))," ")}}const jt=function(_){return{submitted:_}},Be=function(_,y){return{"b2msf-eye":_,"b2msf-eye-slash":y}};let Wt=(()=>{class _{constructor(h,u,x,H,re,ae,de){this.route=h,this.authService=u,this.notificationService=x,this.translate=H,this.environmentService=re,this.urlService=ae,this.formBuilder=de,this.passwordVisible=!1,this.passwordLimits={maxLength:64,minLength:6}}ngOnInit(){this.newPasswordForm=this.formBuilder.group({password:["",[b.kI.required,b.kI.pattern(/^\S*$/),b.kI.minLength(this.passwordLimits.minLength),b.kI.maxLength(this.passwordLimits.maxLength)]],passwordRepeat:["",[b.kI.required,b.kI.pattern(/^\S*$/),b.kI.minLength(this.passwordLimits.minLength),b.kI.maxLength(this.passwordLimits.maxLength)]],token:[this.route.snapshot.params.token]})}isTheSameNewPassword(){return this.newPasswordForm.get("password").value===this.newPasswordForm.get("passwordRepeat").value}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}submitNewPasswordForm(){if(this.newPasswordForm.invalid)return;this.submitting=!0;const h=this.newPasswordForm.getRawValue();if(!this.isTheSameNewPassword())return this.newPasswordForm.controls.passwordRepeat.setErrors({passwordNotMatches:!0}),void(this.submitting=!1);delete h.passwordRepeat,this.authService.confirmResetPassword(h).subscribe(()=>{this.submitting=!1,this.notificationService.success(this.translate.instant("TOAST.CHANGE_PASSWORD.SUCCESS")),this.authService.signout("updated-password")},u=>{this.submitting=!1,this.notificationService.error(this.translate.instant(412!==u.status&&400!==u.status?"CORE_UI.TOAST.UNRECOGNIZED_ERROR":"NEW_PASSWORD_PAGE.VALIDATIONS.INVALID_TOKEN"))})}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(D.gz),n.Y36(t.e80),n.Y36(t.TFo),n.Y36(i.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(b.qu))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-new-password"]],decls:52,vars:47,consts:[[1,"header-box","pb-4","pb-md-0","mb-4"],[1,"title-header"],[1,"label-header","px-2","px-md-0"],[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"container-fluid"],[1,"row"],[1,"col-12","form-block"],["name","new-password-form","autocomplete","off",1,"new-password-form","needs-validation",3,"formGroup","ngClass","ngSubmit"],["newPasswordFormTemplate","ngForm"],[1,"form-group"],["for","password-input"],[1,"input-group","border","rounded"],["autofocus","","name","password","id","password-input","formControlName","password","autocomplete","off",1,"form-control",3,"type","placeholder"],[1,"input-addon","right"],["type","button",3,"click"],[3,"ngClass"],[3,"password"],[1,"invalid-feedback"],[4,"ngIf"],["for","password-input repeat"],["autofocus","","name","password-repeat","id","password-input repeat","formControlName","passwordRepeat","autocomplete","off",1,"form-control",3,"type","placeholder"],["type","submit",1,"b2m-btn","btn-solid","mb-0",3,"bngxLoadingLayer","disabled"]],template:function(h,u){if(1&h&&(n.TgZ(0,"div",0)(1,"h2",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"p",2),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"form",9,10),n.NdJ("ngSubmit",function(){return u.submitNewPasswordForm()}),n.TgZ(15,"fieldset",11)(16,"label",12)(17,"strong"),n._uU(18),n.ALo(19,"translate"),n.qZA()(),n.TgZ(20,"div",13),n._UZ(21,"input",14),n.ALo(22,"translate"),n.TgZ(23,"div",15)(24,"button",16),n.NdJ("click",function(){return u.togglePasswordVisible()}),n._UZ(25,"i",17),n.qZA()(),n._UZ(26,"bngx-password-strength",18),n.qZA(),n.TgZ(27,"div",19),n.YNc(28,ut,3,3,"div",20),n.YNc(29,_t,3,3,"div",20),n.YNc(30,zt,3,6,"div",20),n.YNc(31,Bt,3,6,"div",20),n.qZA()(),n.TgZ(32,"fieldset",11)(33,"label",21)(34,"strong"),n._uU(35),n.ALo(36,"translate"),n.qZA()(),n.TgZ(37,"div",13),n._UZ(38,"input",22),n.ALo(39,"translate"),n.TgZ(40,"div",15)(41,"button",16),n.NdJ("click",function(){return u.togglePasswordVisible()}),n._UZ(42,"i",17),n.qZA()()(),n.TgZ(43,"div",19),n.YNc(44,ue,3,3,"div",20),n.YNc(45,qe,3,3,"div",20),n.YNc(46,mt,3,6,"div",20),n.YNc(47,ft,3,6,"div",20),n.YNc(48,Ht,3,6,"div",20),n.qZA()(),n.TgZ(49,"button",23),n._uU(50),n.ALo(51,"translate"),n.qZA()()()()()()()()),2&h){const x=n.MAs(14);n.xp6(2),n.Oqu(n.lcZ(3,25,"NEW_PASSWORD_PAGE.CARD_TITLE")),n.xp6(3),n.Oqu(n.lcZ(6,27,"NEW_PASSWORD_PAGE.PROVIDE_A_PASSWORD")),n.xp6(8),n.Q6J("formGroup",u.newPasswordForm)("ngClass",n.VKq(39,jt,x.submitted)),n.xp6(5),n.Oqu(n.lcZ(19,29,"NEW_PASSWORD_PAGE.PASSWORD_LABEL")),n.xp6(3),n.Q6J("type",u.passwordVisible?"text":"password")("placeholder",n.lcZ(22,31,"NEW_PASSWORD_PAGE.PASSWORD_PLACEHOLDER")),n.xp6(4),n.Q6J("ngClass",n.WLB(41,Be,!u.passwordVisible,u.passwordVisible)),n.xp6(1),n.Q6J("password",null==u.newPasswordForm||null==u.newPasswordForm.value?null:u.newPasswordForm.value.password),n.xp6(2),n.Q6J("ngIf",null==u.newPasswordForm.controls.password.errors?null:u.newPasswordForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.password.errors?null:u.newPasswordForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.password.errors?null:u.newPasswordForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.password.errors?null:u.newPasswordForm.controls.password.errors.maxlength),n.xp6(4),n.Oqu(n.lcZ(36,33,"NEW_PASSWORD_PAGE.PASSWORD_LABEL_REPEAT")),n.xp6(3),n.Q6J("type",u.passwordVisible?"text":"password")("placeholder",n.lcZ(39,35,"NEW_PASSWORD_PAGE.PASSWORD_LABEL_REPEAT")),n.xp6(4),n.Q6J("ngClass",n.WLB(44,Be,!u.passwordVisible,u.passwordVisible)),n.xp6(2),n.Q6J("ngIf",null==u.newPasswordForm.controls.passwordRepeat.errors?null:u.newPasswordForm.controls.passwordRepeat.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.passwordRepeat.errors?null:u.newPasswordForm.controls.passwordRepeat.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.passwordRepeat.errors?null:u.newPasswordForm.controls.passwordRepeat.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.passwordRepeat.errors?null:u.newPasswordForm.controls.passwordRepeat.errors.maxlength),n.xp6(1),n.Q6J("ngIf",null==u.newPasswordForm.controls.passwordRepeat.errors?null:u.newPasswordForm.controls.passwordRepeat.errors.passwordNotMatches),n.xp6(1),n.Q6J("bngxLoadingLayer",u.submitting)("disabled",u.submitting),n.xp6(1),n.hij(" ",n.lcZ(51,37,"NEW_PASSWORD_PAGE.RECOVER_BUTTON")," ")}},directives:[b._Y,b.JL,b.sg,C.mk,b.Fj,t.Uqp,b.JJ,b.u,Ue.I,C.O5,t.gO3],pipes:[i.X$],styles:["*[_ngcontent-%COMP%]{font-family:Open Sans}.header-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0;gap:16px;flex:none;order:0;align-self:stretch;flex-grow:0}.header-box[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:32px;line-height:40px;letter-spacing:-.25px;color:#fff;flex:none;order:0;flex-grow:0}@media (max-width: 576px){.header-box[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{font-weight:700;font-size:24px;line-height:32px;text-align:center}}.header-box[_ngcontent-%COMP%]   .label-header[_ngcontent-%COMP%]{width:100%;height:24px;font-style:normal;font-weight:400;font-size:16px;line-height:24px;text-align:center;color:#fff;flex:none;order:1;flex-grow:0}@media (max-width: 576px){.header-box[_ngcontent-%COMP%]   .label-header[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;text-align:center}}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:15px;border:1px solid rgba(4,78,151,.05);box-shadow:0 10px 20px #0000001a}@media (max-width: 576px){.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-bottom:10px;padding-top:1px}}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .form-block[_ngcontent-%COMP%]{padding-top:0}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .form-block[_ngcontent-%COMP%]   a.b2m-btn.btn-solid[_ngcontent-%COMP%], .card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .form-block[_ngcontent-%COMP%]   .b2m-btn.btn-solid[_ngcontent-%COMP%]{text-transform:none;padding:0 16px;gap:8px;width:100%;height:48px;background:#044E97;border-radius:4px}"]}),_})(),ht=(()=>{class _{constructor(h){this.urlService=h}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.iOJ))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-check-email"]],decls:8,vars:4,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"container-fluid"],[3,"src"]],template:function(h,u){1&h&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"translate"),n.qZA()()()()()),2&h&&(n.xp6(4),n.MGl("src","",u.urlService.getAssetsUrl(),"/images/pages/recover/check-email/graphic.png",n.LSH),n.xp6(2),n.Oqu(n.lcZ(7,2,"CHECK_EMAIL_PAGE.CHECK_EMAIL_INSTRUCTIONS")))},pipes:[i.X$],styles:['.card-page-inner[_ngcontent-%COMP%]{padding:40px}img[_ngcontent-%COMP%]{width:80%;display:block;margin-left:auto;margin-right:auto}p[_ngcontent-%COMP%]{font-family:"Montserrat",Arial,Sans-serif;font-weight:500;font-size:21px;line-height:28px;text-align:center;margin-top:30px;margin-bottom:0}']}),_})();var xe=f(28086);const $t=["recaptcha"],Kt=["pass"];function He(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function ke(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function Xt(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.ALREADY_EXISTS")," "))}function fe(_,y){1&_&&n._UZ(0,"i",91)}function Ot(_,y){1&_&&n._UZ(0,"i",92)}function Ge(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.PASSWORD_INPUT.REQUIRED_ERROR")," "))}function Ye(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}const je=function(_){return{value:_}};function en(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_LONGER",n.VKq(4,je,h.passwordLimits.minLength))," ")}}function tn(_,y){if(1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_SHORTER",n.VKq(4,je,h.passwordLimits.maxLength))," ")}}function nn(_,y){1&_&&(n.TgZ(0,"div")(1,"div",93),n._UZ(2,"input",94),n.ALo(3,"translate"),n.qZA()()),2&_&&(n.xp6(2),n.Q6J("placeholder",n.lcZ(3,1,"FORM.REFERRAL_CODE_INPUT.PLACEHOLDER")))}function on(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.REFERRAL_CODE_INPUT.INVALID_ERROR")," "))}function rn(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.REFERRAL_CODE_INPUT.REQUIRED_ERROR")," "))}function an(_,y){if(1&_&&(n.TgZ(0,"div",30),n.YNc(1,on,3,3,"div",31),n.YNc(2,rn,3,3,"div",31),n.qZA()),2&_){const h=n.oxw();n.xp6(1),n.Q6J("ngIf",null==h.registerForm.controls.referralCode||null==h.registerForm.controls.referralCode.errors?null:h.registerForm.controls.referralCode.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==h.registerForm.controls.referralCode||null==h.registerForm.controls.referralCode.errors?null:h.registerForm.controls.referralCode.errors.required)}}function sn(_,y){1&_&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&_&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"REGISTER_PAGE.TERMS_AND_CONDITIONS_REQUIRED_ERROR")," "))}const Se=function(_){return{"d-lg-block":_}},We=function(_){return{"d-none":_}},At=function(_){return{active:_}},Ct=function(_){return{submitted:_}},ln=function(){return{standalone:!0}},cn=function(_){return{"d-sm-none":_}},Pt=function(_){return{"d-sm-inline":_}},ge=function(_){return{link:_}};let dn=(()=>{class _{constructor(h,u,x,H,re,ae,de,Ae,Re,Je,ye){this.authService=h,this.notificationService=u,this.translate=x,this.environmentService=H,this.urlService=re,this.formBuilder=ae,this.activatedRoute=de,this.affiliatesService=Ae,this.cookiesService=Re,this.accountAnalyticsService=Je,this.router=ye,this.submitting=!0,this.siteKey=w.N.recaptchaSitekey,this.passwordVisible=!1,this.passwordLimits={minLength:6,maxLength:64},this.checked=!1,this.showDetailedTerms=!1,this.emailValue="",this.passwordValue="",this.termsAccepted=!1,this.submitted=!1,this.userType="person",this.isReferralCodeChecked=!1,this.CREDENTIALS_QUERY_PARAM_KEY="c"}ngOnInit(){this.initQuickRegister(),this.registerForm=this.formBuilder.group({email:[this.emailValue,[b.kI.required,b.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],password:[this.passwordValue,[b.kI.required,b.kI.pattern(/^\S*$/),b.kI.minLength(this.passwordLimits.minLength),b.kI.maxLength(this.passwordLimits.maxLength)]],terms:[this.termsAccepted,[b.kI.requiredTrue]],recaptcha:[""],langCode:[this.getLangCode()],currencyCode:["EUR"],timeZone:[this.getTimezone()],type:[this.userType]})}initQuickRegister(){this.hasQuickRegisterQueryParams()?this.setQuickRegisterByQueryParams():this.setQuickRegisterByCookie()}hasQuickRegisterQueryParams(){return this.activatedRoute.snapshot.queryParams[this.CREDENTIALS_QUERY_PARAM_KEY]}setQuickRegisterByQueryParams(){this.quickRegisterFull=this.activatedRoute.snapshot.queryParams[this.CREDENTIALS_QUERY_PARAM_KEY],[this.emailValue,this.passwordValue]=this.decodeCookieData(this.quickRegisterFull),this.termsAccepted=!0}setQuickRegisterByCookie(){this.quickRegisterFull=this.cookiesService.get(this.environmentService.cookieNames.quickRegisterData),this.quickRegisterFull?([this.emailValue,this.passwordValue]=this.decodeCookieData(this.quickRegisterFull),this.termsAccepted=!0):(this.quickRegister=this.cookiesService.get(this.environmentService.cookieNames.quickRegister),this.quickRegister&&(this.emailValue=this.quickRegister))}ngAfterViewInit(){this.quickRegisterFull?(this.submitted=!0,this.registerForm.updateValueAndValidity()):this.submitting=!1,this.quickRegister&&setTimeout(()=>{this.passInput.nativeElement.focus()})}getTimezone(){return Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Europe/Madrid"}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}onSubmitForm(){this.registerForm.invalid||(this.recaptcha.resetCaptcha(),this.recaptcha.execute())}handleRecaptchaError(){this.submitting=!1}submitForm(){this.registerForm.invalid?this.submitting=!1:this.submitRegisterForm()}submitRegisterForm(){if(this.registerForm.invalid)return void(this.submitting=!1);this.emailAlreadyExists=!1,this.injectReferralCodeIfExists();const h=this.registerForm.getRawValue();h.email=h.email.trim(),this.authService.register(h).subscribe(u=>{this.accountAnalyticsService.trackGoogleAnalyticSignUpEvent(u.id),this.notificationService.success(this.translate.instant("REGISTER_PAGE.REGISTER_DONE")),this.affiliatesService.deleteReferralCookie(),localStorage.removeItem("b2m-referral"),this.quickRegister&&this.cookiesService.remove(this.environmentService.cookieNames.quickRegister,{domain:this.environmentService.cookieNames.domain},!1),this.authService.navigateToCorrectUrl()},u=>{409===u.status&&!u.message.includes("recaptcha")&&(this.registerForm.controls.email.setErrors({emailAlreadyExists:!0}),this.notificationService.error(this.translate.instant("FORM.EMAIL_INPUT.ALREADY_EXISTS"))),u.status<500&&409!==u.status&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0}),this.recaptcha&&this.recaptcha.resetCaptcha(),this.submitting=!1})}getLangCode(){const h=Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0],x=this.translate.getLangs().some(H=>H===h);return Intl&&x?h:"en"}injectReferralCodeIfExists(){let h=this.affiliatesService.getReferralCookie();!h||(h.length>14&&(h=h.substring(0,14)),this.isReferralCodeChecked=!0,this.registerForm.addControl(h,new b.NI(h,[b.kI.pattern(/[-_0-9A-Za-z]{7,14}/)])))}getReferralCode(){var h;let u=(null===(h=this.activatedRoute.snapshot.queryParams)||void 0===h?void 0:h.r)||localStorage.getItem("b2m-referral")||this.affiliatesService.getReferralCookie();return u?(u.length>14&&(u=u.substring(0,14)),u):""}onClickReferralCode(h){h||this.registerForm.controls.referralCode.reset()}onClickTerms(){document.querySelectorAll('input[type="checkbox"]').forEach(h=>{h.checked=!this.checked}),this.checked=!this.checked}showDetailed(){this.showDetailedTerms=!this.showDetailedTerms}decodeCookieData(h){const[u,x]=atob(h).split(":");return[u,decodeURIComponent(x)]}mockQuickRegisterDataCookie(){const H=this.encodeCookieData("testquickregister123@yopmail.com","123123"),re={domain:this.urlService.getCurrentDomain(),expires:1};this.cookiesService.set(this.environmentService.cookieNames.quickRegisterData,H,re)}encodeCookieData(h,u){const x=encodeURIComponent(u);return btoa(`${h}:${x}`)}setUserType(h){this.userType=h,this.registerForm.patchValue({type:this.userType})}isUserPerson(){return"person"===this.userType}isUserCompany(){return"company"===this.userType}get isQuickRegisterFull(){return Boolean(this.quickRegisterFull)}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.e80),n.Y36(t.TFo),n.Y36(i.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(b.qu),n.Y36(D.gz),n.Y36(t.Oiz),n.Y36(t.Fhc),n.Y36(t.p$5),n.Y36(D.F0))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-register"]],viewQuery:function(h,u){if(1&h&&(n.Gf($t,5),n.Gf(Kt,5)),2&h){let x;n.iGM(x=n.CRH())&&(u.recaptcha=x.first),n.iGM(x=n.CRH())&&(u.passInput=x.first)}},decls:219,vars:240,consts:[["alt","","src","assets/images/register/cable-person.svg",1,"space-drawing-register","cable","d-none",3,"ngClass"],["alt","","src","assets/images/register/cable-company.svg",1,"space-drawing-register","cable","d-none",3,"ngClass"],["context","fullscreen",1,"card-page-outer","mt-2",3,"bngxLoadingLayer"],[1,"text-box","position-relative","text-center","pb-3","mt-0"],[1,"register-title",3,"ngClass"],[1,"register-subtitle"],[1,"d-none","d-md-block","mb-sm-2","create-account",3,"innerHTML"],[1,"card-page-contents","register","space-drawing-contents"],["alt","","src","assets/images/register/spaceman-person.svg",1,"space-drawing","spaceman-register","d-none",3,"ngClass"],["alt","","src","assets/images/register/rocket-person.svg",1,"space-drawing","rocket","d-none",3,"ngClass"],["alt","","src","assets/images/register/spaceman-company.svg",1,"space-drawing","spaceman-register","d-none",3,"ngClass"],["alt","","src","assets/images/register/rocket-company.svg",1,"space-drawing","rocket","d-none",3,"ngClass"],[1,"card-page-title-box","title-register"],[1,"tab","container-fluid"],[1,"row","mt-3","mt-sm-0","mt-md-4"],[1,"col-6","type-button"],[1,"personal-button",3,"ngClass","click"],["aria-hidden","true",1,"b2msf-brand-account"],[1,"company-button",3,"ngClass","click"],["aria-hidden","true",1,"b2msf-briefcase-line"],[1,"card-tab"],[1,"card-page-inner","pb-0","px-0","px-md-4","pt-0","pt-md-2"],[1,"container-fluid","px-md-4"],[1,"form-block","pt-0"],["name","registerForm","autocomplete","off",3,"formGroup","ngClass","ngSubmit"],["registerFormTemplate","ngForm"],[1,"form-group"],["for","email-input"],[1,"input-group","border","rounded"],["autofocus","","name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["id","password-input","name","password","formControlName","password","autocomplete","off",3,"type","placeholder"],["pass",""],[1,"input-addon","right"],["type","button",3,"click"],["class","b2msf-eye-slash",4,"ngIf"],["class","b2msf-eye",4,"ngIf"],[3,"password"],[1,"py-0","py-md-1"],[3,"ngModel","ngModelOptions","nzSize","ngModelChange"],["for","referral-code-input",1,"pl-2"],["nz-popover","",1,"value",3,"nzPopoverTitle","nzPopoverContent","nzPopoverPlacement"],["aria-hidden","true",1,"b2msf-question-circle-line"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","checkbox"],[1,"b2m-checkbox","py-0","py-md-1"],["type","checkbox","id","terms-input","name","terms","formControlName","terms",1,"form-control",3,"click"],["for","terms-input"],[1,"d-inline",3,"ngClass"],[3,"innerHTML"],[1,"d-none",3,"ngClass"],["target","blank","rel","noopener noreferrer",1,"pl-1","terms-link",3,"href"],[1,"checkbox-list","p-1","mt-0",3,"ngClass"],[1,"b2m-checkbox"],["id","terms-conditions","type","checkbox","disabled",""],["for","terms-conditions",1,"mr-1"],["target","blank","rel","noopener noreferrer",3,"href"],["aria-hidden","true",1,"b2msf-external-link"],["id","terms-cookies","type","checkbox","disabled",""],["for","terms-cookies",1,"mr-1"],["id","terms-privacy","type","checkbox","disabled",""],["for","terms-privacy",1,"mr-1"],["id","terms-elec-money","type","checkbox","disabled",""],["for","terms-elec-money",1,"mr-1"],["id","terms-security","type","checkbox","disabled",""],["for","terms-security",1,"mr-1"],["id","terms-aml-kyc","type","checkbox","disabled",""],["for","terms-aml-kyc",1,"mr-1"],["id","terms-antifraud","type","checkbox","disabled",""],["for","terms-antifraud",1,"mr-1"],["id","terms-risks","type","checkbox","disabled",""],["for","terms-risks",1,"mr-1"],["id","terms-marketdata","type","checkbox","disabled",""],["for","terms-marketdata",1,"mr-1"],["id","terms-affiliates","type","checkbox","disabled",""],["for","terms-affiliates",1,"mr-1"],["id","terms-company-registration","type","checkbox","disabled",""],["for","terms-company-registration",1,"mr-1"],["id","terms-kyc-limits","type","checkbox","disabled",""],["for","terms-kyc-limits",1,"mr-1"],["name","recaptcha","formControlName","recaptcha",3,"siteKey","ready","success","error"],["recaptcha",""],["pb-3","","pb-sm-0","","mt-4",""],["type","submit","context","replace",1,"b2m-btn","btn-solid","w-100","my-4","register-button",3,"disabled","bngxLoadingLayer"],[1,"access-text","inside","pb-4","my-sm-2"],[1,"text-center"],["routerLink","/login",1,"login-link"],[1,"text-box","text-center","my-5","welcome-text","d-none","d-md-block"],["aria-hidden","true",1,"b2msf-logo-icon"],[1,"mt-2"],[1,"b2msf-eye-slash"],[1,"b2msf-eye"],[1,"input-group","border","rounded","mt-sm-3"],["autofocus","","name","referralCode","type","text","id","referral-code-input","formControlName","referralCode","autocomplete","off",1,"form-control",3,"placeholder"]],template:function(h,u){if(1&h&&(n._UZ(0,"img",0)(1,"img",1),n.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"h2",4),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"div",5),n._UZ(11,"span",6),n.ALo(12,"translate"),n.qZA()(),n.TgZ(13,"div",7),n._UZ(14,"img",8)(15,"img",9)(16,"img",10)(17,"img",11),n.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"button",16),n.NdJ("click",function(){return u.setUserType("person")}),n._UZ(23,"i",17),n.TgZ(24,"span"),n._uU(25),n.ALo(26,"translate"),n.qZA()()(),n.TgZ(27,"div",15)(28,"button",18),n.NdJ("click",function(){return u.setUserType("company")}),n._UZ(29,"i",19),n.TgZ(30,"span"),n._uU(31),n.ALo(32,"translate"),n.qZA()()()()()(),n.TgZ(33,"div",20)(34,"div",21)(35,"div",22)(36,"div")(37,"div",23)(38,"form",24,25),n.NdJ("ngSubmit",function(){return u.onSubmitForm()}),n.TgZ(40,"fieldset",26)(41,"label",27),n._uU(42),n.ALo(43,"translate"),n.qZA(),n.TgZ(44,"div",28),n._UZ(45,"input",29),n.ALo(46,"translate"),n.qZA(),n.TgZ(47,"div",30),n.YNc(48,He,3,3,"div",31),n.YNc(49,ke,3,3,"div",31),n.YNc(50,Xt,3,3,"div",31),n.qZA()(),n.TgZ(51,"fieldset",26)(52,"label"),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"div",28),n._UZ(56,"input",32,33),n.ALo(58,"translate"),n.TgZ(59,"div",34)(60,"button",35),n.NdJ("click",function(){return u.togglePasswordVisible()}),n.YNc(61,fe,1,0,"i",36),n.YNc(62,Ot,1,0,"i",37),n.qZA()(),n._UZ(63,"bngx-password-strength",38),n.qZA(),n.TgZ(64,"div",30),n.YNc(65,Ge,3,3,"div",31),n.YNc(66,Ye,3,3,"div",31),n.YNc(67,en,3,6,"div",31),n.YNc(68,tn,3,6,"div",31),n.qZA()(),n.TgZ(69,"fieldset",26)(70,"div",39)(71,"nz-switch",40),n.NdJ("ngModelChange",function(H){return u.isReferralCodeChecked=H})("ngModelChange",function(H){return u.onClickReferralCode(H)}),n.qZA(),n.TgZ(72,"label",41)(73,"span"),n._uU(74),n.ALo(75,"translate"),n.qZA(),n.TgZ(76,"span",42),n.ALo(77,"translate"),n.ALo(78,"translate"),n._UZ(79,"i",43),n.qZA()(),n.YNc(80,nn,4,3,"div",31),n.qZA(),n.YNc(81,an,3,2,"div",44),n.qZA(),n.TgZ(82,"fieldset",45)(83,"div",46)(84,"input",47),n.NdJ("click",function(){return u.onClickTerms()}),n.qZA(),n.TgZ(85,"label",48)(86,"div",49),n._UZ(87,"span",50),n.ALo(88,"translate"),n.qZA(),n.TgZ(89,"div",51),n._UZ(90,"span",50),n.ALo(91,"translate"),n.qZA(),n.TgZ(92,"a",52),n.ALo(93,"translate"),n.TgZ(94,"strong"),n._uU(95),n.ALo(96,"translate"),n.qZA()()(),n.TgZ(97,"div",53)(98,"div",54),n._UZ(99,"input",55),n.TgZ(100,"label",56),n._uU(101),n.ALo(102,"translate"),n.qZA(),n.TgZ(103,"a",57),n.ALo(104,"translate"),n._UZ(105,"i",58),n.qZA()(),n.TgZ(106,"div",54),n._UZ(107,"input",59),n.TgZ(108,"label",60),n._uU(109),n.ALo(110,"translate"),n.qZA(),n.TgZ(111,"a",57),n.ALo(112,"translate"),n._UZ(113,"i",58),n.qZA()(),n.TgZ(114,"div",54),n._UZ(115,"input",61),n.TgZ(116,"label",62),n._uU(117),n.ALo(118,"translate"),n.qZA(),n.TgZ(119,"a",57),n.ALo(120,"translate"),n._UZ(121,"i",58),n.qZA()(),n.TgZ(122,"div",54),n._UZ(123,"input",63),n.TgZ(124,"label",64),n._uU(125),n.ALo(126,"translate"),n.qZA(),n.TgZ(127,"a",57),n.ALo(128,"translate"),n._UZ(129,"i",58),n.qZA()(),n.TgZ(130,"div",54),n._UZ(131,"input",65),n.TgZ(132,"label",66),n._uU(133),n.ALo(134,"translate"),n.qZA(),n.TgZ(135,"a",57),n.ALo(136,"translate"),n._UZ(137,"i",58),n.qZA()(),n.TgZ(138,"div",54),n._UZ(139,"input",67),n.TgZ(140,"label",68),n._uU(141),n.ALo(142,"translate"),n.qZA(),n.TgZ(143,"a",57),n.ALo(144,"translate"),n._UZ(145,"i",58),n.qZA()(),n.TgZ(146,"div",54),n._UZ(147,"input",69),n.TgZ(148,"label",70),n._uU(149),n.ALo(150,"translate"),n.qZA(),n.TgZ(151,"a",57),n.ALo(152,"translate"),n._UZ(153,"i",58),n.qZA()(),n.TgZ(154,"div",54),n._UZ(155,"input",71),n.TgZ(156,"label",72),n._uU(157),n.ALo(158,"translate"),n.qZA(),n.TgZ(159,"a",57),n.ALo(160,"translate"),n._UZ(161,"i",58),n.qZA()(),n.TgZ(162,"div",54),n._UZ(163,"input",73),n.TgZ(164,"label",74),n._uU(165),n.ALo(166,"translate"),n.qZA(),n.TgZ(167,"a",57),n.ALo(168,"translate"),n._UZ(169,"i",58),n.qZA()(),n.TgZ(170,"div",54),n._UZ(171,"input",75),n.TgZ(172,"label",76),n._uU(173),n.ALo(174,"translate"),n.qZA(),n.TgZ(175,"a",57),n.ALo(176,"translate"),n._UZ(177,"i",58),n.qZA()(),n.TgZ(178,"div",54),n._UZ(179,"input",77),n.TgZ(180,"label",78),n._uU(181),n.ALo(182,"translate"),n.qZA(),n.TgZ(183,"a",57),n.ALo(184,"translate"),n._UZ(185,"i",58),n.qZA()(),n.TgZ(186,"div",54),n._UZ(187,"input",79),n.TgZ(188,"label",80),n._uU(189),n.ALo(190,"translate"),n.qZA(),n.TgZ(191,"a",57),n.ALo(192,"translate"),n._UZ(193,"i",58),n.qZA()()()(),n.TgZ(194,"div",30),n.YNc(195,sn,3,3,"div",31),n.qZA()(),n.TgZ(196,"bngx-recaptcha",81,82),n.NdJ("ready",function(){return u.isQuickRegisterFull&&u.onSubmitForm()})("success",function(){return u.submitForm()})("error",function(){return u.handleRecaptchaError()}),n.qZA(),n.TgZ(198,"div",83)(199,"button",84)(200,"span"),n._uU(201),n.ALo(202,"translate"),n.qZA()()()(),n.TgZ(203,"div",85)(204,"h4",86),n._uU(205),n.ALo(206,"translate"),n.TgZ(207,"a",87)(208,"strong"),n._uU(209),n.ALo(210,"translate"),n.qZA()()()()()()()()()(),n.TgZ(211,"div",88),n._UZ(212,"i",89),n.TgZ(213,"h4",90),n._uU(214),n.ALo(215,"translate"),n.qZA(),n.TgZ(216,"h4"),n._uU(217),n.ALo(218,"translate"),n.qZA()()()),2&h){const x=n.MAs(39);n.Q6J("ngClass",n.VKq(185,Se,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(187,Se,u.isUserCompany())),n.xp6(1),n.Q6J("bngxLoadingLayer",u.submitting),n.xp6(2),n.Q6J("ngClass",n.VKq(189,We,u.isUserCompany())),n.xp6(1),n.hij(" ",n.lcZ(6,82,"REGISTER_PAGE.CARD_TITLE")," "),n.xp6(2),n.Q6J("ngClass",n.VKq(191,We,u.isUserPerson())),n.xp6(1),n.hij(" ",n.lcZ(9,84,"REGISTER_PAGE.CARD_TITLE_COMPANY")," "),n.xp6(3),n.Q6J("innerHTML",n.lcZ(12,86,"REGISTER_PAGE.TITLE_RIGHT_COLUMN"),n.oJD),n.xp6(3),n.Q6J("ngClass",n.VKq(193,Se,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(195,Se,u.isUserPerson())),n.xp6(1),n.Q6J("ngClass",n.VKq(197,Se,u.isUserCompany())),n.xp6(1),n.Q6J("ngClass",n.VKq(199,Se,u.isUserCompany())),n.xp6(5),n.Q6J("ngClass",n.VKq(201,At,u.isUserPerson())),n.xp6(3),n.hij(" ",n.lcZ(26,88,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_PERSONAL")," "),n.xp6(3),n.Q6J("ngClass",n.VKq(203,At,u.isUserCompany())),n.xp6(3),n.hij(" ",n.lcZ(32,90,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_COMPANY")," "),n.xp6(7),n.Q6J("formGroup",u.registerForm)("ngClass",n.VKq(205,Ct,x.submitted||u.submitted)),n.xp6(4),n.Oqu(n.lcZ(43,92,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("placeholder",n.lcZ(46,94,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("ngIf",null==u.registerForm.controls.email.errors?null:u.registerForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.registerForm.controls.email.errors?null:u.registerForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.registerForm.controls.email.errors?null:u.registerForm.controls.email.errors.emailAlreadyExists),n.xp6(3),n.Oqu(n.lcZ(54,96,"FORM.PASSWORD_INPUT.LABEL")),n.xp6(3),n.Q6J("type",u.passwordVisible?"text":"password")("placeholder",n.lcZ(58,98,"FORM.PASSWORD_INPUT.PLACEHOLDER")),n.xp6(5),n.Q6J("ngIf",u.passwordVisible),n.xp6(1),n.Q6J("ngIf",!u.passwordVisible),n.xp6(1),n.Q6J("password",null==u.registerForm||null==u.registerForm.value?null:u.registerForm.value.password),n.xp6(2),n.Q6J("ngIf",null==u.registerForm.controls.password.errors?null:u.registerForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==u.registerForm||null==u.registerForm.controls||null==u.registerForm.controls.password||null==u.registerForm.controls.password.errors?null:u.registerForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==u.registerForm.controls.password.errors?null:u.registerForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==u.registerForm.controls.password.errors?null:u.registerForm.controls.password.errors.maxlength),n.xp6(3),n.Q6J("ngModel",u.isReferralCodeChecked)("ngModelOptions",n.DdM(207,ln))("nzSize","small"),n.xp6(3),n.hij(" ",n.lcZ(75,100,"FORM.REFERRAL_CODE_INPUT.LABEL")," "),n.xp6(2),n.Q6J("nzPopoverTitle",n.lcZ(77,102,"FORM.REFERRAL_CODE_INPUT.TOOLTIP.TITLE"))("nzPopoverContent",n.lcZ(78,104,"FORM.REFERRAL_CODE_INPUT.TOOLTIP.LABEL"))("nzPopoverPlacement","right"),n.xp6(4),n.Q6J("ngIf",u.isReferralCodeChecked),n.xp6(1),n.Q6J("ngIf",u.isReferralCodeChecked),n.xp6(5),n.Q6J("ngClass",n.VKq(208,cn,u.isUserPerson())),n.xp6(1),n.Q6J("innerHTML",n.lcZ(88,106,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LABEL_COMPANY"),n.oJD),n.xp6(2),n.Q6J("ngClass",n.VKq(210,Pt,u.isUserPerson())),n.xp6(1),n.Q6J("innerHTML",n.lcZ(91,108,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LABEL"),n.oJD),n.xp6(2),n.Q6J("href",n.xi3(93,110,"REGISTER_PAGE.TERMS_LINKS.TERMS",n.VKq(212,ge,u.urlService.service("web"))),n.LSH),n.xp6(3),n.Oqu(n.lcZ(96,113,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LINK")),n.xp6(2),n.Q6J("ngClass",n.VKq(214,We,!u.showDetailedTerms)),n.xp6(4),n.Oqu(n.lcZ(102,115,"REGISTER_PAGE.TERMS_TYPES.TERMS")),n.xp6(2),n.Q6J("href",n.xi3(104,117,"REGISTER_PAGE.TERMS_LINKS.TERMS",n.VKq(216,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(110,120,"REGISTER_PAGE.TERMS_TYPES.COOKIES")),n.xp6(2),n.Q6J("href",n.xi3(112,122,"REGISTER_PAGE.TERMS_LINKS.COOKIES",n.VKq(218,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(118,125,"REGISTER_PAGE.TERMS_TYPES.PRIVACY")),n.xp6(2),n.Q6J("href",n.xi3(120,127,"REGISTER_PAGE.TERMS_LINKS.PRIVACY",n.VKq(220,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(126,130,"REGISTER_PAGE.TERMS_TYPES.MONEY_LICENSE")),n.xp6(2),n.Q6J("href",n.xi3(128,132,"REGISTER_PAGE.TERMS_LINKS.MONEY_LICENSE",n.VKq(222,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(134,135,"REGISTER_PAGE.TERMS_TYPES.SECURITY")),n.xp6(2),n.Q6J("href",n.xi3(136,137,"REGISTER_PAGE.TERMS_LINKS.SECURITY",n.VKq(224,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(142,140,"REGISTER_PAGE.TERMS_TYPES.AML_KYC")),n.xp6(2),n.Q6J("href",n.xi3(144,142,"REGISTER_PAGE.TERMS_LINKS.AML_KYC",n.VKq(226,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(150,145,"REGISTER_PAGE.TERMS_TYPES.ANTI_FRAUD")),n.xp6(2),n.Q6J("href",n.xi3(152,147,"REGISTER_PAGE.TERMS_LINKS.ANTI_FRAUD",n.VKq(228,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(158,150,"REGISTER_PAGE.TERMS_TYPES.RISK_WARNING")),n.xp6(2),n.Q6J("href",n.xi3(160,152,"REGISTER_PAGE.TERMS_LINKS.RISK_WARNING",n.VKq(230,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(166,155,"REGISTER_PAGE.TERMS_TYPES.MARKET_DATA")),n.xp6(2),n.Q6J("href",n.xi3(168,157,"REGISTER_PAGE.TERMS_LINKS.MARKET_DATA",n.VKq(232,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(174,160,"REGISTER_PAGE.TERMS_TYPES.AFFILIATES")),n.xp6(2),n.Q6J("href",n.xi3(176,162,"REGISTER_PAGE.TERMS_LINKS.AFFILIATES",n.VKq(234,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(182,165,"REGISTER_PAGE.TERMS_TYPES.COMPANY_REGISTRATION")),n.xp6(2),n.Q6J("href",n.xi3(184,167,"REGISTER_PAGE.TERMS_LINKS.COMPANY_REGISTRATION",n.VKq(236,ge,u.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(190,170,"REGISTER_PAGE.TERMS_TYPES.KYC_LIMITS")),n.xp6(2),n.Q6J("href",n.xi3(192,172,"REGISTER_PAGE.TERMS_LINKS.KYC_LIMITS",n.VKq(238,ge,u.urlService.service("web"))),n.LSH),n.xp6(4),n.Q6J("ngIf",null==u.registerForm.controls.terms.errors?null:u.registerForm.controls.terms.errors.required),n.xp6(1),n.Q6J("siteKey",u.siteKey),n.xp6(3),n.Q6J("disabled",u.submitting)("bngxLoadingLayer",u.submitting),n.xp6(2),n.Oqu(n.lcZ(202,175,"REGISTER_PAGE.REGISTER_BUTTON_TEXT_"+u.registerForm.get("type").value.toUpperCase())),n.xp6(4),n.hij(" ",n.lcZ(206,177,"REGISTER_PAGE.HEADING_LOGIN_BUTTON_SMALL")," "),n.xp6(4),n.Oqu(n.lcZ(210,179,"REGISTER_PAGE.LOGIN_LINK_TEXT_SMALL")),n.xp6(5),n.Oqu(n.lcZ(215,181,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_1")),n.xp6(3),n.Oqu(n.lcZ(218,183,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2"))}},directives:[C.mk,t.gO3,b._Y,b.JL,b.sg,b.Fj,t.Uqp,b.JJ,b.u,C.O5,Ue.I,g.i,b.On,at.lU,b.Wl,t.uu0,D.yS],pipes:[i.X$],styles:["*[_ngcontent-%COMP%]{font-family:Open Sans}.register-button[_ngcontent-%COMP%]     .loader-contents{padding:0!important}.show-hide[_ngcontent-%COMP%]{color:#044e97}label[_ngcontent-%COMP%]{font-weight:600}.register-title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:40px;line-height:48px;letter-spacing:-.25px;color:#fff}.register-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.create-account[_ngcontent-%COMP%]{max-width:375px;font-style:normal;font-weight:700;font-size:16px;line-height:24px;text-align:center;color:#fff}.tab.container-fluid[_ngcontent-%COMP%]{padding:0 65px}h2[_ngcontent-%COMP%]{font-size:40px;font-weight:lighter;color:#333}.h4.text-center[_ngcontent-%COMP%]{font-size:14px;font-weight:200;color:#333}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .b2msf-briefcase-line[_ngcontent-%COMP%]{font-size:25px}.type-button[_ngcontent-%COMP%]{text-align:center}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:2px solid #044e97}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#044e97;font-weight:700}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#044e97}.form-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.form-group.checkbox[_ngcontent-%COMP%]{margin:15px}.b2m-checkbox[_ngcontent-%COMP%], .b2m-radio[_ngcontent-%COMP%]{padding-left:10px}.terms-link[_ngcontent-%COMP%]{font-size:14px;color:inherit}@media (max-width: 360px){h2[_ngcontent-%COMP%]{font-size:20px;font-weight:400}span[_ngcontent-%COMP%]{font-size:12px;font-weight:16px}.form-group[_ngcontent-%COMP%]{margin:3px 0}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 0!important;font-size:16px}}@media (max-width: 450px){.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 0!important;font-size:16px}span[_ngcontent-%COMP%], .terms-link[_ngcontent-%COMP%]{font-size:12px}.tab.container-fluid[_ngcontent-%COMP%]{padding:0 15px}.register-title[_ngcontent-%COMP%]{font-size:20px;line-height:28px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .b2msf-briefcase-line[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 768px){bngx-recaptcha[_ngcontent-%COMP%]    {flex-direction:column;align-items:unset}bngx-recaptcha[_ngcontent-%COMP%]     ngx-invisible-recaptcha{margin-right:0!important}bngx-recaptcha[_ngcontent-%COMP%]     .invalid-feedback{margin-top:10px!important}}.show-hide[_ngcontent-%COMP%]{color:#044e97;font-size:12px}.card-page-inner[_ngcontent-%COMP%]{padding-top:0}.tab[_ngcontent-%COMP%]{overflow:hidden;width:100%}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:center;border:none;outline:none;cursor:pointer;padding:3px 25px 10px 20px;color:#6e6e6e;font-style:normal;font-weight:400;font-size:20px;line-height:28px;text-align:center}.card-tab[_ngcontent-%COMP%]{align-items:center;size:40vmax}.b2msf-question-circle-line[_ngcontent-%COMP%]{color:#8a8a8a;font-size:16px;margin-left:5px}.title-register[_ngcontent-%COMP%]{border-bottom:0px;margin-bottom:5px;padding:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;letter-spacing:.25px;text-align:left;color:#333}.access-text.inside[_ngcontent-%COMP%]{position:center}.access-text.inside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:12px;line-height:16px;text-align:center;letter-spacing:.25px;color:#6e6e6e;flex:none;order:0;flex-grow:0;margin:0 8px}.access-text.inside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#066cd1;flex:none;order:1;flex-grow:0;margin:0 8px}.welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:24px;line-height:32px;text-align:center;color:#fafafa}@media (max-width: 450px){.card-page-outer[_ngcontent-%COMP%]{min-height:800px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}}"]}),_})();function pn(_,y){if(1&_){const h=n.EpF();n.TgZ(0,"a",9),n.NdJ("click",function(x){return n.CHM(h),n.oxw().resendResetPassword(x)}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&_&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"ONBOARDING.STEP_1.RESEND_TEXT")))}function un(_,y){1&_&&(n.TgZ(0,"div",10),n._UZ(1,"i",11),n.TgZ(2,"span"),n._uU(3),n.ALo(4,"translate"),n.qZA()()),2&_&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"ONBOARDING.STEP_1.EMAIL_RESENT_CONFIRMATION")," "))}function _n(_,y){if(1&_){const h=n.EpF();n.TgZ(0,"div",12)(1,"span",13),n._uU(2),n.ALo(3,"translate"),n.TgZ(4,"bngx-timer",14),n.NdJ("isTimerFinished",function(){return n.CHM(h),n.oxw().onTimerFinished()}),n.qZA()()()}if(2&_){const h=n.oxw();n.xp6(2),n.hij(" ",n.lcZ(3,2,"ONBOARDING.STEP_1.REQUEST_RESEND_LABEL")," "),n.xp6(2),n.Q6J("isTimerActive",h.isTimerActive)}}const fn=[{path:"",component:xt,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"recover-password",component:Zt,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"check-email",component:ht,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"new-password/:token",component:Wt,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"updated-password",component:(()=>{class _{constructor(h){this.urlService=h}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.iOJ))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-updated-password"]],decls:17,vars:12,consts:[[1,"contents"],["alt","","src","assets/images/login/astronaut-ok.svg",1,"astronaut-image","my-2"],[1,"update-password-title","mb-2"],[1,"info-labels"],[1,"session-label","mb-4","mb-md-0"],[1,"access-label","mb-4"],["routerLink","/login",1,"b2m-btn","btn-line","update-password-button","mb-5"]],template:function(h,u){1&h&&(n.TgZ(0,"div",0),n._UZ(1,"img",1),n.TgZ(2,"h1",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"div",3)(6,"div",4)(7,"p"),n._uU(8),n.ALo(9,"translate"),n.qZA()(),n.TgZ(10,"div",5)(11,"p"),n._uU(12),n.ALo(13,"translate"),n.qZA()()(),n.TgZ(14,"a",6),n._uU(15),n.ALo(16,"translate"),n.qZA()()),2&h&&(n.xp6(3),n.Oqu(n.lcZ(4,4,"UPDATED_PASSWORD_PAGE.TITLE")),n.xp6(5),n.Oqu(n.lcZ(9,6,"UPDATED_PASSWORD_PAGE.LABEL_SESSIONS_CLOSED")),n.xp6(4),n.Oqu(n.lcZ(13,8,"UPDATED_PASSWORD_PAGE.LABEL_ACCESS")),n.xp6(3),n.hij(" ",n.lcZ(16,10,"UPDATED_PASSWORD_PAGE.BUTTON_ACCESS"),""))},directives:[D.yS],pipes:[i.X$],styles:["*[_ngcontent-%COMP%]{font-family:Open Sans}.contents[_ngcontent-%COMP%]{text-align:center;color:#fff}@media (min-width: 575px){.contents[_ngcontent-%COMP%]   .astronaut-image[_ngcontent-%COMP%]{width:256px;height:256px}}.contents[_ngcontent-%COMP%]   .update-password-title[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:32px;line-height:40px;letter-spacing:-.25px;color:#fff}@media (max-width: 320px){.contents[_ngcontent-%COMP%]   .update-password-title[_ngcontent-%COMP%]{font-weight:700;font-size:24px;line-height:32px}}.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:16px;line-height:24px;text-align:center;color:#fff}.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]   .session-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]   .session-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:558px}.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]   .access-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]   .access-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:558px}@media (max-width: 320px){.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px}.contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]   .session-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contents[_ngcontent-%COMP%]   .info-labels[_ngcontent-%COMP%]   .access-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:287px}}.contents[_ngcontent-%COMP%]   .update-password-button[_ngcontent-%COMP%]{text-transform:none;padding:0 16px;gap:8px;width:176px;height:48px;border-radius:4px}"]}),_})(),data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"new",component:pt,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"pick",component:k,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"quick-register",component:dn,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"validate-email",component:Pe,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"send-email-password",component:(()=>{class _{constructor(h,u,x){this.authService=h,this.translate=u,this.route=x,this.recoverData={email:"",langCode:"en"},this.isResendActive=!1,this.isTimerActive=!1}ngOnInit(){this.isResendActive=!1,this.isTimerActive=!0}resendResetPassword(h){var u;h.preventDefault();const x={email:this.route.snapshot.queryParamMap.get("email"),langCode:null!==(u=this.translate.currentLang)&&void 0!==u?u:"en"};this.authService.resetPassword(x).subscribe(()=>{this.isTimerActive=!0,this.isResendActive=!0})}onTimerFinished(){this.isResendActive=!0,this.isTimerActive=!1}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(t.e80),n.Y36(i.sK),n.Y36(D.gz))},_.\u0275cmp=n.Xpm({type:_,selectors:[["ng-component"]],decls:17,vars:15,consts:[[1,"card-page-outer","container","pt-5"],["src","assets/images/email-validation/astronaut-mail.png","alt","Email image",1,"astronaut-mail"],[1,"check-email-title"],[1,"mt-2","mt-md-4"],[1,"mt-4"],[1,"mt-4","not-received"],["class","mt-2","href","",3,"click",4,"ngIf"],["class","email-resent-confirm mt-2",4,"ngIf"],["class","timer-resend mt-2 pb-5 pb-sm-0",4,"ngIf"],["href","",1,"mt-2",3,"click"],[1,"email-resent-confirm","mt-2"],["aria-hidden","true",1,"b2msf-check-circle-line","mr-1"],[1,"timer-resend","mt-2","pb-5","pb-sm-0"],[1,"mr-2"],[3,"isTimerActive","isTimerFinished"]],template:function(h,u){1&h&&(n.TgZ(0,"div",0),n._UZ(1,"img",1),n.TgZ(2,"h1",2),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"p",3),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"p",4),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"p",5),n._uU(12),n.ALo(13,"translate"),n.qZA(),n.YNc(14,pn,3,3,"a",6),n.YNc(15,un,5,3,"div",7),n.YNc(16,_n,5,4,"div",8),n.qZA()),2&h&&(n.xp6(3),n.Oqu(n.lcZ(4,7,"RECOVER_PAGE.CHECK_YOUR_EMAIL")),n.xp6(3),n.Oqu(n.lcZ(7,9,"SEND_EMAIL_RESET_PWD_PAGE.TEXT_1")),n.xp6(3),n.Oqu(n.lcZ(10,11,"SEND_EMAIL_RESET_PWD_PAGE.TEXT_2")),n.xp6(3),n.Oqu(n.lcZ(13,13,"ONBOARDING.STEP_1.RESEND_TITLE")),n.xp6(2),n.Q6J("ngIf",u.isResendActive&&!u.isTimerActive),n.xp6(1),n.Q6J("ngIf",u.isResendActive&&u.isTimerActive),n.xp6(1),n.Q6J("ngIf",u.isTimerActive))},directives:[C.O5,t.LCJ],pipes:[i.X$],styles:[".container[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .astronaut-mail[_ngcontent-%COMP%]{width:256px;position:relative;top:-3vh}@media (max-width: 415px){.container[_ngcontent-%COMP%]   .astronaut-mail[_ngcontent-%COMP%]{margin-top:50px;width:160px}}@media (max-width: 320px){.container[_ngcontent-%COMP%]   .astronaut-mail[_ngcontent-%COMP%]{margin-top:10px}}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-family:Open Sans;font-style:normal}.container[_ngcontent-%COMP%]   .check-email-title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:40px;text-align:center;letter-spacing:-.25px;color:#fff;flex:none;order:0;align-self:stretch}@media (max-width: 415px){.container[_ngcontent-%COMP%]   .check-email-title[_ngcontent-%COMP%]{font-weight:700;font-size:24px}}.container[_ngcontent-%COMP%]   .not-received[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;text-align:center;color:#fff;flex:none;order:0;flex-grow:0}@media (max-width: 415px){.container[_ngcontent-%COMP%]   .not-received[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;text-align:center}}.container[_ngcontent-%COMP%]   .email-resent-confirm[_ngcontent-%COMP%]   .b2msf-check-circle-line[_ngcontent-%COMP%]{font-size:1.5em}.container[_ngcontent-%COMP%]   .email-resent-confirm[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   bngx-timer[_ngcontent-%COMP%]  nz-progress .ant-progress-text{color:#fff}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   bngx-timer[_ngcontent-%COMP%]  nz-progress .ant-progress-circle-path{stroke:#fff}.container[_ngcontent-%COMP%]   .timer-resend[_ngcontent-%COMP%]   bngx-timer[_ngcontent-%COMP%]  nz-progress .ant-progress-circle-trail{stroke:none}"]}),_})(),data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}}];let Tt=(()=>{class _{}return _.\u0275fac=function(h){return new(h||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[[xe.v,C.ez,t.Rbs.forChild(),D.Bz.forChild(fn)]]}),_})();var hn=f(65273),On=f(59891);let vt=(()=>{class _{}return _.\u0275fac=function(h){return new(h||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({providers:[T.u,hn.$,On.J],imports:[[C.ez,t.Rbs.forChild(),xe.v,Tt,A.cg,g.m],Tt]}),_})()},65273:(se,$,f)=>{"use strict";f.d($,{$:()=>b});var C=f(90923),t=f(3184),A=f(26540),g=f(33935);let T=(()=>{class O{constructor(e){this.nzModalRef=e}}return O.\u0275fac=function(e){return new(e||O)(t.Y36(A.Lf))},O.\u0275cmp=t.Xpm({type:O,selectors:[["ng-component"]],decls:11,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"b2m-btn","btn-solid","mr-0",3,"click"]],template:function(e,w){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",2),t._UZ(5,"p",3),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4)(8,"button",5),t.NdJ("click",function(){return w.nzModalRef.close()}),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"CONFIRM_DEVICE.FAILED_DIALOG.TITLE")),t.xp6(3),t.Q6J("innerHTML",t.lcZ(6,5,"CONFIRM_DEVICE.FAILED_DIALOG.CONTENT"),t.oJD),t.xp6(4),t.hij(" ",t.lcZ(10,7,"BUTTONS.ACCEPT")," "))},pipes:[g.X$],styles:[""]}),O})();var D=f(19720);let b=(()=>{class O{constructor(e,w,Q,n,i,X,Y,z,k,R,j,N){this.authService=e,this.router=w,this.accountService=Q,this.environment=n,this.notificationsService=i,this.translate=X,this.urlService=Y,this.modalService=z,this.loggerService=k,this.accountAnalyticsService=R,this.cookieService=j,this.enviroment=N}resolve(e){switch(e.params.type){case"confirm-email":this.handleConfirmEmail(e);break;case"pwd":this.handlePwd(e);break;case"authorize":this.handleConfirmDevice(e);break;default:this.router.navigate(["error",{type:"404"}])}return!0}handlePwd(e){this.router.navigate(["login","new-password",e.params.token])}handleConfirmEmail(e){this.accountService.confirmEmail({token:e.params.token}).subscribe(w=>{this.accountAnalyticsService.trackGoogleAnalyticEmailVerifiedEvent(this.authService.getUserInfo().sub),this.notificationsService.success("",this.translate.instant("TOAST.EMAIL_VERIFIED_SUCCESS.TITLE")),"change"==e.queryParamMap.get("referer")?this.router.navigate(["/confirmed-email"]):this.authService.refresh().subscribe({next:()=>{const n=this.cookieService.get(this.enviroment.cookieNames.userId);w.userId!==n?this.router.navigate(["/onboarding/verified-email"]):this.router.navigate(["/onboarding"],{replaceUrl:!0})},error:()=>{this.authService.setRedirectUrl(`${this.urlService.service("account")}onboarding`),this.router.navigate(["/login"])}})},w=>{404===w.status&&this.notificationsService.error(w.error.message,null),403===w.status&&(this.authService.setRedirectUrl(`${window.location}`),this.notificationsService.error(this.translate.instant("TOAST.LOGIN_TO_VERIFY_EMAIL.TITLE"),null)),this.handleNavigation(["/profile","general"])})}handleConfirmDevice(e){this.accountService.confirmDevice({deviceAuthId:e.params.extraHash,userId:e.params.token}).subscribe(i=>{this.translate.get("CONFIRM_DEVICE.DEVICE_CONFIRMED.SUCCESS").subscribe(X=>{this.notificationsService.success(X)}),i?i.sfa?this.show2FAPopup(i):(this.authService.setToken(i),this.authService.navigateToCorrectUrl()):this.router.navigate(["/authorized-device"])},i=>{this.router.navigate(["/login"]).then(()=>{404===i.status&&this.translate.get("CONFIRM_DEVICE.DEVICE_CONFIRMATION_LINK_EXPIRED.ERROR").subscribe(X=>{this.notificationsService.error(X)}),406===i.status&&this.modalService.open(T),409===i.status&&this.translate.get("CONFIRM_DEVICE.DEVICE_ALREADY_CONFIRMED.ERROR").subscribe(X=>{this.notificationsService.error(X)})})})}handleNavigation(e,w){this.authService.isAuth()?this.router.navigate(e,w):this.navigateToLogin()}navigateToLogin(){const e=window.location.href;if(this.authService.setRedirectUrl(e),this.environment.isAccount())this.router.navigate(["/login"]);else{const w=`${this.urlService.service("account")}/login`;window.location.href=w}}show2FAPopup(e){try{const w=this.modalService.open(C.cDe,{nzComponentParams:{responseSfa:e}});e.accessToken.expirationTime=null,w.afterClose.subscribe(Q=>{Q&&(this.authService.setToken(Q),this.authService.navigateToCorrectUrl())})}catch(w){this.loggerService.error(w)}}}return O.\u0275fac=function(e){return new(e||O)(t.LFG(C.e80),t.LFG(D.F0),t.LFG(C.BRM),t.LFG(C.L$R),t.LFG(C.TFo),t.LFG(g.sK),t.LFG(C.iOJ),t.LFG(C.Z7U),t.LFG(C.mQy),t.LFG(C.p$5),t.LFG(C.Fhc),t.LFG(C.L$R))},O.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac}),O})()},2686:(se,$,f)=>{"use strict";f.d($,{u:()=>g});var C=f(3184),t=f(90923),A=f(19720);let g=(()=>{class T{constructor(b,O,J){this.authService=b,this.router=O,this.environment=J}resolve(){return!this.authService.isAuth()||(this.environment.isAccount()&&this.router.navigate(["/"]),!1)}}return T.\u0275fac=function(b){return new(b||T)(C.LFG(t.e80),C.LFG(A.F0),C.LFG(t.L$R))},T.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac}),T})()},59891:(se,$,f)=>{"use strict";f.d($,{J:()=>b});var C=f(28784),t=f(90923),A=f(79168),g=f(8146),T=f(3184),D=f(19720);let b=(()=>{class O{constructor(e,w,Q,n,i){this.authService=e,this.router=w,this.route=Q,this.modalService=n,this.loggerService=i}resolve(e){switch(e.params.provider){case t.uBk.google:this.handleGoogle(),this.authProvider(e.params.provider);break;case t.uBk.apple:this.handleApple(),this.authProvider(e.params.provider);break;default:this.router.navigate(["/login"])}return!0}handleGoogle(){this.token=new URLSearchParams(window.location.href).get("id_token");const e=(0,A.Z)(this.token);this.email=e.email,this.userType=window.location.href.match(/person|company/)[0],this.origin=window.location.href.match(/register|login/)[0]}handleApple(){this.token=new URLSearchParams(new URL(window.location.href).search).get("id_token");const e=(0,A.Z)(this.token);this.email=e.email,this.userType=new URLSearchParams(new URL(window.location.href).search).get("userType"),this.origin=new URLSearchParams(new URL(window.location.href).search).get("origin")}authProvider(e){this.authService.authProvider(e,this.token).subscribe(w=>{w.deviceAuthRequired?this.modalService.open(g.s,{nzComponentParams:{responseSfa:w},nzClosable:!1,nzMaskClosable:!1}):w.sfa?this.show2FAPopup(w):this.authService.navigateToCorrectUrl()},w=>{428===w.status&&this.router.navigate(["/login"],{queryParams:{email:this.email,token:this.token,provider:e}}),401===w.status&&this.router.navigate(["/login"]),404===w.status&&("register"===this.origin&&this.router.navigate(["/login/new"],{queryParams:{type:this.userType,email:this.email,token:this.token,provider:e}}),"login"===this.origin&&this.router.navigate(["/login/pick"]))})}show2FAPopup(e){try{const w=this.modalService.open(t.cDe,{nzComponentParams:{responseSfa:e},nzMaskClosable:!1});e.accessToken.expirationTime=null,w.afterClose.subscribe(Q=>{if(Q)if(Q.deviceAuthRequired)this.modalService.open(g.s,{nzComponentParams:{responseSfa:e},nzClosable:!1,nzMaskClosable:!1});else{if(Q instanceof C.UA)throw new Error(Q.message);this.authService.navigateToCorrectUrl()}})}catch(w){this.loggerService.error(w)}}}return O.\u0275fac=function(e){return new(e||O)(T.LFG(t.e80),T.LFG(D.F0),T.LFG(D.gz),T.LFG(t.Z7U),T.LFG(t.mQy))},O.\u0275prov=T.Yz7({token:O,factory:O.\u0275fac}),O})()},69495:(se,$,f)=>{"use strict";f.d($,{E:()=>T});var C=f(83918),t=f(13068),A=f(3184),g=f(16916);let T=(()=>{class D extends t.hx{constructor(O){super(),this.clientId=O}initialize(){return new Promise(O=>{O()})}initApple(O,J){return this.state=O,this.clientId=J,new Promise(e=>{this.loadScript(D.PROVIDER_ID,"https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",()=>{AppleID.auth.init({clientId:this.clientId,scope:"email",redirectURI:g.N.appleProvider.redirect_uri,state:this.state,usePopup:!1}),e()})})}getLoginStatus(){return new Promise(O=>{O({provider:"string",id:"string",email:"string",name:"string",photoUrl:"string",firstName:"string",lastName:"string",authToken:"string",idToken:"string",authorizationCode:"string",response:"any"})})}signIn(){return(0,C.Z)(function*(){try{return yield AppleID.auth.signIn()}catch(O){throw new Error(O)}})()}signOut(){return new Promise(O=>{O()})}setState(O){this.state=O}}return D.PROVIDER_ID="APPLE",D.\u0275fac=function(O){return new(O||D)(A.LFG(A.Lbi))},D.\u0275prov=A.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},55605:(se,$,f)=>{"use strict";f.r($),f.d($,{OnboardingModule:()=>Rn});var C=f(36362),t=f(90923),A=f(54244),g=f(28086),T=f(23992),D=f(92065),b=f(19720),O=f(50253),J=f(26562),e=f(50635),w=f(87260),Q=f(68951),n=f(19337),i=f(3184),X=f(30600),Y=f(38531),z=f(92938),k=f.n(z),R=f(59295),j=f(78028),N=f(33935);function G(p,E){1&p&&(i.TgZ(0,"nz-tag",12),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"ONBOARDING.HEADER_PROFILE.NOT_VERIFIED")))}function ne(p,E){1&p&&(i.TgZ(0,"nz-tag",12),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"ONBOARDING.HEADER_PROFILE.VERIFIED")))}function te(p,E){if(1&p){const d=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(){return i.CHM(d),i.oxw(2).close()}),i.TgZ(1,"p"),i._uU(2),i.ALo(3,"translate"),i.qZA()()}2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"ONBOARDING.HEADER_PROFILE.ONBOARDING_BUTTON")))}const me=function(p){return{isMobile:p}};function ee(p,E){if(1&p){const d=i.EpF();i.TgZ(0,"div",1)(1,"div",2),i.YNc(2,G,3,3,"nz-tag",3),i.YNc(3,ne,3,3,"nz-tag",3),i.qZA(),i.TgZ(4,"div",4),i._UZ(5,"i",5),i.TgZ(6,"p"),i._uU(7),i.qZA()(),i.TgZ(8,"div",6),i._UZ(9,"i",7),i.TgZ(10,"button",8),i.NdJ("click",function(){return i.CHM(d),i.oxw().signout()}),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"div",9)(14,"p"),i._uU(15),i.ALo(16,"translate"),i.qZA()()(),i.TgZ(17,"div",10),i.YNc(18,te,4,3,"button",11),i.qZA()()}if(2&p){const d=i.oxw();i.Q6J("ngClass",i.VKq(11,me,d.isWrapperOpen&&d.isMobileSize())),i.xp6(2),i.Q6J("ngIf","verified"!==d.identityStatus),i.xp6(1),i.Q6J("ngIf","verified"===d.identityStatus),i.xp6(4),i.Oqu(d.email),i.xp6(4),i.Oqu(i.lcZ(12,7,"ONBOARDING.HEADER_PROFILE.CLOSE_SESSION_BUTTON")),i.xp6(4),i.Oqu(i.lcZ(16,9,"ONBOARDING.HEADER_PROFILE.INFO_LABEL")),i.xp6(3),i.Q6J("ngIf",d.isMobileSize())}}let q=(()=>{class p{constructor(d,m){this.layoutService=d,this.authService=m,this.isVisible=new i.vpe}isMobileSize(){return this.layoutService.isMobile()||this.layoutService.windowWidth<=767}close(){this.isVisible.emit(!1)}signout(){this.authService.signout()}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.Pb3),i.Y36(t.e80))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-header-signout-option"]],inputs:{email:"email",identityStatus:"identityStatus"},outputs:{isVisible:"isVisible"},decls:1,vars:1,consts:[["class","signout-menu",3,"ngClass",4,"ngIf"],[1,"signout-menu",3,"ngClass"],[1,"account-status"],["nzColor","warning",4,"ngIf"],[1,"email"],["aria-hidden","true",1,"b2msf-message","mr-3"],[1,"signout"],["aria-hidden","true",1,"b2msf-turn-off","mr-3"],[3,"click"],[1,"alert-label-info"],[1,"action-buttons"],["class","b2m-btn btn-solid onboarding-button",3,"click",4,"ngIf"],["nzColor","warning"],[1,"b2m-btn","btn-solid","onboarding-button",3,"click"]],template:function(d,m){1&d&&i.YNc(0,ee,19,13,"div",0),2&d&&i.Q6J("ngIf",m.email)},directives:[C.O5,C.mk,D.j],pipes:[N.X$],styles:[".signout-menu[_ngcontent-%COMP%]{width:100%}.signout-menu[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal}.signout-menu[_ngcontent-%COMP%]   .account-status[_ngcontent-%COMP%]{text-align:center;margin-top:4px}.signout-menu[_ngcontent-%COMP%]   .account-status[_ngcontent-%COMP%]   nz-tag[_ngcontent-%COMP%]{border-radius:100px;background-color:#fff;justify-content:center;align-items:center;padding:0 12px;gap:4px;width:99px;height:24px;font-weight:400;font-size:12px}.signout-menu[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin:16px 0}.signout-menu[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;font-weight:400;font-size:14px;line-height:20px;color:#001a33}.signout-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#044e97;font-weight:700}.signout-menu[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]{padding-top:16px;border-top:1px solid #dbdbdb}.signout-menu[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#044e97;font-weight:700;padding-bottom:1rem}.signout-menu[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]   .alert-label-info[_ngcontent-%COMP%]{background:rgba(0,128,255,.05);align-items:center;padding:8px 12px;gap:8px}.signout-menu[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]   .alert-label-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;color:#001a33;flex:none;order:0;align-self:stretch;flex-grow:0}.signout-menu[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{text-align:center;padding-bottom:40px;margin-top:60%}.signout-menu[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .onboarding-button[_ngcontent-%COMP%]{margin-right:0;text-transform:none}.signout-menu.isMobile[_ngcontent-%COMP%]{top:0vh;left:0vw;width:100vw;height:100vh;display:flex;flex-direction:column;position:fixed;margin-top:0;border-radius:0}.signout-menu.isMobile[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:16px}.signout-menu.isMobile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#044e97;font-weight:700}.signout-menu.isMobile[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:35%}.signout-menu.isMobile[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-bottom:1rem}.signout-menu.isMobile[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]   .alert-label-info[_ngcontent-%COMP%]{background:rgba(0,128,255,.05);align-items:center;padding:8px 12px;gap:8px}.signout-menu.isMobile[_ngcontent-%COMP%]   .signout[_ngcontent-%COMP%]   .alert-label-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;color:#001a33;flex:none;order:0;align-self:stretch;flex-grow:0}"]}),p})();function U(p,E){if(1&p){const d=i.EpF();i.TgZ(0,"div",4,5)(2,"button",6),i.NdJ("nzVisibleChange",function(S){return i.CHM(d),i.oxw().isVisible=S}),i._UZ(3,"i",7),i.qZA()()}if(2&p){const d=i.oxw(),m=i.MAs(2);i.xp6(2),i.Q6J("nzOverlayClassName",d.onboardingDropdownClass)("nzDropdownMenu",m)("nzTrigger","click")("nzVisible",d.isVisible)}}let Ze=(()=>{class p{constructor(d,m,S){this.layoutService=d,this.authService=m,this.currentUserStore=S,this.onboardingDropdownClass="onboarding-profile-dropdown"}ngOnInit(){this.currentUserStore.getAccountAndNext().subscribe(d=>{this.userInfo=d}),this.isMobileSize()&&(this.onboardingDropdownClass+=" isMobile")}isMobileSize(){return this.layoutService.isMobile()||this.layoutService.windowWidth<=767}signout(){this.authService.signout()}onDropdownClose(d){this.isVisible=d}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.Pb3),i.Y36(t.e80),i.Y36(t.Dk$))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-header-profile"]],inputs:{identityStatus:"identityStatus"},decls:6,vars:3,consts:[["class","wrapper","id","header-profile-wrapper",4,"ngIf"],["selectableOptions",""],["nz-menu",""],[3,"email","identityStatus","isVisible"],["id","header-profile-wrapper",1,"wrapper"],["headerProfileWrapper",""],["nz-dropdown","",1,"header-profile-button",3,"nzOverlayClassName","nzDropdownMenu","nzTrigger","nzVisible","nzVisibleChange"],["aria-hidden","true",1,"b2msf-participant"]],template:function(d,m){1&d&&(i.YNc(0,U,4,4,"div",0),i.TgZ(1,"nz-dropdown-menu",null,1)(3,"ul",2)(4,"li")(5,"app-header-signout-option",3),i.NdJ("isVisible",function(Z){return m.onDropdownClose(Z)}),i.qZA()()()()),2&d&&(i.Q6J("ngIf",m.userInfo&&(null==m.userInfo?null:m.userInfo.email)),i.xp6(5),i.Q6J("email",null==m.userInfo?null:m.userInfo.email)("identityStatus",m.identityStatus))},directives:[C.O5,T.cm,T.RR,j.wO,q],styles:["#header-profile-wrapper[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;max-height:100vh;max-width:100vw;z-index:100}#header-profile-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button[_ngcontent-%COMP%]{position:relative;width:16px;height:16px;z-index:1047;font-size:20px;line-height:56px;color:#044e97;background-color:#fff;text-align:center;padding:0;transition:all .3s ease}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button.isMobile[_ngcontent-%COMP%]{top:2vh;left:2vw}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button.isMobile.open[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button.isMobile.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{display:block}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button.isMobile.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;width:2px;height:14px;right:50%;background-color:#001a3399}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button.isMobile.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]   .bar.left[_ngcontent-%COMP%]{transform:translate(-50%,-50%) rotate(45deg)}#header-profile-wrapper[_ngcontent-%COMP%]   .header-profile-button.isMobile.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]   .bar.right[_ngcontent-%COMP%]{transform:translate(-50%,-50%) rotate(-45deg)}"]}),p})();function Ne(p,E){1&p&&i._UZ(0,"i",24)}function Et(p,E){1&p&&i._UZ(0,"i",24)}function bt(p,E){1&p&&i._UZ(0,"i",25)}function Mt(p,E){1&p&&i._UZ(0,"i",26)}const nt=function(p){return{completed:p}},It=function(p){return{"d-none":p}},Le=function(p){return{active:p}},we=function(p,E){return{completed:p,active:E}},it=function(p,E,d){return{completed:p,pending:E,active:d}};function xt(p,E){if(1&p&&(i.TgZ(0,"div")(1,"div",18),i._UZ(2,"i",19),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"span",20),i._uU(7," > "),i.qZA(),i.TgZ(8,"div",18),i.YNc(9,Ne,1,0,"i",21),i.TgZ(10,"span"),i._uU(11),i.ALo(12,"translate"),i.qZA()(),i.TgZ(13,"span",20),i._uU(14," > "),i.qZA(),i.TgZ(15,"div",18),i.YNc(16,Et,1,0,"i",21),i.YNc(17,bt,1,0,"i",22),i.TgZ(18,"span"),i._uU(19),i.ALo(20,"translate"),i.qZA()(),i.TgZ(21,"span",20),i._uU(22," > "),i.qZA(),i.TgZ(23,"div",18),i.YNc(24,Mt,1,0,"i",23),i.TgZ(25,"span"),i._uU(26),i.ALo(27,"translate"),i.qZA()()()),2&p){const d=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(24,nt,d.isEmailVerified)),i.xp6(1),i.Q6J("ngClass",i.VKq(26,It,!d.isEmailVerified)),i.xp6(2),i.hij(" 1. ",i.lcZ(5,16,"ONBOARDING.HEADER_STEPS.STEP_1")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(28,Le,d.currentStepIndex>=0)),i.xp6(2),i.Q6J("ngClass",i.WLB(30,we,d.isPhoneVerified,0===d.currentStepIndex)),i.xp6(1),i.Q6J("ngIf",d.isPhoneVerified),i.xp6(2),i.hij(" 2. ",i.lcZ(12,18,"ONBOARDING.HEADER_STEPS.PERSON_STEP_2")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(33,Le,d.currentStepIndex>=0)),i.xp6(2),i.Q6J("ngClass",i.kEZ(35,it,d.isThirdStepCompleted,"pending"===d.identityStatus,1===d.currentStepIndex)),i.xp6(1),i.Q6J("ngIf",d.isThirdStepCompleted&&"verified"===d.identityStatus),i.xp6(1),i.Q6J("ngIf","pending"===d.identityStatus),i.xp6(2),i.hij(" 3. ",i.lcZ(20,20,"ONBOARDING.HEADER_STEPS.PERSON_STEP_3")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(39,Le,d.currentStepIndex>=1)),i.xp6(2),i.Q6J("ngClass",i.WLB(41,we,d.isFinalQuestionsDone,2===d.currentStepIndex)),i.xp6(1),i.Q6J("ngIf",d.isFinalQuestionsDone),i.xp6(2),i.hij(" 4. ",i.lcZ(27,22,"ONBOARDING.HEADER_STEPS.STEP_4")," ")}}function ot(p,E){1&p&&i._UZ(0,"i",24)}function rt(p,E){1&p&&i._UZ(0,"i",24)}function Ve(p,E){1&p&&i._UZ(0,"i",24)}function St(p,E){1&p&&i._UZ(0,"i",25)}function Zt(p,E){if(1&p&&(i.TgZ(0,"div",18),i.YNc(1,ot,1,0,"i",21),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"span",20),i._uU(6," > "),i.qZA(),i.TgZ(7,"div",18),i.YNc(8,rt,1,0,"i",21),i.TgZ(9,"span"),i._uU(10),i.ALo(11,"translate"),i.qZA()(),i.TgZ(12,"span",20),i._uU(13," > "),i.qZA(),i.TgZ(14,"div",18),i.YNc(15,Ve,1,0,"i",21),i.YNc(16,St,1,0,"i",22),i.TgZ(17,"span"),i._uU(18),i.ALo(19,"translate"),i.qZA()()),2&p){const d=i.oxw(2);i.Q6J("ngClass",i.VKq(18,nt,d.isEmailVerified)),i.xp6(1),i.Q6J("ngIf",d.isEmailVerified),i.xp6(2),i.hij(" 1. ",i.lcZ(4,12,"ONBOARDING.HEADER_STEPS.STEP_1")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(20,Le,d.currentStepIndex>=0)),i.xp6(2),i.Q6J("ngClass",i.WLB(22,we,d.isPhoneVerified,0===d.currentStepIndex)),i.xp6(1),i.Q6J("ngIf",d.isPhoneVerified),i.xp6(2),i.hij(" 2. ",i.lcZ(11,14,"ONBOARDING.HEADER_STEPS.COMPANY_STEP_2")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(25,Le,d.currentStepIndex>=0)),i.xp6(2),i.Q6J("ngClass",i.kEZ(27,it,d.isThirdStepCompleted&&"verified"===d.identityStatus,"pending"===d.identityStatus,1===d.currentStepIndex)),i.xp6(1),i.Q6J("ngIf",d.isThirdStepCompleted&&"verified"===d.identityStatus),i.xp6(1),i.Q6J("ngIf","pending"===d.identityStatus),i.xp6(2),i.hij(" 3. ",i.lcZ(19,16,"ONBOARDING.HEADER_STEPS.COMPANY_STEP_3")," ")}}const Pe=function(p){return{"d-block":p}};function Lt(p,E){if(1&p&&(i.TgZ(0,"div")(1,"div",27)(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",27)(6,"span"),i._uU(7),i.ALo(8,"translate"),i.qZA()(),i.TgZ(9,"div",27)(10,"span"),i._uU(11),i.ALo(12,"translate"),i.qZA()(),i.TgZ(13,"div",27)(14,"span"),i._uU(15),i.ALo(16,"translate"),i.qZA()()()),2&p){const d=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(16,Pe,!d.isEmailVerified)),i.xp6(2),i.hij(" 1/4 ",i.lcZ(4,8,"ONBOARDING.HEADER_STEPS.STEP_1")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(18,Pe,0===d.currentStepIndex)),i.xp6(2),i.hij(" 2/4 ",i.lcZ(8,10,"ONBOARDING.HEADER_STEPS.PERSON_STEP_2")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(20,Pe,1===d.currentStepIndex)),i.xp6(2),i.hij(" 3/4 ",i.lcZ(12,12,"ONBOARDING.HEADER_STEPS.PERSON_STEP_3")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(22,Pe,2===d.currentStepIndex)),i.xp6(2),i.hij(" 4/4 ",i.lcZ(16,14,"ONBOARDING.HEADER_STEPS.STEP_4")," ")}}function Ue(p,E){if(1&p&&(i.TgZ(0,"div",27)(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA()(),i.TgZ(4,"div",27)(5,"span"),i._uU(6),i.ALo(7,"translate"),i.qZA()(),i.TgZ(8,"div",27)(9,"span"),i._uU(10),i.ALo(11,"translate"),i.qZA()()),2&p){const d=i.oxw(2);i.Q6J("ngClass",i.VKq(12,Pe,!d.isEmailVerified)),i.xp6(2),i.hij(" 1/4 ",i.lcZ(3,6,"ONBOARDING.HEADER_STEPS.STEP_1")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(14,Pe,0===d.currentStepIndex)),i.xp6(2),i.hij(" 2/4 ",i.lcZ(7,8,"ONBOARDING.HEADER_STEPS.COMPANY_STEP_2")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(16,Pe,1===d.currentStepIndex)),i.xp6(2),i.hij(" 3/4 ",i.lcZ(11,10,"ONBOARDING.HEADER_STEPS.COMPANY_STEP_3")," ")}}function at(p,E){if(1&p&&(i.TgZ(0,"div")(1,"div",1)(2,"div",2),i._UZ(3,"i",3),i.qZA(),i.TgZ(4,"div",4),i._UZ(5,"app-header-profile"),i.qZA()(),i.TgZ(6,"header",5)(7,"nav",6)(8,"div",7)(9,"div",8)(10,"div",9),i._UZ(11,"i",3),i.qZA()(),i.TgZ(12,"div",10)(13,"div",11),i.YNc(14,xt,28,44,"div",12),i.YNc(15,Zt,20,31,"ng-template",null,13,i.W1O),i.qZA()(),i.TgZ(17,"div",14),i._UZ(18,"app-header-profile",15),i.qZA()()(),i.TgZ(19,"div",16),i.YNc(20,Lt,17,24,"div",12),i.YNc(21,Ue,12,18,"ng-template",null,17,i.W1O),i.qZA()()()),2&p){const d=i.MAs(16),m=i.MAs(22),S=i.oxw();i.xp6(14),i.Q6J("ngIf","company"!==S.userType)("ngIfElse",d),i.xp6(4),i.Q6J("identityStatus",S.identityStatus),i.xp6(2),i.Q6J("ngIf","company"!==S.userType)("ngIfElse",m)}}let Oe=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-header-steps"]],inputs:{isEmailVerified:"isEmailVerified",isPhoneVerified:"isPhoneVerified",isThirdStepCompleted:"isThirdStepCompleted",isFinalQuestionsDone:"isFinalQuestionsDone",identityStatus:"identityStatus",userType:"userType",currentStepIndex:"currentStepIndex"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","outside-header"],["id","logo-outside",1,"col-6","logo-outside","d-block","d-lg-none","pl-4"],["aria-hidden","true","alt","Bit2Me",1,"b2msf-logo"],[1,"col-6","header-profile","d-inline","d-lg-none"],["id","steps-header",1,"mt-md-4"],["id","nav",1,"clearfix"],[1,"row"],[1,"col-2"],[1,"logo","d-none","d-lg-block","pl-2"],[1,"col-md-12","col-lg-8"],[1,"steps-title","d-none","d-md-block"],[4,"ngIf","ngIfElse"],["companySteps",""],[1,"col-2","header-profile","d-none","d-lg-block"],[3,"identityStatus"],[1,"steps-title-mobile","d-block","d-md-none"],["companyMobileSteps",""],[1,"step","d-inline","mx-2","mx-lg-4",3,"ngClass"],["aria-hidden","true",1,"b2msf-check-circle-line","completed",3,"ngClass"],[1,"step-divisor","mx-0","mx-lg-2",3,"ngClass"],["aria-hidden","true","class","b2msf-check-circle-line completed",4,"ngIf"],["aria-hidden","true","class","b2msf-history pending",4,"ngIf"],["aria-hidden","true","class","b2msf-check-circle-line",4,"ngIf"],["aria-hidden","true",1,"b2msf-check-circle-line","completed"],["aria-hidden","true",1,"b2msf-history","pending"],["aria-hidden","true",1,"b2msf-check-circle-line"],[1,"step","d-none","my-2",3,"ngClass"]],template:function(d,m){1&d&&i.YNc(0,at,23,5,"div",0),2&d&&i.Q6J("ngIf",m.userType)},directives:[C.O5,Ze,C.mk],pipes:[N.X$],styles:[".row.outside-header[_ngcontent-%COMP%]   #logo-outside[_ngcontent-%COMP%]{color:#044e97;text-decoration:none;text-align:left}.row.outside-header[_ngcontent-%COMP%]   #logo-outside[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:34px;line-height:60px;vertical-align:middle}.row.outside-header[_ngcontent-%COMP%]   .header-profile[_ngcontent-%COMP%]{right:-30%}*[_ngcontent-%COMP%]{font-family:Open Sans}#steps-header[_ngcontent-%COMP%]{border-top:1px solid rgba(145,173,204,.5);border-bottom:1px solid rgba(145,173,204,.5);background-color:#fff}#steps-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:100%;line-height:inherit;line-height:60px;background-color:#fff;color:#044e97}#steps-header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2.header-profile[_ngcontent-%COMP%]{right:-12%}#steps-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#044e97;text-decoration:none;position:absolute;left:25px}#steps-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:34px;line-height:60px;vertical-align:middle}.steps-title[_ngcontent-%COMP%]{float:center;margin-left:0;height:100%;min-width:60px;line-height:inherit}.steps-title[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{color:#36a34d}.steps-title[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#ffc107}.steps-title[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]{color:#36a34d}.steps-title[_ngcontent-%COMP%]   .step.pending[_ngcontent-%COMP%]{color:#ffc107}.steps-title[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%], .steps-title[_ngcontent-%COMP%]   .step-divisor.active[_ngcontent-%COMP%]{color:#044e97}.steps-title[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%], .steps-title[_ngcontent-%COMP%]   .step-divisor[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:14px;line-height:20px;color:#b4d9fd}@media (max-width: 991px){.steps-title[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%], .steps-title[_ngcontent-%COMP%]   .step-divisor[_ngcontent-%COMP%]{font-size:12px;line-height:16px}}.steps-title-mobile[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:12px;line-height:16px;color:#044e97}@media (max-width: 991px){#steps-header.logo[_ngcontent-%COMP%]{left:80px}}@media (max-width: 575px){#steps-header.logo[_ngcontent-%COMP%]{left:10px}}@media (max-width: 576px){#steps-header.logo[_ngcontent-%COMP%]{margin-left:0;width:60px;text-align:center}}"]}),p})();var K=f(90587),Rt=f(36646),st=f(49525),yt=f(60116),ze=f(44874),Ee=f(32673),Dt=f(30897),be=f(88660);function Fe(p,E){if(1&p&&(i.TgZ(0,"ng-option",19),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.iso),i.xp6(1),i.Oqu(d.name)}}function Nt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function lt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function ct(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function wt(p,E){if(1&p&&(i.TgZ(0,"ng-option",19),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.iso),i.xp6(1),i.Oqu(d.name)}}function Ut(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Ft(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function qt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function kt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function Me(p,E){if(1&p&&(i.TgZ(0,"ng-option",19),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",null==d?null:d.fips),i.xp6(1),i.Oqu(null==d?null:d.name)}}function dt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function gt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function Gt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Yt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function Jt(p,E){if(1&p&&(i.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"fieldset",4)(5,"label")(6,"span"),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"span",5),i.ALo(10,"translate"),i.ALo(11,"translate"),i._UZ(12,"i",6),i.qZA()(),i.TgZ(13,"ng-select",7),i.ALo(14,"translate"),i.YNc(15,Fe,2,2,"ng-option",8),i.qZA(),i.TgZ(16,"div",9),i.YNc(17,Nt,3,3,"div",0),i.YNc(18,lt,3,3,"div",0),i.qZA()()()()(),i.TgZ(19,"div",1)(20,"div",10)(21,"div",11)(22,"fieldset",4)(23,"label")(24,"span"),i._uU(25),i.ALo(26,"translate"),i.qZA(),i.TgZ(27,"span",5),i.ALo(28,"translate"),i.ALo(29,"translate"),i._UZ(30,"i",6),i.qZA()(),i.TgZ(31,"div",12),i._UZ(32,"input",13),i.ALo(33,"translate"),i.qZA()(),i.TgZ(34,"div",9),i.YNc(35,ct,3,3,"div",0),i.qZA()()(),i.TgZ(36,"div",10)(37,"div",14)(38,"fieldset",4)(39,"label"),i._uU(40),i.ALo(41,"translate"),i.qZA(),i.TgZ(42,"ng-select",15),i.ALo(43,"translate"),i.YNc(44,wt,2,2,"ng-option",8),i.qZA(),i.TgZ(45,"div",9),i.YNc(46,Ut,3,3,"div",0),i.YNc(47,Ft,3,3,"div",0),i.qZA()()(),i.TgZ(48,"div",14)(49,"fieldset",4)(50,"label"),i._uU(51),i.ALo(52,"translate"),i.qZA(),i.TgZ(53,"div",12),i._UZ(54,"input",16),i.ALo(55,"translate"),i.qZA(),i.TgZ(56,"div",9),i.YNc(57,qt,3,3,"div",0),i.YNc(58,kt,3,3,"div",0),i.qZA()()()(),i.TgZ(59,"div",10)(60,"div",14)(61,"fieldset",4)(62,"label"),i._uU(63),i.ALo(64,"translate"),i.qZA(),i.TgZ(65,"ng-select",17),i.ALo(66,"translate"),i.YNc(67,Me,2,2,"ng-option",8),i.qZA(),i.TgZ(68,"div",9),i.YNc(69,dt,3,3,"div",0),i.YNc(70,gt,3,3,"div",0),i.qZA()()(),i.TgZ(71,"div",14)(72,"fieldset",4)(73,"label"),i._uU(74),i.ALo(75,"translate"),i.qZA(),i.TgZ(76,"div",12),i._UZ(77,"input",18),i.ALo(78,"translate"),i.qZA(),i.TgZ(79,"div",9),i.YNc(80,Gt,3,3,"div",0),i.YNc(81,Yt,3,3,"div",0),i.qZA()()()()()()),2&p){const d=E.ngIf,m=i.oxw();i.xp6(1),i.Q6J("formGroup",m.personalInfoForm),i.xp6(6),i.Oqu(i.lcZ(8,40,"FORM.NATIONATITY_SELECT.LABEL")),i.xp6(2),i.Q6J("nzPopoverTitle",i.lcZ(10,42,"FORM.NATIONATITY_SELECT.TOOLTIP.TITLE"))("nzPopoverContent",i.lcZ(11,44,"FORM.NATIONATITY_SELECT.TOOLTIP.LABEL"))("nzPopoverPlacement","right"),i.xp6(4),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(14,46,"FORM.COUNTRY_SELECT.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",d.countries),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("nationalityCountryCode").errors?null:m.personalInfoForm.get("person").get("nationalityCountryCode").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("nationalityCountryCode").errors?null:m.personalInfoForm.get("person").get("nationalityCountryCode").errors.invalid),i.xp6(1),i.Q6J("formGroup",m.addressForm),i.xp6(6),i.Oqu(i.lcZ(26,48,"FORM.FISCAL_ADDRESS_INPUT.LABEL")),i.xp6(2),i.Q6J("nzPopoverTitle",i.lcZ(28,50,"FORM.FISCAL_ADDRESS_INPUT.TOOLTIP.TITLE"))("nzPopoverContent",i.lcZ(29,52,"FORM.FISCAL_ADDRESS_INPUT.TOOLTIP.LABEL"))("nzPopoverPlacement","right"),i.xp6(5),i.Q6J("placeholder",i.lcZ(33,54,"FORM.FISCAL_ADDRESS_INPUT.PLACEHOLDER")),i.xp6(3),i.Q6J("ngIf",null==m.addressForm.get("streetAddress").errors?null:m.addressForm.get("streetAddress").errors.required),i.xp6(5),i.Oqu(i.lcZ(41,56,"FORM.FISCAL_ADDRESS_COUNTRY_SELECT.LABEL")),i.xp6(2),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(43,58,"FORM.FISCAL_ADDRESS_COUNTRY_SELECT.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",d.countries),i.xp6(2),i.Q6J("ngIf",null==m.addressForm.get("countryCode").errors?null:m.addressForm.get("countryCode").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.addressForm.get("countryCode").errors?null:m.addressForm.get("countryCode").errors.invalid),i.xp6(4),i.Oqu(i.lcZ(52,60,"FORM.RESIDENCY_ZIP.LABEL")),i.xp6(3),i.Q6J("placeholder",i.lcZ(55,62,"FORM.RESIDENCY_ZIP.PLACEHOLDER")),i.xp6(3),i.Q6J("ngIf",null==m.addressForm.get("zip").errors?null:m.addressForm.get("zip").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.addressForm.get("zip").errors?null:m.addressForm.get("zip").errors.invalid),i.xp6(5),i.Oqu(i.lcZ(64,64,"FORM.PROVINCE.LABEL")),i.xp6(2),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(66,66,"FORM.REGION_SELECT.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",null==d?null:d.countryRegions),i.xp6(2),i.Q6J("ngIf",null==m.addressForm.get("stateCode").errors?null:m.addressForm.get("stateCode").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.addressForm.get("stateCode").errors?null:m.addressForm.get("stateCode").errors.invalid),i.xp6(4),i.Oqu(i.lcZ(75,68,"FORM.RESIDENCY_CITY.LABEL")),i.xp6(3),i.Q6J("placeholder",i.lcZ(78,70,"FORM.RESIDENCY_CITY.PLACEHOLDER")),i.xp6(3),i.Q6J("ngIf",null==m.addressForm.get("city").errors?null:m.addressForm.get("city").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.addressForm.get("city").errors?null:m.addressForm.get("city").errors.invalid)}}const Qt=function(p,E){return{countries:p,countryRegions:E}};let Vt=(()=>{class p{constructor(d,m){this.localeService=d,this.commonService=m,this.languageCode$=this.localeService.getActiveLanguageAsObservable().pipe((0,e.U)(S=>S.code),(0,ze.O)(this.localeService.getAvailableLanguage().code)),this.countries$=this.languageCode$.pipe((0,Ee.w)(S=>this.commonService.countryList(S)))}ngOnInit(){this.addressForm.controls.stateCode.disable();const d=this.addressForm.get("countryCode").valueChanges.pipe((0,n.b)(()=>this.addressForm.get("stateCode").setValue("")));this.countryRegions$=(0,J.a)([d,this.languageCode$]).pipe((0,Ee.w)(([m,S])=>this.commonService.regionsByCountryList(m,S)),(0,ze.O)(this.regionList),(0,n.b)(m=>{this.disableStateSelect(m)}))}ngAfterViewInit(){const d=this.addressForm.get("countryCode").value,m=this.addressForm.get("stateCode").value;setTimeout(()=>{d&&this.addressForm.get("countryCode").setValue(d),m&&(this.addressForm.get("stateCode").setValue(m),this.addressForm.controls.stateCode.enable())},0)}disableStateSelect(d){d&&(d.length||this.addressForm.get("stateCode").value)?this.addressForm.controls.stateCode.enable():this.addressForm.controls.stateCode.disable()}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.OLO),i.Y36(t.v_H))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-general-info-and-residence-address-form"]],inputs:{personalInfoForm:"personalInfoForm",addressForm:"addressForm",regionList:"regionList"},decls:3,vars:8,consts:[[4,"ngIf"],[3,"formGroup"],["formGroupName","person",1,"row"],[1,"col-12","col-md-6","pt-2"],[1,"form-group"],["nz-popover","",1,"value",3,"nzPopoverTitle","nzPopoverContent","nzPopoverPlacement"],["aria-hidden","true",1,"b2msf-question-circle-line"],["formControlName","nationalityCountryCode","bindLabel","name",3,"searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"row"],[1,"col-12"],[1,"input-group","border","rounded"],["type","text","name","street","id","street","maxlength","128","formControlName","streetAddress",3,"placeholder"],[1,"col-12","col-md-6"],["formControlName","countryCode","bindLabel","name",3,"searchable","clearable","placeholder"],["type","text","formControlName","zip",3,"placeholder"],["formControlName","stateCode","bindLabel","name",3,"searchable","clearable","placeholder"],["type","text","formControlName","city",3,"placeholder"],[3,"value"]],template:function(d,m){1&d&&(i.YNc(0,Jt,82,72,"div",0),i.ALo(1,"async"),i.ALo(2,"async")),2&d&&i.Q6J("ngIf",i.WLB(5,Qt,i.lcZ(1,1,m.countries$),i.lcZ(2,3,m.countryRegions$)))},directives:[C.O5,K.JL,K.sg,K.x0,Dt.lU,be.w9,K.JJ,K.u,C.sg,be.jq,K.Fj,K.nD],pipes:[C.Ov,N.X$],styles:[".form-group[_ngcontent-%COMP%]{margin:8px 0}.form-group[_ngcontent-%COMP%]   .b2msf-question-circle-line[_ngcontent-%COMP%]{color:#8a8a8a;font-size:16px;margin-left:5px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:600;font-size:14px;line-height:20px;letter-spacing:.25px;color:#333}.form-group[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8a8a8a}.form-group[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{border:1px solid #dbdbdb;border-radius:4px}@media (max-width: 576px){.form-group[_ngcontent-%COMP%]{margin:5px 0}}"]}),p})();const pt=function(p,E){return{isMobile:p,adjust:E}},ut=function(p,E,d){return{"d-none":p,open:E,closed:d}},_t=function(p,E,d,m){return{"d-block":p,"d-none":E,isMobile:d,adjust:m}},Ie=function(p){return{"p-3":p}},zt=function(p){return{"pb-4":p}},Bt=function(p){return{"d-inline":p}},ue=function(p,E,d){return{"pb-5":p,"d-block":E,"d-none":d}},qe=function(p,E){return{"d-inline":p,"d-none":E}};let mt=(()=>{class p{constructor(d){this.layoutService=d}get existFreshChat(){return document.getElementById("fc_frame")}isMobileSize(){return this.layoutService.isMobile()||this.layoutService.windowWidth<=767}openPhoneSupportSchedule(){this.isPhoneSupportScheduleOpen=!0}closePhoneSupportSchedule(){this.isPhoneSupportScheduleOpen=!1}toggleOpen(){this.isBubbleWrapperOpen=!this.isBubbleWrapperOpen}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.Pb3))},p.\u0275cmp=i.Xpm({type:p,selectors:[["bngx-support-contact"]],inputs:{onboardingStep:"onboardingStep"},decls:45,vars:61,consts:[["id","chat-bubble-wrapper",3,"ngClass"],["supportBubbleWrapper",""],["id","chat-bubble-wrapper",1,"support-bubble-button",3,"ngClass","click"],["supportBubbleButton",""],[1,"closed"],["aria-hidden","true",1,"b2msf-personal-support"],[1,"open"],[1,"bar","left"],[1,"bar","right"],[1,"card","px-2",3,"ngClass"],["alt","","src","assets/images/onboarding/support-onboarding.jpg",1,"image-support"],[1,"container",3,"ngClass"],[1,"title","pb-2","p-md-3"],[1,"content",3,"ngClass"],[1,"mb-md-2","d-block",3,"innerHTML"],[3,"innerHTML"],[1,"action-buttons","d-none",3,"ngClass"],[1,"b2m-btn","btn-line","col-4","m-0","mr-3",3,"click"],["aria-hidden","true",1,"b2msf-personal-support","pr-2"],["target","_blank","rel","noopener noreferrer",1,"b2m-btn","btn-line","d-inline","col-4","m-0",3,"href"],["aria-hidden","true",1,"b2msf-faq","pr-2"],[1,"phoneSupportSchedule",3,"ngClass"],["phoneSupportSchedule",""],[3,"ngClass","click"],["aria-hidden","true",1,"b2msf-chevron-up"],[1,"action-buttons-outside",3,"ngClass"]],template:function(d,m){1&d&&(i.TgZ(0,"div",0,1)(2,"button",2,3),i.NdJ("click",function(){return m.toggleOpen()}),i.TgZ(4,"div",4),i._UZ(5,"i",5),i.qZA(),i.TgZ(6,"div",6),i._UZ(7,"span",7)(8,"span",8),i.qZA()(),i.TgZ(9,"div",9),i._UZ(10,"img",10),i.TgZ(11,"div",11)(12,"div",12)(13,"h4"),i._uU(14),i.ALo(15,"translate"),i.qZA()(),i.TgZ(16,"div",13),i._UZ(17,"span",14),i.ALo(18,"translate"),i._UZ(19,"span",15),i.ALo(20,"translate"),i.qZA(),i.TgZ(21,"div",16)(22,"button",17),i.NdJ("click",function(){return m.openPhoneSupportSchedule()}),i._UZ(23,"i",18),i.TgZ(24,"span"),i._uU(25),i.ALo(26,"translate"),i.qZA()(),i.TgZ(27,"a",19),i.ALo(28,"translate"),i._UZ(29,"i",20),i.TgZ(30,"span"),i._uU(31),i.ALo(32,"translate"),i.qZA()()()(),i.TgZ(33,"div",21,22),i._UZ(35,"bngx-support-phone"),i.TgZ(36,"button",23),i.NdJ("click",function(){return m.closePhoneSupportSchedule()}),i._UZ(37,"i",24),i.qZA(),i.TgZ(38,"div",25)(39,"a",19),i.ALo(40,"translate"),i._UZ(41,"i",20),i.TgZ(42,"span"),i._uU(43),i.ALo(44,"translate"),i.qZA()()()()()()),2&d&&(i.Q6J("ngClass",i.WLB(33,pt,m.isMobileSize(),m.existFreshChat)),i.xp6(2),i.Q6J("ngClass",i.kEZ(36,ut,!m.isMobileSize(),m.isBubbleWrapperOpen||!m.isMobileSize(),!m.isBubbleWrapperOpen&&m.isMobileSize())),i.xp6(7),i.Q6J("ngClass",i.l5B(40,_t,m.isBubbleWrapperOpen||!m.isMobileSize(),!m.isBubbleWrapperOpen&&m.isMobileSize(),m.isMobileSize(),m.existFreshChat)),i.xp6(2),i.Q6J("ngClass",i.VKq(45,Ie,!m.isMobileSize())),i.xp6(3),i.hij(" ",i.lcZ(15,17,"ONBOARDING.SUPPORT_CONTACT."+m.onboardingStep.toUpperCase()+".TITLE")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(47,zt,!m.isMobileSize())),i.xp6(1),i.Q6J("innerHTML",i.lcZ(18,19,"ONBOARDING.SUPPORT_CONTACT."+m.onboardingStep.toUpperCase()+".PARAGRAPH_1"),i.oJD),i.xp6(2),i.Q6J("innerHTML",i.lcZ(20,21,"ONBOARDING.SUPPORT_CONTACT."+m.onboardingStep.toUpperCase()+".PARAGRAPH_2"),i.oJD),i.xp6(2),i.Q6J("ngClass",i.VKq(49,Bt,!m.isMobileSize())),i.xp6(4),i.Oqu(i.lcZ(26,23,"ONBOARDING.SUPPORT_CONTACT.CALL_BUTTON")),i.xp6(2),i.s9C("href",i.lcZ(28,25,"ONBOARDING.SUPPORT_CONTACT.SUPPORT_LINK"),i.LSH),i.xp6(4),i.Oqu(i.lcZ(32,27,"ONBOARDING.SUPPORT_CONTACT.SUPPORT_BUTTON")),i.xp6(2),i.Q6J("ngClass",i.kEZ(51,ue,m.isMobileSize(),m.isPhoneSupportScheduleOpen||m.isMobileSize(),!m.isPhoneSupportScheduleOpen&&!m.isMobileSize())),i.xp6(3),i.Q6J("ngClass",i.WLB(55,qe,m.isPhoneSupportScheduleOpen&&!m.isMobileSize(),!m.isPhoneSupportScheduleOpen||!m.isMobileSize())),i.xp6(2),i.Q6J("ngClass",i.WLB(58,qe,m.isMobileSize()&&m.isBubbleWrapperOpen,!m.isMobileSize()||!m.isBubbleWrapperOpen)),i.xp6(1),i.s9C("href",i.lcZ(40,29,"ONBOARDING.SUPPORT_CONTACT.SUPPORT_LINK"),i.LSH),i.xp6(4),i.Oqu(i.lcZ(44,31,"ONBOARDING.SUPPORT_CONTACT.SUPPORT_BUTTON")))},directives:[C.mk,t.lR$],pipes:[N.X$],styles:["#chat-bubble-wrapper[_ngcontent-%COMP%]{display:block;position:fixed;z-index:4;width:50px;height:50px;top:20%}#chat-bubble-wrapper[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans}#chat-bubble-wrapper.isMobile[_ngcontent-%COMP%]{top:unset;right:5%;bottom:65px}#chat-bubble-wrapper.isMobile.adjust[_ngcontent-%COMP%]{right:100px}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button[_ngcontent-%COMP%]{position:relative;width:100%;z-index:1047;height:100%;font-size:20px;line-height:56px;border:1px solid #044e97;border-radius:50%;color:#044e97;background-color:#fff;text-align:center;padding:0;transition:all .3s ease}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button[_ngcontent-%COMP%]:active{outline:0}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%], #chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button[_ngcontent-%COMP%]   .closed[_ngcontent-%COMP%]{display:none}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button[_ngcontent-%COMP%]   .closed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{display:block}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;width:2px;height:20px;top:50%;left:50%;background-color:#044e97}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]   .bar.left[_ngcontent-%COMP%]{transform:translate(-50%,-50%) rotate(45deg)}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button.open[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]   .bar.right[_ngcontent-%COMP%]{transform:translate(-50%,-50%) rotate(-45deg)}#chat-bubble-wrapper[_ngcontent-%COMP%]   .support-bubble-button.closed[_ngcontent-%COMP%]   .closed[_ngcontent-%COMP%]{display:block}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:352px;min-height:250px;max-height:489px;background:#f5faff;border-radius:4px;align-items:center}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]{width:281px;bottom:calc(100% + 470px);right:calc(100% + 185px)}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile.adjust[_ngcontent-%COMP%]{right:calc(100% + 150px)}@media (max-width: 320px){#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile.adjust[_ngcontent-%COMP%]{bottom:calc(100% + 400px);right:calc(100% + 100px)}}@media (max-width: 320px){#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]{height:420px;bottom:calc(100% + 370px)}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   .image-support[_ngcontent-%COMP%]{top:10px;display:block}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin-top:5rem}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .content-tab{padding:10px}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .col:first-child{padding-left:2rem}@media (max-width: 320px){#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .content-tab{padding:0}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .col:first-child{padding-left:2rem}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .phone-number{margin:0}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card.isMobile[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .schedule-box{font-size:10px}}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .image-support[_ngcontent-%COMP%]{position:absolute;width:60px;height:59px;left:calc(50% - 25px);top:-45px;border-radius:100px}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .phoneSupportSchedule[_ngcontent-%COMP%]{text-align:center}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   a.b2m-btn.btn-line[_ngcontent-%COMP%], #chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .b2m-btn.btn-line[_ngcontent-%COMP%]{min-width:136.27px;min-height:36px;height:36px;color:#033363;background:#f5faff;text-transform:none;border:1px solid #033363;box-sizing:border-box;border-radius:4px}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{align-items:center;text-align:center}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;color:#033363}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#4d4d4d}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents{background-color:#f5faff;flex:3}#chat-bubble-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   bngx-support-phone[_ngcontent-%COMP%]  .contents .col:first-child{padding-left:3rem}"]}),p})();function ft(p,E){1&p&&(i.TgZ(0,"div",36)(1,"h4"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"ONBOARDING.STEP_2.TITLE_PERSON")))}function Ht(p,E){1&p&&(i.TgZ(0,"div",37)(1,"h4"),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"ONBOARDING.STEP_2.TITLE_COMPANY")))}function jt(p,E){if(1&p&&(i.TgZ(0,"div"),i._UZ(1,"app-general-info-and-residence-address-form",38),i.qZA()),2&p){const d=i.oxw(2);i.xp6(1),i.Q6J("personalInfoForm",d.personalInfoForm)("addressForm",d.addressForm)("regionList",d.regionList)}}function Be(p,E){1&p&&(i.TgZ(0,"div")(1,"div",39)(2,"div",40),i._UZ(3,"p",41),i.ALo(4,"translate"),i.qZA()()()),2&p&&(i.xp6(3),i.Q6J("innerHTML",i.lcZ(4,1,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.CANNOT_EDIT.MESSAGE"),i.oJD))}function Wt(p,E){1&p&&(i.TgZ(0,"div",42)(1,"div",40)(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA()()()),2&p&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.UNACCEPTABLE_RISK")))}function ht(p,E){1&p&&(i.TgZ(0,"div",42)(1,"div",40)(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA()()()),2&p&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.UNDEFINED_RISK")))}function xe(p,E){1&p&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"ONBOARDING.STEP_2.CONTINUE_AND_SEND_SMS")))}function $t(p,E){1&p&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"BUTTONS.CONTINUE")))}function Kt(p,E){if(1&p&&(i.TgZ(0,"span")(1,"a",43),i._uU(2),i.ALo(3,"translate"),i.qZA()()),2&p){const d=i.oxw(2);i.xp6(1),i.Q6J("href",d.walletServiceUrl+"?showModal=true",i.LSH),i.xp6(1),i.hij(" ",i.lcZ(3,2,"BUTTONS.CONTINUE"),"")}}const He=function(p){return{submitted:p}},ke=function(){return["pending","verified"]},Xt=function(p){return{"d-none":p}};function fe(p,E){if(1&p){const d=i.EpF();i.TgZ(0,"div",1)(1,"div",2),i._UZ(2,"div",3),i.TgZ(3,"div",4),i.YNc(4,ft,4,3,"div",5),i.YNc(5,Ht,4,3,"div",6),i.TgZ(6,"aw-wizard",7,8)(8,"aw-wizard-step")(9,"div",9)(10,"form",10,11),i.NdJ("ngSubmit",function(){return i.CHM(d),i.oxw().submitPersonalInfoAndPhone()}),i.YNc(12,jt,2,3,"div",12),i.ALo(13,"async"),i.YNc(14,Be,5,3,"div",12),i.YNc(15,Wt,5,3,"div",13),i.YNc(16,ht,5,3,"div",13),i.TgZ(17,"div",14)(18,"bngx-add-phone-number-first-step",15),i.NdJ("isoCountrySelected",function(S){return i.CHM(d),i.oxw().onIsoCountrySelectedChanged(S)})("handleKeypress",function(){return i.CHM(d),i.oxw().submitPersonalInfoAndPhone()}),i.qZA()(),i.TgZ(19,"div",16)(20,"div",17),i._UZ(21,"i",18),i.qZA(),i.TgZ(22,"div",2)(23,"div",19),i._UZ(24,"i",20),i.TgZ(25,"span"),i._uU(26),i.ALo(27,"translate"),i.qZA()(),i.TgZ(28,"div",21)(29,"button",22),i.YNc(30,xe,3,3,"span",12),i.YNc(31,$t,3,3,"span",12),i.YNc(32,Kt,4,4,"span",12),i.qZA()()()()()()(),i.TgZ(33,"aw-wizard-step",23),i.NdJ("stepEnter",function(){return i.CHM(d),i.oxw().changeOnboardingStep()}),i.TgZ(34,"div",9)(35,"form",24,25),i.NdJ("ngSubmit",function(){return i.CHM(d),i.oxw().onVerificationCodeFormSubmit()}),i.TgZ(37,"div",26)(38,"bngx-add-phone-number-second-step",27),i.NdJ("handleKeypress",function(){return i.CHM(d),i.oxw().onVerificationCodeFormSubmit()}),i.qZA()(),i.TgZ(39,"div",28)(40,"button",22)(41,"p",29),i._uU(42),i.ALo(43,"translate"),i.qZA()()()()()()(),i.TgZ(44,"div",30),i._UZ(45,"img",31)(46,"img",32),i.qZA()(),i.TgZ(47,"div",33)(48,"div",34),i._UZ(49,"bngx-support-contact",35),i.qZA()()()()}if(2&p){const d=E.ngIf,m=i.MAs(11),S=i.MAs(36),Z=i.oxw();i.xp6(4),i.Q6J("ngIf","company"!==(null==Z.account?null:Z.account.type)),i.xp6(1),i.Q6J("ngIf","company"===(null==Z.account?null:Z.account.type)),i.xp6(5),i.Q6J("formGroup",Z.personalInfoForm)("ngClass",i.VKq(37,He,m.submitted)),i.xp6(2),i.Q6J("ngIf",i.lcZ(13,31,!i.DdM(39,ke).includes(null==d?null:d.status)&&"company"!==(null==Z.account?null:Z.account.type)&&Z.residenceAddress$)),i.xp6(2),i.Q6J("ngIf",!Z.hasResidenceAddress&&i.DdM(40,ke).includes(null==d?null:d.status)&&"company"!==(null==Z.account?null:Z.account.type)),i.xp6(1),i.Q6J("ngIf",Z.isUnacceptableRisk),i.xp6(1),i.Q6J("ngIf",Z.isUndefinedRisk),i.xp6(1),i.Q6J("ngClass",i.VKq(41,Xt,Z.phoneNumber)),i.xp6(1),i.Q6J("phoneNumberForm",Z.phoneNumberForm)("initialCountry",null==Z.personalInfoForm||null==Z.personalInfoForm.value||null==Z.personalInfoForm.value.person?null:Z.personalInfoForm.value.person.nationalityCountryCode)("isOnboarding",!0)("remainingMinutes",Z.remainingMinutes),i.xp6(8),i.Oqu(i.lcZ(27,33,"ONBOARDING.STEP_2.CONFIRMATION_DATA_LABEL")),i.xp6(3),i.Q6J("bngxLoadingLayer",Z.submitting)("disabled",Z.submitting||(null==Z.phoneNumberForm||null==Z.phoneNumberForm.controls||null==Z.phoneNumberForm.controls.number||null==Z.phoneNumberForm.controls.number.errors?null:Z.phoneNumberForm.controls.number.errors.tooManyRequests)||Z.isUnacceptableRisk||Z.isUndefinedRisk),i.xp6(1),i.Q6J("ngIf",!Z.phoneNumber),i.xp6(1),i.Q6J("ngIf",Z.hasResidenceAddress&&Z.phoneNumber),i.xp6(1),i.Q6J("ngIf",Z.phoneNumber&&!Z.hasResidenceAddress&&i.DdM(43,ke).includes(null==d?null:d.status)&&"company"!==(null==Z.account?null:Z.account.type)),i.xp6(1),i.Q6J("canEnter",Z.canEnterSendCodeStep),i.xp6(2),i.Q6J("ngClass",i.VKq(44,He,S.submitted))("formGroup",Z.verificationCodeForm),i.xp6(3),i.Q6J("isOnboarding",!0)("isoCountrySelected",Z.isoCountrySelected)("phoneNumberForm",Z.phoneNumberForm)("verificationCodeForm",Z.verificationCodeForm)("submitting",Z.submitting),i.xp6(2),i.Q6J("bngxLoadingLayer",Z.submitting)("disabled",Z.submitting),i.xp6(2),i.Oqu(i.lcZ(43,35,"ONBOARDING.STEP_2.VERIFY")),i.xp6(7),i.Q6J("onboardingStep",Z.onboardingStep)}}let Ot=(()=>{class p{constructor(d,m,S,Z,oe,_e,Te,W,ve,De,Xe,et,tt){this.formBuilder=d,this.commonService=m,this.accountService=S,this.sessionsService=Z,this.currentUserStore=oe,this.addressService=_e,this.verifyPhoneService=Te,this.notificationsService=W,this.translateService=ve,this.localeService=De,this.accountAnalyticsService=Xe,this.authService=et,this.urlService=tt,this.completedStep=new i.vpe,this.residenceAddress$=this.addressService.getAddresses({isResidence:!0}).pipe((0,n.b)(Qe=>this.buildAddressForm(Qe))),this.destroy$=new O.x,this.submitting=!1,this.activeSession={data:[],total:0},this.onboardingStep="STEP_2.1",this.ngIntlInputOptions={initialCountry:"es",preferredCountries:["es"]},this.identityStatus$=this.accountService.getIdentityStatus(),this.canSendCode=!1,this.walletServiceUrl=this.urlService.service("wallet"),this.canEnterSendCodeStep=Qe=>{switch(Qe){case Y.$4.Forwards:return this.canSendCode;case Y.$4.Stay:return!0;default:return!1}}}ngOnInit(){var d,m;this.account=this.currentUserStore.getCurrentUser().account,this.phoneNumber=null===(m=null===(d=this.account)||void 0===d?void 0:d.phone)||void 0===m?void 0:m.number,this.buildForms(),this.loadActiveSession()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}loadActiveSession(){this.sessionsService.getSessions({offset:0,limit:1,sort:"desc",filter:"active"}).subscribe(m=>{this.activeSession=m,this.personalInfoForm.get("person").get("nationalityCountryCode").setValue(this.account.person.nationalityCountryCode||this.activeSession.data[0].countryCode)})}buildAddressForm(d=[]){var m;const S=d[0];let Z=null===(m=this.account)||void 0===m?void 0:m.address;S&&(Z={country:null==S?void 0:S.countryCode,state:null==S?void 0:S.stateCode,city:null==S?void 0:S.city,street:null==S?void 0:S.streetAddress,zip:null==S?void 0:S.zip}),this.hasResidenceAddress=!k().isEmpty(d),(null==Z?void 0:Z.country)&&this.commonService.regionsByCountryList(null==Z?void 0:Z.country,this.currentUserStore.user.getLangCode()).pipe((0,Q.R)(this.destroy$)).subscribe(oe=>{this.regionList=oe}),this.addressForm=this.formBuilder.group({countryCode:[(null==Z?void 0:Z.country)||null,[K.kI.required]],streetAddress:[(null==Z?void 0:Z.street)||"",[K.kI.required]],stateCode:[(null==Z?void 0:Z.state)||null,[K.kI.required]],city:[(null==Z?void 0:Z.city)||"",[K.kI.required]],zip:[(null==Z?void 0:Z.zip)||"",[K.kI.required]],isResidence:[!0,[K.kI.required]],isDefaultAddress:[!0]}),this.setUnacceptableForFormChanges()}setUnacceptableForFormChanges(){const d=this.personalInfoForm.get("person").get("nationalityCountryCode").valueChanges,m=this.addressForm.get("countryCode").valueChanges;(0,Rt.T)(d,m).pipe((0,Q.R)(this.destroy$)).subscribe(()=>{this.isUnacceptableRisk=!1,this.isUndefinedRisk=!1})}buildForms(){this.phoneNumberForm=this.formBuilder.group({number:[this.phoneNumber,[K.kI.required]]}),this.verificationCodeForm=this.formBuilder.group({verificationCode:["",[K.kI.required]]}),this.account.person=Object.assign({nationalityCountryCode:null},this.account.person),this.personalInfoForm=this.formBuilder.group({person:this.formBuilder.group({nationalityCountryCode:[this.account.person.nationalityCountryCode||null,[K.kI.required]]})})}submitPersonalInfoAndPhone(){var d;"company"!==(null===(d=this.account)||void 0===d?void 0:d.type)&&this.addressForm?this.submitPersonalInfo():this.sendCodeToPhone()}submitPersonalInfo(){if(this.personalInfoForm.invalid||this.addressForm.invalid||this.isUnacceptableRisk||this.phoneNumberForm.invalid)return;this.submitting=!0;const d=this.personalInfoForm.getRawValue(),m=this.addressForm.getRawValue();this.accountService.update(d).pipe((0,Q.R)(this.destroy$),(0,st.z)(()=>this.addressService.createAddress(m)),(0,st.z)(()=>this.identityStatus$),(0,n.b)(S=>{this.isUnacceptableRisk=S.risk.level===t.Ftf.unacceptable,this.isUndefinedRisk=S.risk.level===t.Ftf.undefined}),(0,yt.h)(S=>![t.Ftf.unacceptable,t.Ftf.undefined].includes(S.risk.level))).subscribe(S=>{var Z;S&&(this.phoneNumber?(this.completedStep.emit(!0),null===(Z=this.wizardOnboarding)||void 0===Z||Z.goToNextStep()):this.sendCodeToPhone())}).add(()=>{this.submitting=!1})}onIsoCountrySelectedChanged(d){this.isoCountrySelected=d}buildRequestData(){try{return this.verifyPhoneService.buildRequestData(this.phoneNumberForm,this.isoCountrySelected)}catch(d){switch(this.submitting=!1,null==d?void 0:d.message){case this.verifyPhoneService.GOOGLE_LIBPHONENUMBER_ERRORS.NOT_A_NUMBER:this.phoneNumberForm.get("number").setErrors({notSeemToBePhoneNumber:!0});break;case this.verifyPhoneService.GOOGLE_LIBPHONENUMBER_ERRORS.INVALID_COUNTRY_CODE:this.phoneNumberForm.get("number").setErrors({invalidCountryCode:!0});break;case this.verifyPhoneService.GOOGLE_LIBPHONENUMBER_ERRORS.TOO_LONG:this.phoneNumberForm.get("number").setErrors({tooLong:!0});break;case this.verifyPhoneService.GOOGLE_LIBPHONENUMBER_ERRORS.TOO_SHORT_AFTER_IDD:case this.verifyPhoneService.GOOGLE_LIBPHONENUMBER_ERRORS.TOO_SHORT_NSN:this.phoneNumberForm.get("number").setErrors({tooShort:!0});break;default:this.phoneNumberForm.get("number").setErrors({validatePhoneNumber:!0})}throw new Error(d)}}sendCodeToPhone(){if(!this.phoneNumberForm||this.phoneNumberForm.invalid)return;this.submitting=!0;const d=this.buildRequestData();this.verifyPhoneService.sendCodeToPhone(d).pipe((0,Q.R)(this.destroy$)).subscribe({next:()=>{this.canSendCode=!0,this.submitting=!1,this.wizard.goToNextStep()},error:m=>{var S,Z,oe,_e,Te,W,ve;if(this.submitting=!1,406===m.status&&this.phoneNumberForm.controls.number.setErrors({existingPhone:!0}),400===m.status&&this.phoneNumberForm.get("number").setErrors({validatePhoneNumber:!0}),410===m.status&&this.phoneNumberForm.get("number").setErrors({general:!0}),(null===(Z=null===(S=null==m?void 0:m.error)||void 0===S?void 0:S.message)||void 0===Z?void 0:Z.includes)&&(null===(_e=null===(oe=null==m?void 0:m.error)||void 0===oe?void 0:oe.message)||void 0===_e?void 0:_e.includes("rateLimitRemaining"))||(null===(Te=null==m?void 0:m.error)||void 0===Te?void 0:Te.includes)&&(null===(W=null==m?void 0:m.error)||void 0===W?void 0:W.includes("rateLimitRemaining"))){const De=JSON.parse((null===(ve=null==m?void 0:m.error)||void 0===ve?void 0:ve.message)||(null==m?void 0:m.error));this.remainingMinutes=De.rateLimitRemaining,this.phoneNumberForm.get("number").setErrors({tooManyRequests:!0})}}}),this.submitting=!1}onVerificationCodeFormSubmit(){this.submitting=!0,this.verifyPhoneService.verifyPhoneCode(this.phoneNumberForm,this.verificationCodeForm,this.isoCountrySelected).pipe((0,Q.R)(this.destroy$)).subscribe(()=>{this.accountAnalyticsService.trackGoogleAnalyticPhoneVerifiedEvent(this.authService.getUserInfo().sub),this.completedStep.emit(!0),this.notificationsService.success(this.translateService.instant("ACCOUNT_UI.DIALOGS.PHONE_NUMBER.SUCCESS"))},d=>{this.submitting=!1,(400===d.status||404===d.status)&&(this.verificationCodeForm.controls.verificationCode.setErrors({invalidCode:!0}),this.notificationsService.error(this.translateService.instant("ACCOUNT_UI.DIALOGS.PHONE_NUMBER.ERROR"))),429===d.status&&(this.verificationCodeForm.controls.verificationCode.reset(),this.verificationCodeForm.controls.verificationCode.setValue(""),this.wizard.goToPreviousStep())})}changeOnboardingStep(){this.onboardingStep="STEP_2.2"}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(K.qu),i.Y36(t.v_H),i.Y36(t.BRM),i.Y36(t.jVh),i.Y36(t.Dk$),i.Y36(X.D),i.Y36(t.q4s),i.Y36(t.TFo),i.Y36(N.sK),i.Y36(t.OLO),i.Y36(t.p$5),i.Y36(t.e80),i.Y36(t.iOJ))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-verify-general-info-and-phone"]],viewQuery:function(d,m){if(1&d&&i.Gf(Y.Pl,5),2&d){let S;i.iGM(S=i.CRH())&&(m.wizard=S.first)}},inputs:{wizardOnboarding:"wizardOnboarding"},outputs:{completedStep:"completedStep"},features:[i._Bn([t.YwO])],decls:2,vars:3,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-0","col-lg-3","order-0"],[1,"col-12","col-md-6","col-lg-4","order-1","left-col"],["class","step-title person",4,"ngIf"],["class","step-title company",4,"ngIf"],[1,"aw-wizard-hide-steps"],["wizard",""],[1,"contents"],[1,"position-relative",3,"formGroup","ngClass","ngSubmit"],["personalInfoFormTemplate","ngForm"],[4,"ngIf"],["class","alert mini-alert alert-danger","role","alert",4,"ngIf"],[1,"modal-body","pt-0","pt-md-1",3,"ngClass"],[3,"phoneNumberForm","initialCountry","isOnboarding","remainingMinutes","isoCountrySelected","handleKeypress"],[1,"footer"],[1,"confirmation-data","icon","pr-4","pb-4","d-none","d-md-inline"],["aria-hidden","true",1,"b2msf-check-circle-solid"],[1,"col-12","col-md-6","confirmation-data","label","pl-0","mb-2","mb-md-0"],["aria-hidden","true",1,"b2msf-check-circle-solid","d-inline","d-md-none","pr-2"],[1,"col-12","col-md-6","submit-button","pr-0"],["type","submit",1,"b2m-btn","btn-solid","mr-0",3,"bngxLoadingLayer","disabled"],[3,"canEnter","stepEnter"],["name","validate-phone-number-form",1,"needs-validation",3,"ngClass","formGroup","ngSubmit"],["verificationCodeFormTemplate","ngForm"],[1,"modal-body","mb-4"],[3,"isOnboarding","isoCountrySelected","phoneNumberForm","verificationCodeForm","submitting","handleKeypress"],[1,"footer","second-step"],[1,"px-5"],[1,"legal-icons","mt-4"],["src","assets/images/onboarding/secure-ssl.svg","alt","Secure SSL",1,"secure-ssl","mr-2"],["src","assets/images/onboarding/banco-de-espana.svg","alt","Banco de Espa\xf1a",1,"banco-de-espana"],[1,"col-0","col-md-4","order-2","right-col"],[1,"right-col-image"],[3,"onboardingStep"],[1,"step-title","person"],[1,"step-title","company"],[3,"personalInfoForm","addressForm","regionList"],["role","alert",1,"alert","alert-info"],[1,"alert-contents"],[3,"innerHTML"],["role","alert",1,"alert","mini-alert","alert-danger"],[2,"color","white","text-decoration-line","none",3,"href"]],template:function(d,m){1&d&&(i.YNc(0,fe,50,46,"div",0),i.ALo(1,"async")),2&d&&i.Q6J("ngIf",i.lcZ(1,1,m.identityStatus$))},directives:[C.O5,Y.Pl,Y.GZ,K._Y,K.JL,K.sg,C.mk,Vt,t.TqM,t.gO3,t.VN0,mt],pipes:[C.Ov,N.X$],styles:[".container-fluid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]{text-align:left}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;text-align:left;padding:1rem 1rem 1rem 0px;display:flex;align-items:center;justify-content:flex-start}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:28px;color:#03407c}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;padding:0}}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-first-step[_ngcontent-%COMP%]  .form-group{margin:8px 0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-first-step[_ngcontent-%COMP%]  .info-label{display:none}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-first-step[_ngcontent-%COMP%]  p{color:#000}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .form-group{margin:2rem 0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .input-group{max-width:296px;min-width:280px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .phone-number{color:#4d4d4d}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .phone-number.number{font-size:20px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  label, .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  p{color:#333}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  a.unactive{color:#9e9e9e;pointer-events:none;cursor:default}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .resend-code{font-size:14px;line-height:20px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .resend-code nz-progress .ant-progress-text{color:#9e9e9e}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .resend-code nz-progress .ant-progress-circle-path{stroke:#9e9e9e}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .resend-code nz-progress .ant-progress-circle-trail{stroke:none}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  .write-code-label{display:none}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   bngx-add-phone-number-second-step[_ngcontent-%COMP%]  a{font-weight:700;font-size:14px;line-height:16px;letter-spacing:.25px;color:#03407c}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:1rem;display:flex;padding:1rem 0;border-top:1px solid #f0f0f0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer.second-step[_ngcontent-%COMP%]{justify-content:flex-end}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data[_ngcontent-%COMP%]{color:#044e97;font-size:12px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data.icon[_ngcontent-%COMP%]{display:inline;padding-right:0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data.label[_ngcontent-%COMP%]{width:55%;height:32px;font-style:normal;font-weight:400;font-size:12px;line-height:16px;letter-spacing:.25px;padding-right:15%}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{text-align:right}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   a.b2m-btn[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:0;border-top:0;display:block;justify-content:center;align-items:center;text-align:left}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer.second-step[_ngcontent-%COMP%]{text-align:center}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data[_ngcontent-%COMP%]{width:100%}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data.label[_ngcontent-%COMP%]{text-align:center;padding-right:0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{text-align:center;padding:0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   a.b2m-btn[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{font-size:14px}}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .legal-icons[_ngcontent-%COMP%]   .banco-de-espana[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .legal-icons[_ngcontent-%COMP%]   .secure-ssl[_ngcontent-%COMP%]{top:50%}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .legal-icons[_ngcontent-%COMP%]{text-align:center}}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right-col[_ngcontent-%COMP%]{text-align:center;align-items:center}"]}),p})();var Ge=f(53158),Ye=f(26540),je=f(38571);function en(p,E){if(1&p&&(i.TgZ(0,"li"),i._UZ(1,"p",6),i.ALo(2,"translate"),i.qZA()),2&p){const d=E.$implicit;i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,1,"PROFILE_IDENTITY_RESUME_PAGE.STATUS_ERROR.ERRORS."+d.toUpperCase()),i.oJD)}}function tn(p,E){1&p&&(i.TgZ(0,"div",11)(1,"div",12)(2,"p"),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",13),i._UZ(6,"p",6),i.ALo(7,"translate"),i.qZA()()),2&p&&(i.xp6(3),i.Oqu(i.lcZ(4,2,"ONBOARDING.STEP_3.PROFILE_IDENTITY_MAX_RETRIES_REACHED_ALERT.TITLE")),i.xp6(3),i.Q6J("innerHTML",i.lcZ(7,4,"ONBOARDING.STEP_3.PROFILE_IDENTITY_MAX_RETRIES_REACHED_ALERT.TEXT"),i.oJD))}let nn=(()=>{class p{constructor(d,m,S){this.nzModalRef=d,this.jumioService=m,this.localeService=S,this.destroy$=new O.x}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}initVerification(d){d.preventDefault(),this.submitting=!0;const m=this.localeService.getAvailableLanguage();this.jumioService.initiate(m.code).pipe((0,Q.R)(this.destroy$),(0,Ge.K)(S=>(406===S.status&&(this.showMaxRetriesReachedError=!0),S))).subscribe(S=>{window.location.href=null==S?void 0:S.redirectUrl}),this.submitting=!1}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(Ye.Lf),i.Y36(je.U),i.Y36(t.OLO))},p.\u0275cmp=i.Xpm({type:p,selectors:[["ng-component"]],inputs:{identityStatus:"identityStatus",showMaxRetriesReachedError:"showMaxRetriesReachedError"},decls:22,vars:18,consts:[[1,"modal-header"],[1,"modal-title"],["aria-hidden","true",1,"b2msf-exclamation-alert-line"],[1,"modal-body"],[1,"identity-errors","mt-md-3"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["class","alert mini-alert alert-danger","role","alert",4,"ngIf"],[1,"modal-footer"],[1,"b2m-btn","btn-line","close",3,"click"],[1,"b2m-btn","btn-solid","mx-0","init-verification",3,"disabled","click"],["role","alert",1,"alert","mini-alert","alert-danger"],[1,"alert-heading"],[1,"alert-contents"]],template:function(d,m){1&d&&(i.TgZ(0,"div",0)(1,"h4",1),i._UZ(2,"i",2),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",3)(6,"p")(7,"strong"),i._uU(8),i.ALo(9,"translate"),i.qZA()(),i.TgZ(10,"ul",4),i.YNc(11,en,3,3,"li",5),i.qZA(),i._UZ(12,"p",6),i.ALo(13,"translate"),i.YNc(14,tn,8,6,"div",7),i.qZA(),i.TgZ(15,"div",8)(16,"button",9),i.NdJ("click",function(){return m.nzModalRef.close()}),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"button",10),i.NdJ("click",function(Z){return m.initVerification(Z)}),i._uU(20),i.ALo(21,"translate"),i.qZA()()),2&d&&(i.xp6(3),i.hij(" ",i.lcZ(4,8,"ONBOARDING.STEP_3.IDENTITY_ERRORS_DIALOG.HEADER")," "),i.xp6(5),i.Oqu(i.lcZ(9,10,"ONBOARDING.STEP_3.IDENTITY_ERRORS_DIALOG.BODY.TITLE")),i.xp6(3),i.Q6J("ngForOf",m.identityStatus.error),i.xp6(1),i.Q6J("innerHTML",i.lcZ(13,12,"ONBOARDING.STEP_3.IDENTITY_ERRORS_DIALOG.BODY.DESCRIPTION"),i.oJD),i.xp6(2),i.Q6J("ngIf",m.showMaxRetriesReachedError),i.xp6(3),i.hij(" ",i.lcZ(18,14,"CHANGE_EMAIL_DIALOG.CLOSE_BUTTON")," "),i.xp6(2),i.Q6J("disabled",m.showMaxRetriesReachedError||m.submitting),i.xp6(1),i.hij(" ",i.lcZ(21,16,"ONBOARDING.STEP_3.BUTTON")," "))},directives:[C.sg,C.O5],pipes:[N.X$],styles:[".modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:700;font-size:20px;line-height:28px;align-items:center;color:#f59300}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]   .b2msf-exclamation-alert-line[_ngcontent-%COMP%]{font-weight:700;width:22px;height:19px;font-size:22px}.modal-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-heading[_ngcontent-%COMP%]{text-transform:none}.modal-footer[_ngcontent-%COMP%]{padding-right:24px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none}.modal-footer[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{width:20%;min-width:20%;margin-right:8px}"]}),p})();function on(p,E){if(1&p){const d=i.EpF();i.TgZ(0,"div",35)(1,"h4",36),i._UZ(2,"i",37),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"div",38),i._UZ(6,"p",39),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"a",40),i.NdJ("click",function(){return i.CHM(d),i.oxw().openIdentityErrorsDialog()}),i._uU(9),i.ALo(10,"translate"),i.qZA()()}2&p&&(i.xp6(3),i.hij(" ",i.lcZ(4,3,"ONBOARDING.STEP_3.HEADER.TITLE")," "),i.xp6(3),i.Q6J("innerHTML",i.lcZ(7,5,"ONBOARDING.STEP_3.HEADER.DESCRIPTION"),i.oJD),i.xp6(3),i.hij(" ",i.lcZ(10,7,"ONBOARDING.STEP_3.HEADER.SEE_IDENTITY_ERRORS_DETAILS")," "))}function rn(p,E){1&p&&(i.TgZ(0,"div",41)(1,"h4",36),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",38)(5,"p"),i._uU(6),i.ALo(7,"translate"),i.qZA()()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,2,"PROFILE_IDENTITY_RESUME_PAGE.DISABLE_PROCESS.TITLE")),i.xp6(4),i.Oqu(i.lcZ(7,4,"PROFILE_IDENTITY_RESUME_PAGE.DISABLE_PROCESS.TEXT_A")))}function an(p,E){1&p&&(i.TgZ(0,"div",42)(1,"div",36)(2,"p"),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",38),i._UZ(6,"p",39),i.ALo(7,"translate"),i.qZA()()),2&p&&(i.xp6(3),i.Oqu(i.lcZ(4,2,"ONBOARDING.STEP_3.PROFILE_IDENTITY_MAX_RETRIES_REACHED_ALERT.TITLE")),i.xp6(3),i.Q6J("innerHTML",i.lcZ(7,4,"ONBOARDING.STEP_3.PROFILE_IDENTITY_MAX_RETRIES_REACHED_ALERT.TEXT"),i.oJD))}let sn=(()=>{class p{constructor(d,m,S,Z,oe){this.jumioService=d,this.localeService=m,this.modalService=S,this.accountAnalyticsService=Z,this.authService=oe,this.destroy$=new O.x}ngOnChanges(d){var m,S,Z,oe;"error"===(null===(S=null===(m=null==d?void 0:d.identityStatus)||void 0===m?void 0:m.currentValue)||void 0===S?void 0:S.status)&&!(null===(oe=null===(Z=null==d?void 0:d.identityStatus)||void 0===Z?void 0:Z.currentValue)||void 0===oe?void 0:oe.disableProcess)&&!this.identityErrorsDialog&&this.openIdentityErrorsDialog()}openIdentityErrorsDialog(){this.identityErrorsDialog=this.modalService.open(nn,{nzComponentParams:{identityStatus:this.identityStatus,showMaxRetriesReachedError:this.showMaxRetriesReachedError}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}initVerification(d){this.submitting=!0,d.preventDefault();const m=this.localeService.getAvailableLanguage();this.jumioService.initiate(m.code).pipe((0,Q.R)(this.destroy$),(0,Ge.K)(S=>(406===S.status&&(this.showMaxRetriesReachedError=!0),S))).subscribe(S=>{this.accountAnalyticsService.trackGoogleAnalyticSubmitVerificationEvent(this.authService.getUserInfo().sub),window.location.href=null==S?void 0:S.redirectUrl}),this.submitting=!1}showDisableProcess(){var d,m,S,Z;let oe=!1;if(this.identityStatus)return"error"===(null===(d=this.identityStatus)||void 0===d?void 0:d.status)&&(null===(m=this.identityStatus)||void 0===m?void 0:m.disableProcess)&&(oe=!0),(null===(Z=null===(S=this.identityStatus)||void 0===S?void 0:S.error)||void 0===Z?void 0:Z.includes(t.Tjq.enhancedMeasuresNotReceived))&&(oe=!1),oe}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(je.U),i.Y36(t.OLO),i.Y36(t.Z7U),i.Y36(t.p$5),i.Y36(t.e80))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-verify-identity"]],inputs:{identityStatus:"identityStatus"},features:[i.TTD],decls:89,vars:52,consts:[[1,"container-fluid","pb-5","pb-md-0"],[1,"step-title","pl-2","pl-md-0"],[1,"header-identity"],["class","alert alert-warning alert-dismissible","role","alert",4,"ngIf"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","alert mini-alert alert-danger","role","alert",4,"ngIf"],[1,"body"],[1,"row","requirements","px-0","px-md-5"],[1,"col-12"],[1,"requirements","p-2","p-md-4","mb-0","mb-md-5"],[1,"requirements-title"],[1,"content","pb-md-0"],[1,"mr-0","mr-md-5"],["aria-hidden","true",1,"b2msf-id-document","mr-2"],[1,"d-block","d-md-inline","mt-2","mt-md-0"],["aria-hidden","true",1,"b2msf-camera-solid","mr-2"],[1,"document-subtype"],[1,"identity-steps","mb-2","mb-md-5"],[1,"identity-steps-title","d-none","d-md-block","pb-5"],[1,"identity-steps-title","small","d-block","d-md-none","pb-4","pb-md-5"],[1,"row","identity-steps-schema","pb-md-4"],[1,"col-12","col-md-4","pb-2","mb-4","pb-md-0"],["alt","","src","assets/images/onboarding/dni-front.svg",1,"steps-image","dni-front"],[1,"d-inline-flex","d-md-none","px-2"],[1,"pl-1"],["alt","","src","assets/images/onboarding/dni-back.svg",1,"steps-image","dni-back"],[1,"col-12","col-md-4","pb-2","pb-md-0"],["alt","","src","assets/images/onboarding/selfie.svg",1,"steps-image","selfie"],[1,"row","d-none","d-md-flex"],[1,"col-4"],[1,"video-tutorial","d-none","d-md-block",3,"innerHTML"],[1,"footer","pb-5","p-md-1"],[1,"video-tutorial","d-block","d-md-none","mb-5",3,"innerHTML"],[1,"b2m-btn","btn-solid","btn-block","text-white","mr-0","mb-2","mb-md-0",3,"disabled","click"],[1,"px-5"],["role","alert",1,"alert","alert-warning","alert-dismissible"],[1,"alert-heading"],["aria-hidden","true",1,"b2msf-exclamation-alert-line"],[1,"alert-contents"],[3,"innerHTML"],[1,"identity-errors-button","my-md-3",3,"click"],["role","alert",1,"alert","alert-primary"],["role","alert",1,"alert","mini-alert","alert-danger"]],template:function(d,m){1&d&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h4"),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",2),i.YNc(6,on,11,9,"div",3),i.YNc(7,rn,8,6,"div",4),i.YNc(8,an,8,6,"div",5),i.qZA(),i.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"p",10),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"div",11)(17,"span",12),i._UZ(18,"i",13),i._uU(19),i.ALo(20,"translate"),i.qZA(),i.TgZ(21,"span",14),i._UZ(22,"i",15),i._uU(23),i.ALo(24,"translate"),i.qZA(),i.TgZ(25,"p",16)(26,"span"),i._uU(27),i.ALo(28,"translate"),i.qZA()()()()()(),i.TgZ(29,"div",17)(30,"p",18),i._uU(31),i.ALo(32,"translate"),i.qZA(),i.TgZ(33,"p",19),i._uU(34),i.ALo(35,"translate"),i.qZA(),i.TgZ(36,"div",20)(37,"div",21),i._UZ(38,"img",22),i.TgZ(39,"div",23)(40,"strong"),i._uU(41,"1."),i.qZA(),i.TgZ(42,"span",24),i._uU(43),i.ALo(44,"translate"),i.qZA()()(),i.TgZ(45,"div",21),i._UZ(46,"img",25),i.TgZ(47,"div",23)(48,"strong"),i._uU(49,"2."),i.qZA(),i.TgZ(50,"span",24),i._uU(51),i.ALo(52,"translate"),i.qZA()()(),i.TgZ(53,"div",26),i._UZ(54,"img",27),i.TgZ(55,"div",23)(56,"strong"),i._uU(57,"3."),i.qZA(),i.TgZ(58,"span",24),i._uU(59),i.ALo(60,"translate"),i.qZA()()()(),i.TgZ(61,"div",28)(62,"div",29)(63,"strong"),i._uU(64," 1. "),i.qZA(),i.TgZ(65,"span"),i._uU(66),i.ALo(67,"translate"),i.qZA()(),i.TgZ(68,"div",29)(69,"strong"),i._uU(70," 2. "),i.qZA(),i.TgZ(71,"span"),i._uU(72),i.ALo(73,"translate"),i.qZA()(),i.TgZ(74,"div",29)(75,"strong"),i._uU(76," 3. "),i.qZA(),i.TgZ(77,"span"),i._uU(78),i.ALo(79,"translate"),i.qZA()()()(),i._UZ(80,"p",30),i.ALo(81,"translate"),i.qZA(),i.TgZ(82,"div",31),i._UZ(83,"p",32),i.ALo(84,"translate"),i.TgZ(85,"button",33),i.NdJ("click",function(Z){return m.initVerification(Z)}),i.TgZ(86,"span",34),i._uU(87),i.ALo(88,"translate"),i.qZA()()()()),2&d&&(i.xp6(3),i.Oqu(i.lcZ(4,20,"ONBOARDING.STEP_3.TITLE")),i.xp6(3),i.Q6J("ngIf","error"===(null==m.identityStatus?null:m.identityStatus.status)&&!(null!=m.identityStatus&&m.identityStatus.disableProcess)),i.xp6(1),i.Q6J("ngIf",m.showDisableProcess()),i.xp6(1),i.Q6J("ngIf",m.showMaxRetriesReachedError),i.xp6(6),i.Oqu(i.lcZ(15,22,"ONBOARDING.STEP_3.REQUIREMENTS.TITLE")),i.xp6(5),i.hij(" ",i.lcZ(20,24,"ONBOARDING.STEP_3.REQUIREMENTS.DOCUMENT_REQUIREMENT")," "),i.xp6(4),i.hij(" ",i.lcZ(24,26,"ONBOARDING.STEP_3.REQUIREMENTS.CAMERA_REQUIREMENT")," "),i.xp6(4),i.hij(" ",i.lcZ(28,28,"ONBOARDING.STEP_3.REQUIREMENTS.DOCUMENT_REQUIREMENT_SUBTYPE")," "),i.xp6(4),i.hij(" ",i.lcZ(32,30,"ONBOARDING.STEP_3.IDENTITY_STEPS.TITLE")," "),i.xp6(3),i.hij(" ",i.lcZ(35,32,"ONBOARDING.STEP_3.IDENTITY_STEPS.TITLE"),": "),i.xp6(9),i.Oqu(i.lcZ(44,34,"ONBOARDING.STEP_3.IDENTITY_STEPS.STEP_1")),i.xp6(8),i.hij(" ",i.lcZ(52,36,"ONBOARDING.STEP_3.IDENTITY_STEPS.STEP_2")," "),i.xp6(8),i.Oqu(i.lcZ(60,38,"ONBOARDING.STEP_3.IDENTITY_STEPS.STEP_3")),i.xp6(7),i.Oqu(i.lcZ(67,40,"ONBOARDING.STEP_3.IDENTITY_STEPS.STEP_1")),i.xp6(6),i.hij(" ",i.lcZ(73,42,"ONBOARDING.STEP_3.IDENTITY_STEPS.STEP_2")," "),i.xp6(6),i.Oqu(i.lcZ(79,44,"ONBOARDING.STEP_3.IDENTITY_STEPS.STEP_3")),i.xp6(2),i.Q6J("innerHTML",i.lcZ(81,46,"ONBOARDING.STEP_3.VIDEO_TUTORIAL"),i.oJD),i.xp6(3),i.Q6J("innerHTML",i.lcZ(84,48,"ONBOARDING.STEP_3.VIDEO_TUTORIAL"),i.oJD),i.xp6(2),i.Q6J("disabled",m.submitting||m.showMaxRetriesReachedError||(null==m.identityStatus?null:m.identityStatus.disableProcess)),i.xp6(2),i.hij(" ",i.lcZ(88,50,"ONBOARDING.STEP_3.BUTTON")," "))},directives:[C.O5],pipes:[N.X$],styles:[".container-fluid[_ngcontent-%COMP%]{justify-content:center;max-width:736px}.container-fluid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]{justify-content:left}}.container-fluid[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding-bottom:1rem;max-width:736px}.container-fluid[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:28px;color:#03407c}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;padding:0}}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:left}}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{padding-bottom:5px}}.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-heading[_ngcontent-%COMP%]{text-transform:none}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .alert-heading[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:16px}}.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .alert.alert-warning.alert-dismissible[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;padding:8px 12px;background:rgba(245,147,0,.1);border:1px solid #F59300;border-radius:4px}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .alert.alert-warning.alert-dismissible[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:16px;margin:16px 0 0}}.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .alert.alert-warning.alert-dismissible[_ngcontent-%COMP%]   .alert-heading[_ngcontent-%COMP%]{color:#f59300}.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .alert.alert-warning.alert-dismissible[_ngcontent-%COMP%]   .alert-heading[_ngcontent-%COMP%]   .b2msf-exclamation-alert-line[_ngcontent-%COMP%]{font-weight:700}.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .identity-errors-button[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:700;font-size:14px;line-height:20px;color:#044e97}@media (max-width: 575px){.container-fluid[_ngcontent-%COMP%]   .header-identity[_ngcontent-%COMP%]   .identity-errors-button[_ngcontent-%COMP%]{font-weight:500;font-size:14px}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{justify-content:center;padding:5px 24px 10px}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]{text-align:center}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{width:544px}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{padding-left:0;padding-right:34px;text-align:left;height:136px}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]{min-width:280px;display:flex;flex-direction:column;align-items:flex-start;gap:20px;background:#f5faff;border-radius:4px}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .requirements-title[_ngcontent-%COMP%]{width:315px;height:20px;font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:left;color:#033363;flex:none;order:0;flex-grow:0}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .requirements-title[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:16px;letter-spacing:.25px;text-align:left}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px;color:#6e6e6e;flex:none;order:1;flex-grow:0}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:left;font-size:14px}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .document-subtype[_ngcontent-%COMP%]{width:315px;height:20px;font-size:10px}@media (max-width: 575px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .row.requirements[_ngcontent-%COMP%]{padding-bottom:0}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-title[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;color:#033363}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-title[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:16px;letter-spacing:.25px;text-align:left}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:170px;height:40px;font-style:normal;font-weight:400;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#000}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .steps-image[_ngcontent-%COMP%]{width:63px;height:44px}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .steps-image[_ngcontent-%COMP%]{width:32px;height:22.49px}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .steps-image.selfie[_ngcontent-%COMP%]{width:44px}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .steps-image.selfie[_ngcontent-%COMP%]{width:32px;height:32px}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .step-divisor[_ngcontent-%COMP%]{color:#c7c7c7}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .step-divisor[_ngcontent-%COMP%]   .b2msf-redo[_ngcontent-%COMP%]{font-weight:700}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   .step-divisor[_ngcontent-%COMP%]   .b2msf-camera-thin[_ngcontent-%COMP%]{font-size:2em}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:170px;height:40px;font-style:normal;font-weight:400;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#000}@media (max-width: 670px){.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .identity-steps[_ngcontent-%COMP%]   .identity-steps-schema[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;width:180px;font-size:14px}}.container-fluid[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .video-tutorial[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#000}.container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem 0;border-top:1px solid #f0f0f0;max-width:736px}.container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   a.b2m-btn[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:14px;line-height:20px;text-align:center;letter-spacing:.25px;color:#fff}.container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{text-align:left}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:0;border-top:0;display:block;justify-content:center;align-items:center;text-align:center}.container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   a.b2m-btn[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{font-size:14px;line-height:20px}}@media (max-width: 575px){.container-fluid[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{border-top:1px solid #f0f0f0}}"]}),p})();var Se=f(95633);function We(p,E){if(1&p&&(i.TgZ(0,"ng-option",24),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.name),i.xp6(1),i.Oqu(d.description)}}function At(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Ct(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function ln(p,E){if(1&p&&(i.TgZ(0,"ng-option",24),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.professionCode),i.xp6(1),i.Oqu(d.description)}}function cn(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Pt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function ge(p,E){if(1&p&&(i.TgZ(0,"ng-option",24),i._uU(1),i.ALo(2,"async"),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.value),i.xp6(1),i.Oqu(i.lcZ(2,2,d.label))}}function dn(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function gn(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function pn(p,E){if(1&p&&(i.TgZ(0,"ng-option",24),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.name),i.xp6(1),i.Oqu(d.description)}}function un(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function _n(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function mn(p,E){1&p&&(i.TgZ(0,"div")(1,"label",16),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",25),i._UZ(5,"input",26),i.ALo(6,"translate"),i.qZA()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,2,"FORM.FUNDS_ORIGIN_OTHERS_REASON.PLACEHOLDER")),i.xp6(3),i.s9C("placeholder",i.lcZ(6,4,"FORM.FUNDS_ORIGIN_OTHERS_REASON.PLACEHOLDER")))}function fn(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Tt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function hn(p,E){if(1&p&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"cryptocurrency"),i.ALo(3,"cryptocurrency"),i.qZA()),2&p){const d=E.item;i.xp6(1),i.AsE("",i.xi3(2,2,d.minimum,"EUR")," - ",i.xi3(3,5,d.maximum,"EUR"),"")}}function On(p,E){if(1&p&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"cryptocurrency"),i.ALo(3,"cryptocurrency"),i.qZA()),2&p){const d=E.item;i.xp6(1),i.AsE("",i.xi3(2,2,d.minimum,"EUR")," - ",i.xi3(3,5,d.maximum,"EUR"),"")}}function vt(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function _(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function y(p,E){if(1&p&&(i.TgZ(0,"ng-option",24),i._uU(1),i.qZA()),2&p){const d=E.$implicit;i.Q6J("value",d.name),i.xp6(1),i.Oqu(d.description)}}function h(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function u(p,E){1&p&&(i.TgZ(0,"div"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&p&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function x(p,E){if(1&p&&(i.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"fieldset",4)(5,"label",5),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"ng-select",6),i.ALo(9,"translate"),i.YNc(10,We,2,2,"ng-option",7),i.qZA(),i.TgZ(11,"div",8),i.YNc(12,At,3,3,"div",0),i.YNc(13,Ct,3,3,"div",0),i.qZA()()(),i.TgZ(14,"div",3)(15,"fieldset",4)(16,"label",9),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"ng-select",10),i.ALo(20,"translate"),i.YNc(21,ln,2,2,"ng-option",7),i.qZA(),i.TgZ(22,"div",8),i.YNc(23,cn,3,3,"div",0),i.YNc(24,Pt,3,3,"div",0),i.qZA()()()(),i.TgZ(25,"div",11)(26,"div",12)(27,"fieldset",4)(28,"label",13),i._uU(29),i.ALo(30,"translate"),i.qZA(),i.TgZ(31,"ng-select",14),i.ALo(32,"translate"),i.YNc(33,ge,3,4,"ng-option",7),i.qZA(),i.TgZ(34,"div",8),i.YNc(35,dn,3,3,"div",0),i.YNc(36,gn,3,3,"div",0),i.qZA()()(),i.TgZ(37,"div",15)(38,"fieldset",4)(39,"label",16),i._uU(40),i.ALo(41,"translate"),i.qZA(),i.TgZ(42,"ng-select",17),i.ALo(43,"translate"),i.YNc(44,pn,2,2,"ng-option",7),i.qZA(),i.TgZ(45,"div",8),i.YNc(46,un,3,3,"div",0),i.YNc(47,_n,3,3,"div",0),i.qZA()()()(),i.TgZ(48,"div",11)(49,"div",15)(50,"fieldset",4),i.YNc(51,mn,7,6,"div",0),i.TgZ(52,"div",8),i.YNc(53,fn,3,3,"div",0),i.YNc(54,Tt,3,3,"div",0),i.qZA()()()(),i.TgZ(55,"div",11)(56,"div",3)(57,"fieldset",4)(58,"label",18),i._uU(59),i.ALo(60,"translate"),i.qZA(),i.TgZ(61,"ng-select",19),i.ALo(62,"translate"),i.YNc(63,hn,4,8,"ng-template",20),i.YNc(64,On,4,8,"ng-template",21),i.qZA(),i.TgZ(65,"div",8),i.YNc(66,vt,3,3,"div",0),i.YNc(67,_,3,3,"div",0),i.qZA()()(),i.TgZ(68,"div",3)(69,"fieldset",4)(70,"label",22),i._uU(71),i.ALo(72,"translate"),i.qZA(),i.TgZ(73,"ng-select",23),i.ALo(74,"translate"),i.YNc(75,y,2,2,"ng-option",7),i.qZA(),i.TgZ(76,"div",8),i.YNc(77,h,3,3,"div",0),i.YNc(78,u,3,3,"div",0),i.qZA()()()()()()),2&p){const d=E.ngIf,m=i.oxw();i.xp6(1),i.Q6J("formGroup",m.personalInfoForm),i.xp6(5),i.Oqu(i.lcZ(7,46,"FORM.EMPLOYMENT_STATUS.LABEL")),i.xp6(2),i.Q6J("searchable",!1)("clearable",!1)("placeholder",i.lcZ(9,48,"FORM.EMPLOYMENT_STATUS.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",d.employments),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("employmentStatus").errors?null:m.personalInfoForm.get("person").get("employmentStatus").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("employmentStatus").errors?null:m.personalInfoForm.get("person").get("employmentStatus").errors.invalid),i.xp6(4),i.Oqu(i.lcZ(18,50,"FORM.PROFESSION.LABEL")),i.xp6(2),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(20,52,"FORM.EMPLOYMENT_STATUS.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",d.professions),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("profession").errors?null:m.personalInfoForm.get("person").get("profession").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("profession").errors?null:m.personalInfoForm.get("person").get("profession").errors.invalid),i.xp6(5),i.Oqu(i.lcZ(30,54,"FORM.POLITICALLY_EXPOSED_PERSON.LABEL")),i.xp6(2),i.Q6J("searchable",!1)("clearable",!1)("placeholder",i.lcZ(32,56,"FORM.POLITICALLY_EXPOSED_PERSON.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",m.politicallyExposedPersonOptions),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("politicallyExposedPerson").errors?null:m.personalInfoForm.get("person").get("politicallyExposedPerson").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("person").get("politicallyExposedPerson").errors?null:m.personalInfoForm.get("person").get("politicallyExposedPerson").errors.invalid),i.xp6(4),i.Oqu(i.lcZ(41,58,"FORM.FUNDS_ORIGIN_TYPE.LABEL")),i.xp6(2),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(43,60,"FORM.FUNDS_ORIGIN_TYPE.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",d.fundsOrigins),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("fundsOrigin").get("type").errors?null:m.personalInfoForm.get("fundsOrigin").get("type").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("fundsOrigin").get("type").errors?null:m.personalInfoForm.get("fundsOrigin").get("type").errors.invalid),i.xp6(4),i.Q6J("ngIf","others"===m.personalInfoForm.get("fundsOrigin").get("type").value),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("fundsOrigin").get("othersReason").errors?null:m.personalInfoForm.get("fundsOrigin").get("othersReason").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("fundsOrigin").get("othersReason").errors?null:m.personalInfoForm.get("fundsOrigin").get("othersReason").errors.invalid),i.xp6(5),i.Oqu(i.lcZ(60,62,"FORM.DEPOSIT_ESTIMATION.LABEL")),i.xp6(2),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(62,64,"FORM.DEPOSIT_ESTIMATION.PLACEHOLDER"))("items",null==d?null:d.deposits),i.xp6(5),i.Q6J("ngIf",null==m.personalInfoForm.get("depositEstimation").errors?null:m.personalInfoForm.get("depositEstimation").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("depositEstimation").errors?null:m.personalInfoForm.get("depositEstimation").errors.invalid),i.xp6(4),i.Oqu(i.lcZ(72,66,"FORM.ACCOUNT_PURPOSE.LABEL")),i.xp6(2),i.Q6J("searchable",!0)("clearable",!1)("placeholder",i.lcZ(74,68,"FORM.ACCOUNT_PURPOSE.PLACEHOLDER")),i.xp6(2),i.Q6J("ngForOf",d.purposes),i.xp6(2),i.Q6J("ngIf",null==m.personalInfoForm.get("accountPurpose").errors?null:m.personalInfoForm.get("accountPurpose").errors.required),i.xp6(1),i.Q6J("ngIf",null==m.personalInfoForm.get("accountPurpose").errors?null:m.personalInfoForm.get("accountPurpose").errors.invalid)}}const H=function(p,E,d,m,S){return{employments:p,deposits:E,fundsOrigins:d,professions:m,purposes:S}};let re=(()=>{class p{constructor(d,m,S){this.localeService=d,this.translateService=m,this.accountService=S,this.politicallyExposedPersonOptions=[{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.POLITICALLY_EXPOSED_PERSON.YES"),value:"yes"},{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.POLITICALLY_EXPOSED_PERSON.NO"),value:"no"},{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.POLITICALLY_EXPOSED_PERSON.FAMILY"),value:"family members and/or relatives"}],this.languageCode$=this.localeService.getActiveLanguageAsObservable().pipe((0,e.U)(Z=>Z.code),(0,ze.O)(this.localeService.getAvailableLanguage().code)),this.employments$=this.languageCode$.pipe((0,Ee.w)(Z=>this.accountService.getEmploymentStatuses(Z)),(0,e.U)(Z=>Z.data)),this.fundsOrigins$=this.languageCode$.pipe((0,Ee.w)(Z=>this.accountService.getFundsOrigins(Z)),(0,e.U)(Z=>Z.data)),this.professions$=this.languageCode$.pipe((0,Ee.w)(Z=>this.accountService.getProfessions(Z)),(0,e.U)(Z=>Z.data)),this.purposes$=this.languageCode$.pipe((0,Ee.w)(Z=>this.accountService.getPurposes(Z)),(0,e.U)(Z=>Z.data)),this.deposits$=this.accountService.getDepositEstimation().pipe((0,e.U)(Z=>Z.data.map(oe=>({minimum:oe.minimum,maximum:oe.maximum}))))}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.OLO),i.Y36(N.sK),i.Y36(Se.B))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-user-verify-questions-form"]],inputs:{personalInfoForm:"personalInfoForm"},decls:6,vars:17,consts:[[4,"ngIf"],[3,"formGroup"],["formGroupName","person",1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["for","employmentStatus"],["formControlName","employmentStatus",3,"searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"invalid-feedback"],["for","profession"],["formControlName","profession",3,"searchable","clearable","placeholder"],[1,"row"],["formGroupName","person",1,"col-12","col-md-6"],["for","politicallyExposedPerson"],["formControlName","politicallyExposedPerson",3,"searchable","clearable","placeholder"],["formGroupName","fundsOrigin",1,"col-12","col-md-6"],["for","type"],["formControlName","type",3,"searchable","clearable","placeholder"],["for","depositEstimation"],["formControlName","depositEstimation",3,"searchable","clearable","placeholder","items"],["ng-label-tmp",""],["ng-option-tmp",""],["for","accountPurpose"],["formControlName","accountPurpose",3,"searchable","clearable","placeholder"],[3,"value"],[1,"input-group","border","rounded"],["type","text","name","othersReason","autocomplete","false","formControlName","othersReason",1,"form-control",3,"placeholder"]],template:function(d,m){1&d&&(i.YNc(0,x,79,70,"div",0),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.ALo(5,"async")),2&d&&i.Q6J("ngIf",i.qbA(11,H,i.lcZ(1,1,m.employments$),i.lcZ(2,3,m.deposits$),i.lcZ(3,5,m.fundsOrigins$),i.lcZ(4,7,m.professions$),i.lcZ(5,9,m.purposes$)))},directives:[C.O5,K.JL,K.sg,K.x0,be.w9,K.JJ,K.u,C.sg,be.jq,K.Fj,be.mR,be.ir],pipes:[C.Ov,N.X$,t.v$D],styles:[".form-group[_ngcontent-%COMP%]{margin:8px 0}.form-group[_ngcontent-%COMP%]   .b2msf-question-circle-line[_ngcontent-%COMP%]{color:#8a8a8a;font-size:16px;margin-left:5px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Open Sans;font-style:normal;font-weight:600;font-size:14px;line-height:20px;letter-spacing:.25px;color:#333}.form-group[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8a8a8a}.form-group[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{border:1px solid #dbdbdb;border-radius:4px}@media (max-width: 576px){.form-group[_ngcontent-%COMP%]{margin:5px 0}}"]}),p})();const ae=function(p){return{submitted:p}};let de=(()=>{class p{constructor(d,m,S,Z,oe){this.formBuilder=d,this.router=m,this.accountService=S,this.currentUserStore=Z,this.authService=oe,this.destroy$=new O.x,this.OTHERS_REASON_CONTROL_VALIDATORS=[K.kI.required]}ngOnInit(){this.account=this.currentUserStore.getCurrentUser().account,this.buildForms()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}buildForms(){this.account.person=Object.assign({employmentStatus:null,profession:null,politicallyExposedPerson:null},this.account.person),this.account.fundsOrigin=Object.assign({type:null,othersReason:null},this.account.fundsOrigin),this.personalInfoForm=this.formBuilder.group({depositEstimation:[this.account.depositEstimation,[K.kI.required]],fundsOrigin:this.formBuilder.group({type:[this.account.fundsOrigin.type||null,[K.kI.required]],othersReason:[this.account.fundsOrigin.othersReason||"",this.account.fundsOrigin.othersReason?this.OTHERS_REASON_CONTROL_VALIDATORS:null]}),person:this.formBuilder.group({employmentStatus:[this.account.person.employmentStatus||null,[K.kI.required]],profession:[this.account.person.profession||null,[K.kI.required]],politicallyExposedPerson:[this.account.person.politicallyExposedPerson||"no",[K.kI.required]]}),accountPurpose:[this.account.accountPurpose||null,[K.kI.required]],accountCompleted:[!0]}),this.setValidatorsOnFundsOriginOthersReason()}setValidatorsOnFundsOriginOthersReason(){this.personalInfoForm.get("fundsOrigin.type").valueChanges.pipe((0,Q.R)(this.destroy$)).subscribe(d=>{const m=this.personalInfoForm.get("fundsOrigin").get("othersReason");"others"===d?m.setValidators(this.OTHERS_REASON_CONTROL_VALIDATORS):m.clearValidators(),this.personalInfoForm.get("fundsOrigin.othersReason").updateValueAndValidity()})}submitPersonalInfo(){if(this.personalInfoForm.invalid)return;this.submitting=!0;const d=this.personalInfoForm.getRawValue();this.accountService.update(d).pipe((0,Q.R)(this.destroy$)).subscribe(()=>{this.currentUserStore.getAccountAndNext().subscribe(),this.authService.navigateToCorrectUrl(!0)}).add(()=>{this.submitting=!1})}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(K.qu),i.Y36(b.F0),i.Y36(t.BRM),i.Y36(t.Dk$),i.Y36(t.e80))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-verify-questions"]],decls:32,vars:17,consts:[[1,"container-fluid"],[1,"row"],[1,"col-0","col-lg-3","order-0"],[1,"col-12","col-md-6","col-lg-4","order-1","left-col"],[1,"step-title"],[1,"contents"],[1,"position-relative",3,"formGroup","ngClass","ngSubmit"],["personalInfoFormTemplate","ngForm"],[3,"personalInfoForm"],[1,"footer"],[1,"confirmation-data","icon","pr-4","pb-4","d-none","d-md-inline"],["aria-hidden","true",1,"b2msf-check-circle-solid"],[1,"col-12","col-md-6","confirmation-data","label","pl-0","mb-2","mb-md-0"],["aria-hidden","true",1,"b2msf-check-circle-solid","d-inline","d-md-none","pr-2"],[1,"col-12","col-md-6","submit-button","pr-0"],["type","submit",1,"b2m-btn","btn-solid","mr-0",3,"bngxLoadingLayer","disabled"],[1,"legal-icons","mt-4"],["src","assets/images/onboarding/secure-ssl.svg","alt","Secure SSL",1,"secure-ssl","mr-2"],["src","assets/images/onboarding/banco-de-espana.svg","alt","Banco de Espa\xf1a",1,"banco-de-espana"],[1,"col-0","col-md-4","order-2","right-col"],[1,"right-col-image"],[3,"onboardingStep"]],template:function(d,m){if(1&d&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"div",2),i.TgZ(3,"div",3)(4,"div",4)(5,"h4"),i._uU(6),i.ALo(7,"translate"),i.qZA()(),i.TgZ(8,"div",5)(9,"form",6,7),i.NdJ("ngSubmit",function(){return m.submitPersonalInfo()}),i._UZ(11,"app-user-verify-questions-form",8),i.TgZ(12,"div",9)(13,"div",10),i._UZ(14,"i",11),i.qZA(),i.TgZ(15,"div",1)(16,"div",12),i._UZ(17,"i",13),i.TgZ(18,"span"),i._uU(19),i.ALo(20,"translate"),i.qZA()(),i.TgZ(21,"div",14)(22,"button",15)(23,"p"),i._uU(24),i.ALo(25,"translate"),i.qZA()()()()()(),i.TgZ(26,"div",16),i._UZ(27,"img",17)(28,"img",18),i.qZA()()(),i.TgZ(29,"div",19)(30,"div",20),i._UZ(31,"bngx-support-contact",21),i.qZA()()()()),2&d){const S=i.MAs(10);i.xp6(6),i.Oqu(i.lcZ(7,9,"ONBOARDING.STEP_4.TITLE")),i.xp6(3),i.Q6J("formGroup",m.personalInfoForm)("ngClass",i.VKq(15,ae,S.submitted)),i.xp6(2),i.Q6J("personalInfoForm",m.personalInfoForm),i.xp6(8),i.Oqu(i.lcZ(20,11,"ONBOARDING.STEP_2.CONFIRMATION_DATA_LABEL")),i.xp6(3),i.Q6J("bngxLoadingLayer",m.submitting)("disabled",m.submitting),i.xp6(2),i.Oqu(i.lcZ(25,13,"BUTTONS.FINISH")),i.xp6(7),i.Q6J("onboardingStep","STEP_4")}},directives:[K._Y,K.JL,K.sg,C.mk,re,t.gO3,mt],pipes:[N.X$],styles:[".container-fluid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Open Sans}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]{text-align:left}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;text-align:left;padding:1rem 1rem 1rem 0px;display:flex;align-items:center;justify-content:flex-start}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:24px;line-height:28px;color:#03407c}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:20px;padding:0}}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:1rem;display:flex;padding:1rem 0;border-top:1px solid #f0f0f0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data[_ngcontent-%COMP%]{color:#044e97;font-size:12px}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data.icon[_ngcontent-%COMP%]{display:inline;padding-right:0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data.label[_ngcontent-%COMP%]{width:55%;height:32px;font-style:normal;font-weight:400;font-size:12px;line-height:16px;letter-spacing:.25px;padding-right:15%}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{text-align:right}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   a.b2m-btn[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:0;border-top:0;display:block;justify-content:center;align-items:center;text-align:left}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data[_ngcontent-%COMP%]{width:100%}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirmation-data.label[_ngcontent-%COMP%]{text-align:center;padding-right:0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{text-align:center;padding:0}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   a.b2m-btn[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{font-size:14px}}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .legal-icons[_ngcontent-%COMP%]   .banco-de-espana[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]   .legal-icons[_ngcontent-%COMP%]   .secure-ssl[_ngcontent-%COMP%]{top:50%}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .left-col[_ngcontent-%COMP%]   .legal-icons[_ngcontent-%COMP%]{text-align:center}}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .right-col[_ngcontent-%COMP%]{text-align:center;align-items:center}"]}),p})(),Ae=(()=>{class p{constructor(d,m,S,Z,oe,_e){this.urlService=d,this.authService=m,this.currentUserStore=S,this.cookiesService=Z,this.environmentService=oe,this.router=_e,this.destroy$=new O.x}ngOnInit(){if(this.cookiesService.get(this.environmentService.cookieNames.quickRegisterData)){const m={domain:this.urlService.getCurrentDomain()};this.cookiesService.remove(this.environmentService.cookieNames.quickRegisterData,m)}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){this.currentUserStore.getAccountAndNext().pipe((0,R.q)(1)).subscribe(()=>{this.setDefaultStepIndex(),this.goToCorrectStep()}),this.setDefaultStepIndex()}ngOnChanges(d){this.wizard&&this.wizard.currentStepIndex>=0&&((null==d?void 0:d.isEmailVerified)||(null==d?void 0:d.isPhoneVerified)||(null==d?void 0:d.isIdentityVerified)||(null==d?void 0:d.finalQuestionsData))&&this.goToCorrectStep()}goToCorrectStep(){this.isEmailVerified&&!this.isSecondStepCompleted()&&this.goToStep(0),this.isEmailVerified&&this.isSecondStepCompleted()&&!this.isThirdStepCompleted()&&this.goToStep(1),this.isEmailVerified&&this.isSecondStepCompleted()&&this.isThirdStepCompleted()&&!this.isFourthStepCompleted()&&this.goToStep(2),this.isEmailVerified&&this.isSecondStepCompleted()&&this.isThirdStepCompleted()&&this.isFourthStepCompleted()&&this.authService.navigateToCorrectUrl(!0)}goToStep(d){!this.wizard||this.wizard.goToStep(d)}setDefaultStepIndex(){this.isEmailVerified?this.isSecondStepCompleted()?this.isThirdStepCompleted()?this.isFourthStepCompleted()?this.authService.navigateToCorrectUrl(!0):this.wizard.defaultStepIndex=2:this.wizard.defaultStepIndex=1:this.wizard.defaultStepIndex=0:this.router.navigate(["/email-validation"])}canEnterSecondStep(){return this.isEmailVerified&&!this.isSecondStepCompleted()}canEnterThirdStep(){return this.isEmailVerified&&this.isSecondStepCompleted()&&!this.isThirdStepCompleted()}canEnterFourthStep(){return this.isEmailVerified&&this.isSecondStepCompleted()&&this.isThirdStepCompleted()&&!this.isFourthStepCompleted()}isSecondStepCompleted(){return this.isPhoneVerified&&this.residenceAddress&&!k().isEmpty(this.residenceAddress)}isThirdStepCompleted(){var d;return this.isIdentityVerified||(null===(d=this.identityStatus)||void 0===d?void 0:d.status)===t.olx.pending}isFourthStepCompleted(){return this.finalQuestionsData&&!k().isEmpty(this.finalQuestionsData)}onCompletedStep(){this.authService.refresh().subscribe()}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.iOJ),i.Y36(t.e80),i.Y36(t.Dk$),i.Y36(t.Fhc),i.Y36(t.L$R),i.Y36(b.F0))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-onboarding-person"]],viewQuery:function(d,m){if(1&d&&i.Gf(Y.Pl,5),2&d){let S;i.iGM(S=i.CRH())&&(m.wizard=S.first)}},inputs:{isEmailVerified:"isEmailVerified",isPhoneVerified:"isPhoneVerified",isIdentityVerified:"isIdentityVerified",residenceAddress:"residenceAddress",finalQuestionsData:"finalQuestionsData",identityStatus:"identityStatus"},features:[i.TTD],decls:9,vars:13,consts:[[3,"isEmailVerified","isPhoneVerified","isThirdStepCompleted","isFinalQuestionsDone","currentStepIndex","userType","identityStatus"],[1,"pt-2","pt-md-4","mt-2",3,"disableNavigationBar"],["awOptionalStep","",3,"canEnter"],[3,"wizardOnboarding","completedStep"],[3,"identityStatus"]],template:function(d,m){1&d&&(i._UZ(0,"app-header-steps",0),i.TgZ(1,"div")(2,"aw-wizard",1)(3,"aw-wizard-step",2)(4,"app-verify-general-info-and-phone",3),i.NdJ("completedStep",function(){return m.onCompletedStep()}),i.qZA()(),i.TgZ(5,"aw-wizard-step",2),i._UZ(6,"app-verify-identity",4),i.qZA(),i.TgZ(7,"aw-wizard-step",2),i._UZ(8,"app-verify-questions"),i.qZA()()()),2&d&&(i.Q6J("isEmailVerified",m.isEmailVerified)("isPhoneVerified",m.isSecondStepCompleted())("isThirdStepCompleted",m.isThirdStepCompleted())("isFinalQuestionsDone",m.isFourthStepCompleted())("currentStepIndex",null==m.wizard?null:m.wizard.currentStepIndex)("userType","person")("identityStatus",null==m.identityStatus?null:m.identityStatus.status),i.xp6(2),i.Q6J("disableNavigationBar",!0),i.xp6(1),i.Q6J("canEnter",m.canEnterSecondStep()),i.xp6(1),i.Q6J("wizardOnboarding",m.wizard),i.xp6(1),i.Q6J("canEnter",m.canEnterThirdStep()),i.xp6(1),i.Q6J("identityStatus",m.identityStatus),i.xp6(1),i.Q6J("canEnter",m.canEnterFourthStep()))},directives:[Oe,Y.Pl,Y.GZ,Y.g,Ot,sn,de],encapsulation:2}),p})();var Re=f(89937),ye=(f(65852),f(16916));const $e=["wizard"],Ke=["typeform"];function An(p,E){1&p&&(i.TgZ(0,"aw-wizard-step",4)(1,"div",5)(2,"div",6),i._UZ(3,"div",null,7),i.qZA()()())}let Cn=(()=>{class p{constructor(d,m,S,Z,oe,_e,Te){this.localeService=d,this.urlService=m,this.authService=S,this.router=Z,this.notificationsWebSocketService=oe,this.logger=_e,this.accountService=Te,this.destroy$=new O.x}ngOnInit(){var d;this.formSteps=ye.N.companyFormSteps,this.language=null===(d=this.localeService.getAvailableLanguage())||void 0===d?void 0:d.code,this.authService.refresh().subscribe(),this.notificationsWebSocketService.subject.subscribe({next:m=>{if("typeform.step.completed"===m.type){const S=m.payload.step;S?this.createWidget(S):this.authService.navigateToCorrectUrl(!0)}},error:m=>this.logger.error(m)})}ngAfterViewInit(){this.accountService.getCompanyOnboardingStep(this.authService.getUserInfo().sub).subscribe({next:({step:d})=>{this.createWidget(d)},error:d=>{404===d.status&&this.createWidget()}})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}createWidget(d=0){var m;const S=null!==(m=this.formSteps[d][this.language])&&void 0!==m?m:this.formSteps[d].en,Z=this.typeForms.get(d).nativeElement;d>0&&this.wizard.goToNextStep(),this.wizard.goToStep(d),(0,Re.createWidget)(S,{container:Z,hidden:{user_id:this.authService.getUserInfo().sub,step:d.toString()}})}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.OLO),i.Y36(t.iOJ),i.Y36(t.e80),i.Y36(b.F0),i.Y36(t.aVn),i.Y36(t.mQy),i.Y36(t.BRM))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-verify-identity-company"]],viewQuery:function(d,m){if(1&d&&(i.Gf($e,5),i.Gf(Ke,5)),2&d){let S;i.iGM(S=i.CRH())&&(m.wizard=S.first),i.iGM(S=i.CRH())&&(m.typeForms=S)}},decls:4,vars:2,consts:[[1,"card-page-outer"],[1,"pt-2","pt-md-4","mt-2",3,"disableNavigationBar"],["wizard",""],["awOptionalStep","",4,"ngFor","ngForOf"],["awOptionalStep",""],[1,"card-page-contents","wide-content","typeform"],[1,"card-page-inner"],["typeform",""]],template:function(d,m){1&d&&(i.TgZ(0,"div",0)(1,"aw-wizard",1,2),i.YNc(3,An,5,0,"aw-wizard-step",3),i.qZA()()),2&d&&(i.xp6(1),i.Q6J("disableNavigationBar",!0),i.xp6(2),i.Q6J("ngForOf",m.formSteps))},directives:[Y.Pl,C.sg,Y.GZ,Y.g],styles:[".card-page-outer[_ngcontent-%COMP%]   .card-page-contents.wide-content.typeform[_ngcontent-%COMP%]{max-width:1140px}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents.wide-content.typeform[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding:0}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents.wide-content.typeform[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]     div.tf-v1-widget iframe{max-width:1140px;width:100%;margin:0 auto;min-height:calc(100vh - 300px)}"]}),p})();const Pn=["wizard"];let xn=(()=>{class p{constructor(d,m,S,Z,oe,_e){this.urlService=d,this.authService=m,this.currentUserStore=S,this.cookiesService=Z,this.environmentService=oe,this.router=_e,this.destroy$=new O.x}ngOnInit(){if(this.cookiesService.get(this.environmentService.cookieNames.quickRegisterData)){const m={domain:this.urlService.getCurrentDomain()};this.cookiesService.remove(this.environmentService.cookieNames.quickRegisterData,m)}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){this.currentUserStore.getAccountAndNext().pipe((0,R.q)(1)).subscribe(()=>{this.setDefaultStepIndex(),this.goToCorrectStep()}),this.setDefaultStepIndex()}ngOnChanges(d){this.wizard&&this.wizard.currentStepIndex>=0&&((null==d?void 0:d.isEmailVerified)||(null==d?void 0:d.isPhoneVerified)||(null==d?void 0:d.isIdentityVerified))&&this.goToCorrectStep()}goToCorrectStep(){this.isPhoneVerified||this.goToStep(0),this.canEnterSecondStep&&this.goToStep(1)}goToStep(d){!this.wizard||this.wizard.goToStep(d)}setDefaultStepIndex(){this.isEmailVerified?this.isPhoneVerified?this.userInfo.accountCompleted&&this.authService.navigateToCorrectUrl(!0):this.wizard.defaultStepIndex=0:this.router.navigate(["/email-validation"])}canEnterFirstStep(){return this.isEmailVerified}canEnterSecondStep(){return this.isEmailVerified&&this.isPhoneVerified}onCompletedStep(){this.authService.refresh().subscribe()}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.iOJ),i.Y36(t.e80),i.Y36(t.Dk$),i.Y36(t.Fhc),i.Y36(t.L$R),i.Y36(b.F0))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-onboarding-company"]],viewQuery:function(d,m){if(1&d&&i.Gf(Pn,5),2&d){let S;i.iGM(S=i.CRH())&&(m.wizard=S.first)}},inputs:{isEmailVerified:"isEmailVerified",isPhoneVerified:"isPhoneVerified",isIdentityVerified:"isIdentityVerified",identityStatus:"identityStatus",userInfo:"userInfo"},features:[i.TTD],decls:7,vars:9,consts:[[3,"isEmailVerified","isPhoneVerified","currentStepIndex","userType","identityStatus"],[1,"pt-2","pt-md-4","mt-2",3,"disableNavigationBar"],["wizard",""],["awOptionalStep","",3,"canEnter"],[3,"wizardOnboarding","completedStep"],[3,"completedStep"]],template:function(d,m){if(1&d&&(i._UZ(0,"app-header-steps",0),i.TgZ(1,"aw-wizard",1,2)(3,"aw-wizard-step",3)(4,"app-verify-general-info-and-phone",4),i.NdJ("completedStep",function(){return m.onCompletedStep()}),i.qZA()(),i.TgZ(5,"aw-wizard-step",3)(6,"app-verify-identity-company",5),i.NdJ("completedStep",function(){return m.onCompletedStep()}),i.qZA()()()),2&d){const S=i.MAs(2);i.Q6J("isEmailVerified",m.isEmailVerified)("isPhoneVerified",m.isPhoneVerified)("currentStepIndex",null==S?null:S.currentStepIndex)("userType","company")("identityStatus",null==m.identityStatus?null:m.identityStatus.status),i.xp6(1),i.Q6J("disableNavigationBar",!0),i.xp6(2),i.Q6J("canEnter",m.canEnterFirstStep()),i.xp6(1),i.Q6J("wizardOnboarding",S),i.xp6(1),i.Q6J("canEnter",m.canEnterSecondStep())}},directives:[Oe,Y.Pl,Y.GZ,Y.g,Ot,Cn],encapsulation:2}),p})();function En(p,E){if(1&p&&(i.TgZ(0,"div"),i._UZ(1,"app-onboarding-person",3),i.qZA()),2&p){const d=i.oxw(2);i.xp6(1),i.Q6J("isEmailVerified",d.isEmailVerified)("isPhoneVerified",d.isPhoneVerified)("isIdentityVerified",d.isIdentityVerified)("residenceAddress",d.residenceAddress)("identityStatus",d.identityStatus)("finalQuestionsData",d.finalQuestionsData)}}function bn(p,E){if(1&p&&(i.TgZ(0,"div"),i._UZ(1,"app-onboarding-company",4),i.qZA()),2&p){const d=i.oxw().ngIf,m=i.oxw();i.xp6(1),i.Q6J("isEmailVerified",m.isEmailVerified)("isPhoneVerified",m.isPhoneVerified)("identityStatus",m.identityStatus)("isIdentityVerified",m.isIdentityVerified)("userInfo",null==d?null:d.userInfo)}}function Sn(p,E){if(1&p&&(i.TgZ(0,"div",1),i.YNc(1,En,2,6,"div",2),i.YNc(2,bn,2,5,"div",2),i.qZA()),2&p){const d=E.ngIf;i.xp6(1),i.Q6J("ngIf","company"!==(null==d||null==d.userInfo?null:d.userInfo.type)),i.xp6(1),i.Q6J("ngIf","company"===(null==d||null==d.userInfo?null:d.userInfo.type))}}const Zn=function(p){return{userInfo:p}},Ln=[{path:"",component:(()=>{class p{constructor(d,m,S,Z,oe,_e,Te){this.urlService=d,this.authService=m,this.currentUserStore=S,this.cookiesService=Z,this.environmentService=oe,this.addressService=_e,this.accountService=Te,this.userInfo$=this.currentUserStore.getAccountAndNext(),this.finalQuestionsData$=this.userInfo$.pipe((0,e.U)(W=>{var ve,De,Xe,et,tt,Qe;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(null==W?void 0:W.accountPurpose)&&{accountPurpose:null==W?void 0:W.accountPurpose}),(null==W?void 0:W.depositEstimation)&&{depositEstimation:null==W?void 0:W.depositEstimation}),(null==W?void 0:W.fundsOrigin)&&{fundsOrigin:null==W?void 0:W.fundsOrigin}),(null===(ve=null==W?void 0:W.person)||void 0===ve?void 0:ve.politicallyExposedPerson)&&{politicallyExposedPerson:null===(De=null==W?void 0:W.person)||void 0===De?void 0:De.politicallyExposedPerson}),(null===(Xe=null==W?void 0:W.person)||void 0===Xe?void 0:Xe.employmentStatus)&&{employmentStatus:null===(et=null==W?void 0:W.person)||void 0===et?void 0:et.employmentStatus}),(null===(tt=null==W?void 0:W.person)||void 0===tt?void 0:tt.profession)&&{profession:null===(Qe=null==W?void 0:W.person)||void 0===Qe?void 0:Qe.profession})})),this.residenceAddressUser$=this.addressService.getAddresses({isResidence:!0}),this.identityStatus$=this.accountService.getIdentityStatus(),this.destroy$=new O.x}ngOnInit(){if(this.authService.refresh().subscribe(),this.authService.tokenSubject.pipe((0,w.T)(1),(0,Q.R)(this.destroy$)).subscribe(()=>{this.setVerifications()}),this.setVerifications(),this.cookiesService.get(this.environmentService.cookieNames.quickRegisterData)){const m={domain:this.urlService.getCurrentDomain()};this.cookiesService.remove(this.environmentService.cookieNames.quickRegisterData,m)}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}setVerifications(){this.isEmailVerified=this.authService.isVerified([t.Dzy.email]),this.isPhoneVerified=this.authService.isVerified([t.Dzy.phone]),this.currentUserStore.getAccountAndNext().subscribe(),(0,J.a)([this.residenceAddressUser$,this.identityStatus$,this.finalQuestionsData$]).pipe((0,Q.R)(this.destroy$),(0,n.b)(([d,m,S])=>{this.residenceAddress=d,this.identityStatus=m,this.finalQuestionsData=S,this.isIdentityVerified=this.authService.isVerified([t.Dzy.identity])||m.status===t.olx.verified})).subscribe()}}return p.\u0275fac=function(d){return new(d||p)(i.Y36(t.iOJ),i.Y36(t.e80),i.Y36(t.Dk$),i.Y36(t.Fhc),i.Y36(t.L$R),i.Y36(X.D),i.Y36(t.BRM))},p.\u0275cmp=i.Xpm({type:p,selectors:[["ng-component"]],decls:2,vars:5,consts:[["class","b2m-onboarding-page",4,"ngIf"],[1,"b2m-onboarding-page"],[4,"ngIf"],[3,"isEmailVerified","isPhoneVerified","isIdentityVerified","residenceAddress","identityStatus","finalQuestionsData"],[3,"isEmailVerified","isPhoneVerified","identityStatus","isIdentityVerified","userInfo"]],template:function(d,m){1&d&&(i.YNc(0,Sn,3,2,"div",0),i.ALo(1,"async")),2&d&&i.Q6J("ngIf",i.VKq(3,Zn,i.lcZ(1,1,m.userInfo$)))},directives:[C.O5,Ae,xn],pipes:[C.Ov],styles:[".b2m-onboarding-page{text-align:center;top:20px}.b2m-onboarding-page h1,.b2m-onboarding-page h2,.b2m-onboarding-page h3,.b2m-onboarding-page h4,.b2m-onboarding-page a{color:#03407c}.b2m-onboarding-page aw-wizard-navigation-bar{background-color:#000;display:none!important}\n"],encapsulation:2}),p})(),canActivate:[t.a1M]},{path:"verified-email",component:(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["ng-component"]],decls:13,vars:6,consts:[[1,"mt-1","mt-lg-4","mb-1","mb-lg-4"],[1,"logo"],["aria-hidden","true","alt","Bit2Me",1,"b2msf-logo"],[1,"confirmed-email","d-flex","justify-content-center"],[1,"text-center"],[1,"confirmed-email-text"],["aria-hidden","true",1,"b2msf-check-circle-line"]],template:function(d,m){1&d&&(i.TgZ(0,"header",0)(1,"a",1),i._UZ(2,"i",2),i.qZA()(),i.TgZ(3,"div",3)(4,"div",4)(5,"p",5),i._UZ(6,"i",6)(7,"br"),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"p"),i._uU(11),i.ALo(12,"translate"),i.qZA()()()),2&d&&(i.xp6(8),i.hij(" ",i.lcZ(9,2,"ONBOARDING.STEP_1.CONFIRMED_EMAIL")," "),i.xp6(3),i.Oqu(i.lcZ(12,4,"ONBOARDING.STEP_1.FOLLOW_FROM_PREVIOUS")))},pipes:[N.X$],styles:["header[_ngcontent-%COMP%]{border-top:1px solid rgba(145,173,204,.5);border-bottom:1px solid rgba(145,173,204,.5);height:60px}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;justify-content:start;text-decoration:none;margin-left:20px}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#044e97;font-size:34px;line-height:60px;vertical-align:middle}p[_ngcontent-%COMP%]{margin-top:35px}.confirmed-email-text[_ngcontent-%COMP%]{font-weight:700;color:#099c14}.confirmed-email-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3em}@media (max-width: 576px){header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;justify-content:center}.confirmed-email[_ngcontent-%COMP%]{margin:10px}}.text-center[_ngcontent-%COMP%]{box-sizing:border-box;width:412px;height:283px;border:1px solid #f0f0f0;box-shadow:0 8px 16px #00000014;border-radius:8px}.text-center[_ngcontent-%COMP%]   .onboarding-link[_ngcontent-%COMP%]{color:#8a8a8a}"]}),p})()}];let Tn=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=i.oAB({type:p}),p.\u0275inj=i.cJS({imports:[[C.ez,b.Bz.forChild(Ln),t.Rbs.forChild(),g.v],b.Bz]}),p})(),Rn=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=i.oAB({type:p}),p.\u0275inj=i.cJS({imports:[[C.ez,t.Rbs.forChild(),g.v,Tn,A.U8,T.b1,D.X]]}),p})()},91031:(se,$,f)=>{"use strict";f.d($,{$:()=>n});var C=f(90587),t=f(63911),A=f.n(t),g=f(3184),T=f(90923),D=f(33935),b=f(88660),O=f(36362);const J=function(i){return{backgroundImage:i}};function e(i,X){if(1&i&&(g.TgZ(0,"ng-option",18),g._UZ(1,"div",19),g._uU(2),g.ALo(3,"titlecase"),g.qZA()),2&i){const Y=X.$implicit,z=g.oxw();g.Q6J("value",Y.code),g.xp6(1),g.Q6J("ngStyle",g.VKq(5,J,"url("+z.urlService.getAssetUrl("images/flags/svg/v2/")+Y.flag+".svg)")),g.xp6(1),g.hij(" ",g.lcZ(3,3,Y.name),"")}}function w(i,X){if(1&i&&g._uU(0),2&i){const Y=X.item;g.AsE(" ",null==Y?null:Y.name," (",null==Y?null:Y.symbol,") ")}}function Q(i,X){if(1&i&&g._uU(0),2&i){const Y=X.item;g.AsE(" ",null==Y?null:Y.name," (",null==Y?null:Y.symbol,") ")}}let n=(()=>{class i{constructor(Y,z,k,R,j,N,G,ne,te,me,ee){this.formBuilder=Y,this.accountService=z,this.notificationService=k,this.currentUserStore=R,this.localeService=j,this.liveCurrencyService=N,this.assetsService=G,this.pocketService=ne,this.translate=te,this.urlService=me,this.environmentService=ee}ngOnInit(){this.initTimezones(),this.initAccount(),this.availableLanguages=this.environmentService.langs,this.localeService.getActiveLanguageAsObservable().subscribe(()=>{this.getAvailableFiatCurrencies()}),this.getAvailableFiatCurrencies()}getAvailableFiatCurrencies(){this.availableCurrencies=this.assetsService.getFiatAssetsByLang(this.translate.currentLang)}initTimezones(){const Y=A().raw.timezones,z=Object.keys(Y).reduce((k,R)=>{const j=Y[R].name.replace("_"," ");return Y[R].label=`${Y[R].offsetStr} ${j}`,k.push(Y[R]),k},[]);z.sort((k,R)=>k.utcOffset===R.utcOffset?0:k.utcOffset>R.utcOffset?-1:1),this.availableTimeZones=z}initAccount(){this.buildForm(),this.currentUserStore.userSubject.subscribe(Y=>{this.account=Y.account,this.setCurrentAccountPreferences()})}setCurrentAccountPreferences(){this.account&&this.account.profile&&this.generalPreferencesForm.patchValue(this.account.profile)}orderTimezonesByOffset(Y,z){return Y.value.utcOffset<z.value.utcOffset?Y.value.utcOffset:null}buildForm(){this.generalPreferencesForm=this.formBuilder.group({langCode:["",[C.kI.required]],currencyCode:["",[C.kI.required]],timeZone:["",[C.kI.required]]})}submitPreferences(){this.submitting=!0;const Y={profile:this.generalPreferencesForm.value};this.accountService.update(Y).subscribe(()=>{this.submitting=!1,this.currentUserStore.refresh().subscribe(()=>{this.liveCurrencyService.loadCurrencyRates().subscribe(()=>{this.pocketService.refreshPockets().then()})}),this.localeService.setActiveLanguage(this.localeService.getLanguageByCode(Y.profile.langCode)),this.notificationService.success(this.translate.instant("TOAST.SAVE.SUCCESS"))},()=>{this.submitting=!1})}searchByNameAndSymbol(Y,z){if(!z.name||!z.symbol)return null;const k=Y.toLocaleLowerCase();return z.name.toLocaleLowerCase().indexOf(k)>-1||z.symbol.toLocaleLowerCase().indexOf(k)>-1}}return i.\u0275fac=function(Y){return new(Y||i)(g.Y36(C.qu),g.Y36(T.BRM),g.Y36(T.TFo),g.Y36(T.Dk$),g.Y36(T.OLO),g.Y36(T.dLj),g.Y36(T.zcL),g.Y36(T.xHo),g.Y36(D.sK),g.Y36(T.iOJ),g.Y36(T.L$R))},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:36,vars:37,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],[1,"row",3,"formGroup"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"form-group"],["for","language",1,"active"],["formControlName","langCode",1,"b2m-select",3,"placeholder","clearable","searchable"],[3,"value",4,"ngFor","ngForOf"],["formControlName","currencyCode","bindLabel","name","bindValue","symbol",1,"b2m-select",3,"searchable","clearable","placeholder","items","searchFn"],["ng-label-tmp",""],["ng-option-tmp",""],["formControlName","timeZone","bindLabel","label","bindValue","name",1,"b2m-select","timezone-select",3,"searchable","clearable","placeholder","items"],[1,"card-page-footer","text-right"],[1,"b2m-btn","btn-solid","mr-0",3,"bngxLoadingLayer","disabled","click"],[3,"value"],[1,"ng-select-image",3,"ngStyle"]],template:function(Y,z){1&Y&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),g._uU(5),g.ALo(6,"translate"),g.qZA()(),g.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"fieldset",8)(11,"label",9),g._uU(12),g.ALo(13,"translate"),g.qZA(),g.TgZ(14,"ng-select",10),g.ALo(15,"translate"),g.YNc(16,e,4,7,"ng-option",11),g.qZA()()(),g.TgZ(17,"div",7)(18,"fieldset",8)(19,"label"),g._uU(20),g.ALo(21,"translate"),g.qZA(),g.TgZ(22,"ng-select",12),g.ALo(23,"translate"),g.YNc(24,w,1,2,"ng-template",13),g.YNc(25,Q,1,2,"ng-template",14),g.qZA()(),g.TgZ(26,"fieldset",8)(27,"label"),g._uU(28),g.ALo(29,"translate"),g.qZA(),g._UZ(30,"ng-select",15),g.ALo(31,"translate"),g.qZA()()()(),g.TgZ(32,"div",16)(33,"button",17),g.NdJ("click",function(){return z.submitPreferences()}),g._uU(34),g.ALo(35,"translate"),g.qZA()()()()()),2&Y&&(g.xp6(5),g.Oqu(g.lcZ(6,21,"GENERAL_PREFERENCES_PAGE.TITLE")),g.xp6(3),g.Q6J("formGroup",z.generalPreferencesForm),g.xp6(4),g.Oqu(g.lcZ(13,23,"FORM.LANGUAGE_SELECT.LABEL")),g.xp6(2),g.Q6J("placeholder",g.lcZ(15,25,"FORM.LANGUAGE_SELECT.PLACEHOLDER"))("clearable",!1)("searchable",!1),g.xp6(2),g.Q6J("ngForOf",z.availableLanguages),g.xp6(4),g.Oqu(g.lcZ(21,27,"FORM.CURRENCY_SELECT.LABEL")),g.xp6(2),g.Q6J("searchable",!0)("clearable",!1)("placeholder",g.lcZ(23,29,"FORM.CURRENCY_SELECT.LABEL"))("items",z.availableCurrencies)("searchFn",z.searchByNameAndSymbol),g.xp6(6),g.Oqu(g.lcZ(29,31,"FORM.TIMEZONE_SELECT.LABEL")),g.xp6(2),g.Q6J("searchable",!0)("clearable",!1)("placeholder",g.lcZ(31,33,"FORM.TIMEZONE_SELECT.LABEL"))("items",z.availableTimeZones),g.xp6(3),g.Q6J("bngxLoadingLayer",z.submitting)("disabled",z.submitting),g.xp6(1),g.hij(" ",g.lcZ(35,35,"BUTTONS.SAVE")," "))},directives:[C._Y,C.JL,C.sg,b.w9,C.JJ,C.u,O.sg,b.jq,O.PC,b.mR,b.ir,T.gO3],pipes:[D.X$,O.rS],styles:[".card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}@media (max-width: 992px){.card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px}}.timezone-select[_ngcontent-%COMP%]  .ng-dropdown-panel-items{max-height:180px}@media (max-width: 992px){.timezone-select[_ngcontent-%COMP%]  .ng-dropdown-panel-items{max-height:130px}}"]}),i})()},25006:(se,$,f)=>{"use strict";f.d($,{d:()=>g});var C=f(3184),t=f(90923),A=f(33935);let g=(()=>{class T{constructor(b){this.authService=b}handleLogin(){this.authService.signout()}}return T.\u0275fac=function(b){return new(b||T)(C.Y36(t.e80))},T.\u0275cmp=C.Xpm({type:T,selectors:[["ng-component"]],decls:18,vars:12,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"container-fluid"],[1,"modal-header","success"],["aria-hidden","true",1,"b2msf-check-circle-line"],[1,"modal-title"],[1,"modal-body"],[3,"click"]],template:function(b,O){1&b&&(C.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),C._UZ(4,"i",4),C.TgZ(5,"div",5),C._uU(6),C.ALo(7,"translate"),C.qZA()(),C.TgZ(8,"div")(9,"div",6)(10,"p"),C._uU(11),C.ALo(12,"translate"),C.TgZ(13,"a",7),C.NdJ("click",function(){return O.handleLogin()}),C._uU(14),C.ALo(15,"translate"),C.qZA(),C._uU(16),C.ALo(17,"translate"),C.qZA()()()()()()),2&b&&(C.xp6(6),C.Oqu(C.lcZ(7,4,"CONFIRM_CHANGED_EMAIL_PAGE.SUCCESS.TITLE")),C.xp6(5),C.hij(" ",C.lcZ(12,6,"CONFIRM_CHANGED_EMAIL_PAGE.SUCCESS.WORD1")," "),C.xp6(3),C.Oqu(C.lcZ(15,8,"CONFIRM_CHANGED_EMAIL_PAGE.SUCCESS.WORD2")),C.xp6(2),C.hij(" ",C.lcZ(17,10,"CONFIRM_CHANGED_EMAIL_PAGE.SUCCESS.MESSAGE"),""))},pipes:[A.X$],styles:[".card-page-outer[_ngcontent-%COMP%]{width:412px;font-size:16px;margin:auto;text-align:center}@media (max-width: 576px){.card-page-outer[_ngcontent-%COMP%]{width:100%}}.modal-header[_ngcontent-%COMP%]{display:block}.modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#044e97;text-decoration:underline}.success[_ngcontent-%COMP%]{color:#36a34d;font-weight:700}"]}),T})()},39152:(se,$,f)=>{"use strict";f.d($,{x:()=>k});var C=f(19839),t=f(50253),A=f(28784),g=f(3184),T=f(90923),D=f(19720),b=f(36362),O=f(69965),J=f(33935);function e(R,j){if(1&R&&(g.TgZ(0,"div",12),g._UZ(1,"img",13),g.ALo(2,"translate"),g.TgZ(3,"p",14)(4,"strong"),g._uU(5),g.ALo(6,"translate"),g.qZA()()()),2&R){const N=g.oxw();g.xp6(1),g.s9C("alt",g.lcZ(2,3,"IDENTITY_CAMERA_PAGE.NO_PICTURE")),g.Q6J("width",N.width),g.xp6(4),g.Oqu(g.lcZ(6,5,"IDENTITY_CAMERA_PAGE.NO_PICTURE"))}}function w(R,j){if(1&R){const N=g.EpF();g.TgZ(0,"button",15),g.NdJ("click",function(){return g.CHM(N),g.oxw().triggerPhoto()}),g.TgZ(1,"label"),g._UZ(2,"i",16),g.TgZ(3,"input",17),g.NdJ("change",function(ne){return g.CHM(N),g.oxw().onFileSelected(ne)}),g.qZA()()()}if(2&R){const N=g.oxw();g.xp6(3),g.Q6J("accept",N.acceptImageTypes)}}function Q(R,j){if(1&R){const N=g.EpF();g.TgZ(0,"button",18),g.NdJ("click",function(){return g.CHM(N),g.oxw().savePhoto()}),g._UZ(1,"i",19),g.qZA()}}function n(R,j){if(1&R){const N=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(){return g.CHM(N),g.oxw().retakePhoto()}),g._UZ(1,"i",21),g.qZA()}}function i(R,j){if(1&R&&g._UZ(0,"div",22),2&R){const N=g.oxw();g.Udp("background-image","url("+N.webcamImage.imageAsDataUrl+")")}}function X(R,j){1&R&&(g.TgZ(0,"div",23)(1,"div",24)(2,"h4",25),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"div",26)(6,"p"),g._uU(7),g.ALo(8,"translate"),g.qZA()()()()),2&R&&(g.xp6(3),g.Oqu(g.lcZ(4,2,"IDENTITY_CAMERA_PAGE.UPLOAD_ERROR")),g.xp6(4),g.Oqu(g.lcZ(8,4,"IDENTITY_CAMERA_PAGE.PICTURE_UPLOADED_ERROR")))}function Y(R,j){1&R&&(g.TgZ(0,"div",27)(1,"div",28)(2,"h4",25),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"div",26)(6,"p"),g._uU(7),g.ALo(8,"translate"),g.qZA()()()()),2&R&&(g.xp6(3),g.Oqu(g.lcZ(4,2,"IDENTITY_CAMERA_PAGE.PICTURE_UPLOADED")),g.xp6(4),g.Oqu(g.lcZ(8,4,"IDENTITY_CAMERA_PAGE.PICTURE_UPLOADED_SUCCESSFULLY")))}const z=function(R){return{validate:R}};let k=(()=>{class R{constructor(N,G,ne,te){this.accountService=N,this.activatedRoute=G,this.urlService=ne,this.logger=te,this.trigger=new t.x,this.availableDevices=[],this.switchCamera=new t.x,this.videoOptions={aspectRatio:1},this.deviceSelectedPosition=0,this.acceptImageTypes=".png,.jpg,.jpeg",this.uploading=!1}ngOnInit(){this.token=this.activatedRoute.snapshot.params.token,this.type=this.activatedRoute.snapshot.queryParams.type,this.onResize()}onResize(N){const G=N?N.target:window;this.width=G.innerWidth,this.height=G.innerHeight}triggerPhoto(){this.trigger.next()}get triggerObservable(){return this.trigger.asObservable()}handleImage(N){this.webcamImage=N}savePhoto(){const N=new FormData;this.uploadError=!1,fetch(this.webcamImage.imageAsDataUrl).then(G=>G.blob()).then(G=>{N.append("image",G);const ne=new A.WM({Authorization:`Bearer ${this.token}`});this.uploading=!0,this.uploadSuccessfully=!1,this.accountService.uploadIdentityImage(N,this.type,{headers:ne}).subscribe(()=>{this.uploadSuccessfully=!0,this.uploading=!1,this.uploadError=!1},()=>{this.uploadError=!0,this.uploading=!1})}).catch(()=>{this.uploadError=!0})}retakePhoto(){this.webcamImage=null}onFileSelected(N){const G=new FileReader;if(N.target.files&&N.target.files.length){const[ne]=N.target.files;G.readAsDataURL(ne),G.onload=()=>{this.webcamImage=new C.T8(G.result,ne.type,ne)}}}handleWebcamError(N){this.logger.log(N)}getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}}return R.\u0275fac=function(N){return new(N||R)(g.Y36(T.BRM),g.Y36(D.gz),g.Y36(T.iOJ),g.Y36(T.mQy))},R.\u0275cmp=g.Xpm({type:R,selectors:[["ng-component"]],hostBindings:function(N,G){1&N&&g.NdJ("resize",function(te){return G.onResize(te)},!1,g.Jf7)},decls:14,vars:17,consts:[["id","picture-not-found","class","element",4,"ngIf"],["id","help-button","target","_blank","rel","noopener noreferrer",3,"href","title"],["aria-hidden","true",1,"b2msf-question-circle-line","b2msf-2x"],["id","buttons-box",3,"ngClass"],["class","take-picture-button",3,"click",4,"ngIf"],["class","accept-picture-button",3,"click",4,"ngIf"],["class","discard-picture-button",3,"click",4,"ngIf"],["context","fullscreen",3,"bngxLoadingLayer"],["id","picture-taken-review","class","element",3,"backgroundImage",4,"ngIf"],["id","background",1,"element"],["id","error-alert",4,"ngIf"],["id","success-alert",4,"ngIf"],["id","picture-not-found",1,"element"],["src","../../../../assets/images/no-picture-camera-red-cross.svg",3,"width","alt"],[1,"picture-not-found-text","text-center"],[1,"take-picture-button",3,"click"],[1,"b2msf-camera-thin"],["type","file","ngFileSelect","",1,"d-none",3,"accept","change"],[1,"accept-picture-button",3,"click"],[1,"b2msf-check"],[1,"discard-picture-button",3,"click"],[1,"b2msf-times"],["id","picture-taken-review",1,"element"],["id","error-alert"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[1,"alert-contents"],["id","success-alert"],["role","alert",1,"alert","alert-success"]],template:function(N,G){1&N&&(g.YNc(0,e,7,7,"div",0),g.TgZ(1,"a",1),g.ALo(2,"translate"),g.ALo(3,"translate"),g._UZ(4,"i",2),g.qZA(),g.TgZ(5,"div",3),g.YNc(6,w,4,1,"button",4),g.YNc(7,Q,2,0,"button",5),g.YNc(8,n,2,0,"button",6),g.qZA(),g._UZ(9,"div",7),g.YNc(10,i,1,2,"div",8),g._UZ(11,"div",9),g.YNc(12,X,9,6,"div",10),g.YNc(13,Y,9,6,"div",11)),2&N&&(g.Q6J("ngIf",!G.webcamImage),g.xp6(1),g.Q6J("href",g.lcZ(2,11,"PROFILE_IDENTITY_NEW_PAGE.UPLOAD_STEP.KNOWLEDGEBASE_LINK.HREF"),g.LSH)("title",g.lcZ(3,13,"PROFILE_IDENTITY_NEW_PAGE.UPLOAD_STEP.KNOWLEDGEBASE_LINK.TITLE")),g.xp6(4),g.Q6J("ngClass",g.VKq(15,z,G.webcamImage)),g.xp6(1),g.Q6J("ngIf",!G.webcamImage),g.xp6(1),g.Q6J("ngIf",G.webcamImage),g.xp6(1),g.Q6J("ngIf",G.webcamImage),g.xp6(1),g.Q6J("bngxLoadingLayer",G.uploading),g.xp6(1),g.Q6J("ngIf",G.webcamImage),g.xp6(2),g.Q6J("ngIf",G.uploadError),g.xp6(1),g.Q6J("ngIf",G.uploadSuccessfully))},directives:[b.O5,b.mk,O.qx,T.gO3],pipes:[J.X$],styles:[".element[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}#picture-not-found[_ngcontent-%COMP%]{z-index:2;text-align:center;padding-top:40px}#picture-not-found[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%}#webcam-view[_ngcontent-%COMP%]{display:inline-block;left:50%;width:auto;height:auto;max-height:100vw;transform:translate(-50%) translateY(-50%);z-index:2}@media (orientation: portrait){#webcam-view[_ngcontent-%COMP%]{top:40%}}@media (orientation: landscape){#webcam-view[_ngcontent-%COMP%]{top:50%}}#picture-taken-review[_ngcontent-%COMP%]{z-index:2;background-color:#fff;background-size:contain;background-position:center;background-repeat:no-repeat}#background[_ngcontent-%COMP%]{z-index:1;background-color:#fff}#error-alert[_ngcontent-%COMP%]{position:absolute;z-index:100;width:100vw;height:100vh;background-color:#000c}#error-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:10px;max-width:calc(100vw - 20px)}#success-alert[_ngcontent-%COMP%]{position:absolute;z-index:100;width:100vw;height:100vh;background-color:#000c}#success-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:10px;max-width:calc(100vw - 20px)}#help-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:50%;color:#044e97;background-color:#fff;width:48px;height:48px;z-index:2;border:0;padding:6px;margin:10px}#buttons-box[_ngcontent-%COMP%]{position:absolute;z-index:3}@media (orientation: portrait){#buttons-box[_ngcontent-%COMP%]{width:100vw;height:10vh;min-height:120px;bottom:0;left:0}}@media (orientation: landscape){#buttons-box[_ngcontent-%COMP%]{width:10vw;min-width:120px;height:100vh;top:0;right:0}}#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{position:absolute;border-radius:50%;text-align:center;transform:translate(-50%) translateY(-50%);border:0 none transparent;padding:0;transition:all ease .3s}#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{background-color:#fff;color:#044e97;width:40px;height:40px;line-height:40px;font-size:16px}#buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#004f9a;border:10px solid #fff;color:#fff;line-height:80px;font-size:30px}#buttons-box[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#004f9a;border:6px solid #fff;color:#fff;line-height:68px;font-size:24px}#buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font:inherit;line-height:inherit;margin:0}@media (orientation: portrait){#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:50%;left:25%}#buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%]{top:50%;left:50%}#buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:50%;left:75%}}@media (orientation: landscape){#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:25%;left:50%}#buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%]{top:50%;left:50%}#buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:75%;left:50%}}@media (orientation: portrait){#buttons-box.validate[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:50%;left:15%}#buttons-box.validate[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%]{top:50%;left:40%}#buttons-box.validate[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{top:50%;left:60%}#buttons-box.validate[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:50%;left:85%}}@media (orientation: landscape){#buttons-box.validate[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:15%;left:50%}#buttons-box.validate[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%]{top:40%;left:50%}#buttons-box.validate[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{top:60%;left:50%}#buttons-box.validate[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:85%;left:50%}}"]}),R})()},76598:(se,$,f)=>{"use strict";f.d($,{b:()=>w});var C=f(90923),t=f(50253),A=f(68951),g=f(3184),T=f(36362),D=f(33935);function b(Q,n){1&Q&&(g.TgZ(0,"h2",7),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&Q&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TITLE")," "))}function O(Q,n){1&Q&&(g.TgZ(0,"h2",7),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&Q&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TITLE")," "))}function J(Q,n){1&Q&&(g.TgZ(0,"div",8),g._UZ(1,"img",9),g.TgZ(2,"h5",10)(3,"strong"),g._uU(4),g.ALo(5,"translate"),g.qZA()(),g._UZ(6,"p",11),g.ALo(7,"translate"),g._UZ(8,"p",11),g.ALo(9,"translate"),g._UZ(10,"p",11),g.ALo(11,"translate"),g.qZA()),2&Q&&(g.xp6(4),g.Oqu(g.lcZ(5,4,"IDENTITY_SUCCESS_PAGE.LOW_RISK.SUBTITLE")),g.xp6(2),g.Q6J("innerHTML",g.lcZ(7,6,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TEXT_1"),g.oJD),g.xp6(2),g.Q6J("innerHTML",g.lcZ(9,8,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TEXT_2"),g.oJD),g.xp6(2),g.Q6J("innerHTML",g.lcZ(11,10,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TEXT_3"),g.oJD))}function e(Q,n){1&Q&&(g.TgZ(0,"div",12)(1,"div",13),g._UZ(2,"p",14),g.ALo(3,"translate"),g._UZ(4,"p",14),g.ALo(5,"translate"),g.qZA(),g.TgZ(6,"div",15)(7,"a",16),g.ALo(8,"translate"),g.TgZ(9,"button",17),g._uU(10),g.ALo(11,"translate"),g.qZA()()(),g.TgZ(12,"div",18),g._UZ(13,"p",19),g.ALo(14,"translate"),g.TgZ(15,"small",20),g._uU(16),g.ALo(17,"translate"),g.qZA()()()),2&Q&&(g.xp6(2),g.Q6J("innerHTML",g.lcZ(3,6,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TEXT_1"),g.oJD),g.xp6(2),g.Q6J("innerHTML",g.lcZ(5,8,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TEXT_2"),g.oJD),g.xp6(3),g.Q6J("href",g.lcZ(8,10,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.FORM_HREF"),g.LSH),g.xp6(3),g.hij(" ",g.lcZ(11,12,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.EXTRA_DOCUMENTATION_FORM_OPENED_LINK_TEXT")," "),g.xp6(3),g.Q6J("innerHTML",g.lcZ(14,14,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.EXTRA_HELP"),g.oJD),g.xp6(3),g.Oqu(g.lcZ(17,16,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TEXT_3")))}let w=(()=>{class Q{constructor(i,X,Y,z){this.urlService=i,this.accountService=X,this.accountAnalyticsService=Y,this.authService=z,this.destroy=new t.x}ngOnInit(){this.accountService.getIdentityStatus().pipe((0,A.R)(this.destroy)).subscribe(i=>{this.setUserRisk(i),this.sendIdentityProcessCompletedGTMEvent(i)})}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}setUserRisk(i){this.isHighRiskUser=!(i.risk.level!==C.Ftf.high||!i.error.includes(C.Tjq.enhancedMeasuresNotReceived))}sendIdentityProcessCompletedGTMEvent(i){i.status!==C.olx.error&&this.accountAnalyticsService.trackGoogleAnalyticVerifiedIdentityEvent(this.authService.getUserInfo().sub)}}return Q.\u0275fac=function(i){return new(i||Q)(g.Y36(C.iOJ),g.Y36(C.BRM),g.Y36(C.p$5),g.Y36(C.e80))},Q.\u0275cmp=g.Xpm({type:Q,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box"],["class","card-page-title",4,"ngIf"],[1,"card-page-inner"],["class","low-risk text-center",4,"ngIf"],["class","high-risk text-left",4,"ngIf"],[1,"card-page-title"],[1,"low-risk","text-center"],["src","../../../../assets/images/identity/illustration-send-info.svg"],[1,"mb-5","mt-5"],[1,"description",3,"innerHTML"],[1,"high-risk","text-left"],[1,"explanation"],[1,"mb-3",3,"innerHTML"],[1,"form-btn","w-100","text-center"],["target","_blank","rel","noopener noreferrer",1,"mb-3",3,"href"],[1,"b2m-btn","btn-solid"],[1,"additional-info"],[1,"mb-3","mt-3",3,"innerHTML"],[1,"mt-2"]],template:function(i,X){1&i&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2),g.YNc(3,b,3,3,"h2",3),g.YNc(4,O,3,3,"h2",3),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,J,12,12,"div",5),g.YNc(7,e,18,18,"div",6),g.qZA()()()),2&i&&(g.xp6(3),g.Q6J("ngIf",!X.isHighRiskUser),g.xp6(1),g.Q6J("ngIf",X.isHighRiskUser),g.xp6(2),g.Q6J("ngIf",!X.isHighRiskUser),g.xp6(1),g.Q6J("ngIf",X.isHighRiskUser))},directives:[T.O5],pipes:[D.X$],styles:["img[_ngcontent-%COMP%]{max-width:100%}@media (min-width: 576px){.description[_ngcontent-%COMP%]{padding:0 60px}img[_ngcontent-%COMP%]{max-width:70%}}"]}),Q})()},64798:(se,$,f)=>{"use strict";f.r($),f.d($,{ProfileModule:()=>ei});var C=f(90923),t=f(1802),A=f(7104),g=f(28086),T=f(19720),D=f(36362),b=f(19337),O=f(50635),J=f(76317),e=f(3184),w=f(33935);function Q(a,P){if(1&a&&(e.TgZ(0,"div",7),e._UZ(1,"img",8),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&a){const r=e.oxw();e.xp6(1),e.Q6J("src",r.urlService.getAssetsUrl()+"/images/no-data.png",e.LSH),e.xp6(2),e.Oqu(e.lcZ(4,2,"CORE_UI.NOTIFICATIONS.PANEL.NO_NOTIFICATIONS"))}}function n(a,P){if(1&a&&(e.TgZ(0,"p",23),e._uU(1),e.ALo(2,"async"),e.ALo(3,"timeAgo"),e.qZA()),2&a){const r=e.oxw(2).$implicit;e.Q6J("title",r.time),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,r.time))," ")}}function i(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(I){e.CHM(r);const F=e.oxw().$implicit;return e.oxw(2).handleClickLink(I,F)}),e.TgZ(1,"div",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"div",17)(4,"div",18)(5,"h5",19),e._uU(6),e.qZA(),e._UZ(7,"p",20),e.qZA(),e.TgZ(8,"div",21),e.YNc(9,n,4,6,"p",22),e.qZA()()()}if(2&a){const r=e.oxw().$implicit,s=e.oxw(2);e.s9C("target",s.checkIfNotificationDescriptionContainHref(r)?"_blank":"_self"),e.Q6J("title",s.getNotificationDescriptionWithoutHtml(r))("href",s.getHref(r),e.LSH),e.xp6(2),e.Q6J("ngClass",s.getNotificationIconClass(r,"b2msf-receive")),e.xp6(3),e.Q6J("title",s.getNotificationTitle(r)),e.xp6(1),e.hij(" ",s.getNotificationTitle(r)," "),e.xp6(1),e.Q6J("innerHTML",s.getNotificationDescription(r),e.oJD),e.xp6(2),e.Q6J("ngIf",r.time)}}function X(a,P){if(1&a&&(e.TgZ(0,"p",23),e._uU(1),e.ALo(2,"async"),e.ALo(3,"timeAgo"),e.qZA()),2&a){const r=e.oxw(2).$implicit;e.Q6J("title",r.time),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,r.time))," ")}}function Y(a,P){if(1&a&&(e.TgZ(0,"a",24)(1,"div",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"div",17)(4,"div",18)(5,"h5",19),e._uU(6),e.qZA(),e._UZ(7,"p",20),e.qZA(),e.TgZ(8,"div",21),e.YNc(9,X,4,6,"p",22),e.qZA()()()),2&a){const r=e.oxw().$implicit,s=e.oxw(2);e.Q6J("title",s.getNotificationDescription(r)),e.xp6(2),e.Q6J("ngClass",s.getNotificationIconClass(r)),e.xp6(3),e.Q6J("title",s.getNotificationTitle(r)),e.xp6(1),e.hij(" ",s.getNotificationTitle(r)," "),e.xp6(1),e.Q6J("innerHTML",s.getNotificationDescription(r),e.oJD),e.xp6(2),e.Q6J("ngIf",r.time)}}const z=function(a){return{active:a}};function k(a,P){if(1&a&&(e.TgZ(0,"li",11),e.YNc(1,i,10,8,"a",12),e.YNc(2,Y,10,6,"a",13),e.qZA()),2&a){const r=P.$implicit,s=e.oxw(2);e.Q6J("ngClass",e.VKq(3,z,!r.read)),e.xp6(1),e.Q6J("ngIf",s.getHref(r)),e.xp6(1),e.Q6J("ngIf",!s.getHref(r))}}function R(a,P){if(1&a&&(e.TgZ(0,"ul",9),e.YNc(1,k,3,5,"li",10),e.qZA()),2&a){const r=P.ngIf;e.xp6(1),e.Q6J("ngForOf",r.data)}}let j=(()=>{class a{constructor(r,s,I,F,V,ce,Ce){this.notificationsService=r,this.translate=s,this.router=I,this.cryptocurrencyPipe=F,this.urlService=V,this.environmentService=ce,this.notificationsWebSocketService=Ce,this.LIMIT=20,this.notificationsSubject$=new J.X({total:0,data:[]}),this.notifications={total:0,data:[]},this.notificationTypes=C.mv9,this.offset=0,this.regexToDetectLinks=/href=["'](.*?)["']/,this.regexToDetectHtml=/<[^>]*>/g}onWindowScroll(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&this.notifications.data.length<this.notifications.total&&!this.loading&&(this.offset+=this.LIMIT,this.loadNotifications())}ngOnInit(){this.notificationsWebsocket$=this.notificationsWebSocketService.subject.pipe((0,b.b)(()=>{this.offset=0,this.loadNotifications()})),this.loadNotifications()}loadNotifications(){this.loading=!0,this.notificationsService.findAll(!0,this.LIMIT,this.offset).pipe((0,O.U)(({total:r,data:s})=>(this.notifications.total=r,this.notifications.data=[...this.notifications.data,...s],this.notifications))).subscribe(r=>{this.notificationsSubject$.next(r),this.loading=!1})}getNotificationLinkTitle(r){return r?`this.translate.instant('CORE_UI.NOTIFICATIONS.${r.type}.title', { meta: notification.meta }). ${this.getNotificationDescription(r)}`:null}getNotificationTitle(r){return r?this.translate.instant(`CORE_UI.NOTIFICATIONS.${r.type}.title`,{meta:r.meta}):null}getNotificationDescription(r){if(!r)return null;if("affiliate.activity"===r.type||"affiliate.error"===r.type||"affiliate.invoice"===r.type)return this.translate.instant(`CORE_UI.NOTIFICATIONS.${r.type}.description.${r.meta.action}`,r.meta);const s={amount:""};return r.meta&&r.meta.amount&&(s.amount=this.cryptocurrencyPipe.transform(r.meta.amount,r.meta.currency,!0)),this.translate.instant(`CORE_UI.NOTIFICATIONS.${r.type}.description`,s)}getNotificationDescriptionWithoutHtml(r){return this.getNotificationDescription(r).replace(this.regexToDetectHtml,"")}getNotificationDescriptionTitleAttribute(r){if(!r)return null;let s=this.translate.instant(`CORE_UI.NOTIFICATIONS.${r.type}.description`);return r.meta&&r.meta.amount&&(s+=this.cryptocurrencyPipe.transform(r.meta.amount,r.meta.currency,!0)),s}getNotificationIconClass(r,s=null){var I,F;return r.type.includes("affiliate")?(null===(I=this.notificationTypes["affiliate.subtype"][r.meta.action])||void 0===I?void 0:I.iconClass)||s:null===(F=this.notificationTypes[r.type])||void 0===F?void 0:F.iconClass}getHref(r){if(this.checkIfNotificationDescriptionContainHref(r))return this.getFirstHrefFromNotificationDescription(r);let s="";if(r.type.includes("wallet.trx")||r.type.includes("teller")){const I=this.urlService.service("wallet");r.meta.transactionId&&(s=`${I}activity/list/${r.meta.transactionId}`)}else if(r.type.includes("identity."))s=`${this.urlService.service("account")}profile/identity`;else if(r.type.includes("affiliate.")){if("payoutProcessed"===r.meta.action)return s=`${this.urlService.service("wallet")}/pockets/${r.meta.pocketId}`,s;s=`${this.urlService.service("account")}referrals/links`}else(r.type.includes("wallet.promo")||r.type.includes("social.payment"))&&(s=`${this.urlService.service("wallet")}/pockets`);return s}handleClickLink(r,s){const I=this.getHref(s);if(I.includes("account")&&"account"!==this.environmentService.serviceName||I.includes("wallet")&&"wallet"!==this.environmentService.serviceName||this.checkIfNotificationDescriptionContainHref(s))return;r.preventDefault();const F=I.replace(/https?:\/\/[^/]+/i,"");this.router.navigate([F])}checkIfNotificationDescriptionContainHref(r){const s=this.getNotificationDescription(r);return this.regexToDetectHtml.test(s)&&this.regexToDetectLinks.test(s)}getFirstHrefFromNotificationDescription(r){const s=this.getNotificationDescription(r),I=null==s?void 0:s.match(this.regexToDetectLinks);return I&&I.length>1?I[1]:""}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(C.TFo),e.Y36(w.sK),e.Y36(T.F0),e.Y36(C.v$D),e.Y36(C.iOJ),e.Y36(C.L$R),e.Y36(C.aVn))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],hostBindings:function(r,s){1&r&&e.NdJ("scroll",function(F){return s.onWindowScroll(F)},!1,e.Jf7)("scroll",function(F){return s.onWindowScroll(F)},!1,e.evT)},decls:10,vars:8,consts:[[1,"card-page-outer","card-page-no-padding"],["context","fullcomponent",1,"card-page-contents","wide-content",3,"bngxLoadingLayer"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],["class","empty",4,"ngIf"],["class","notifications-list",4,"ngIf"],[1,"empty"],["alt","",1,"no-data-image",3,"src"],[1,"notifications-list"],["class","notification-element",3,"ngClass",4,"ngFor","ngForOf"],[1,"notification-element",3,"ngClass"],["href","#",3,"title","href","target","click",4,"ngIf"],["href","#",3,"title",4,"ngIf"],["href","#",3,"title","href","target","click"],[1,"icon"],["aria-hidden","true",3,"ngClass"],[1,"list-contents","row"],[1,"col-9"],[1,"font-weight-bold",3,"title"],[1,"notification-description","font-weight-light",3,"innerHTML"],[1,"col-3","pl-0"],["class","date",3,"title",4,"ngIf"],[1,"date",3,"title"],["href","#",3,"title"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,Q,5,4,"div",5),e.YNc(8,R,2,1,"ul",6),e.ALo(9,"async"),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("bngxLoadingLayer",s.loading),e.xp6(3),e.Oqu(e.lcZ(5,4,"NOTIFICATIONS_PAGE.ALL_NOTIFICATIONS")),e.xp6(3),e.Q6J("ngIf",0===s.notifications.total),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,6,s.notificationsSubject$)))},directives:[C.gO3,D.O5,D.sg,D.mk],pipes:[w.X$,D.Ov,C.eGd],styles:['@charset "UTF-8";.empty[_ngcontent-%COMP%]{text-align:center}.empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:0;max-width:100%}.notifications-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%]{transition:all .3s ease}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;padding:20px 20px 20px 50px;color:#000;position:relative;text-decoration:none!important;cursor:pointer}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{background-color:#fafafa}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus-visible{z-index:1}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:40%;left:25px;transform:translate(-50%) translateY(-50%)}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .contents-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;height:20px}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .contents-col[_ngcontent-%COMP%]   .notification-description[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .contents-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:18px}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .date-col[_ngcontent-%COMP%]{display:flex;align-items:center}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .date-col[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#999;font-size:.8em;-webkit-hyphens:auto;hyphens:auto}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%]:hover{z-index:1!important}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] + .notification-element[_ngcontent-%COMP%]{border-top:1px solid #e8edf4!important}  .loading-fullcomponent{z-index:1!important}']}),a})();var N=f(28784),G=f(50253),ne=f(60116),te=f(68951),me=f(29527),ee=f(26540);let q=(()=>{class a{constructor(r){this.nzModalRef=r,this.imageChangedEvent="",this.croppedImage=""}fileChangeEvent(r){this.imageChangedEvent=r}imageCropped(r){this.croppedImage=r.base64,this.croppedEvent=r}crop(){this.imageCropper.crop(),this.nzModalRef.close(this.croppedEvent)}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ee.Lf))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,s){if(1&r&&e.Gf(A.a,5),2&r){let I;e.iGM(I=e.CRH())&&(s.imageCropper=I.first)}},decls:22,vars:14,consts:[["id","popup-camera-viewer"],[1,"modal-header","popup-header"],[1,"modal-title"],[1,"modal-body"],[1,"popup-contents"],["format","png",3,"imageFileChanged","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped"],[1,"cropper-toolbar","clearfix"],[1,"cropper-btn","float-right",3,"title","click"],["aria-hidden","true",1,"b2msf-reload"],[1,"modal-footer","d-block"],[1,"row"],[1,"col-12","col-md-4","offset-md-8"],[1,"text-right","py-2"],["autofocus","",1,"b2m-btn","btn-solid","my-0",3,"click"],["aria-hidden","true",1,"b2msf-check"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"image-cropper",5),e.NdJ("imageCropped",function(F){return s.imageCropped(F)}),e.qZA(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return s.imageCropper.rotateRight()}),e.ALo(10,"translate"),e._UZ(11,"i",8),e.qZA()()()(),e.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"button",13),e.NdJ("click",function(){return s.crop()}),e._UZ(17,"i",14),e._uU(18,"\xa0 "),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()()()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,8,"IMAGE_CROPPER_DIALOG.TITLE")),e.xp6(4),e.Q6J("imageFileChanged",s.image)("imageChangedEvent",s.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",400),e.xp6(2),e.s9C("title",e.lcZ(10,10,"IMAGE_CROPPER_DIALOG.BUTTON_ROTATE")),e.xp6(11),e.Oqu(e.lcZ(21,12,"BUTTONS.APPLY")))},directives:[A.a,C.Uqp],pipes:[w.X$],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#000;padding:0;height:100vh;max-height:calc(100vh - 4.6rem - 120px);position:relative}image-cropper[_ngcontent-%COMP%]{text-align:center;padding:0;width:auto;height:auto;max-width:80%;max-height:80%;min-width:60%;transform:translate(-50%) translateY(-50%);position:absolute;top:50%;left:50%}.cropper-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0;width:100%;padding:0 10px}.cropper-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;border:0;padding:0;background-color:transparent;color:#fff}"]}),a})();var U=f(90587),Ze=f(98977),Ne=f(71989),Et=f(80155);function bt(a,P){1&a&&(e.TgZ(0,"div",18),e._UZ(1,"i",19),e.qZA())}function Mt(a,P){1&a&&(e.TgZ(0,"div",20),e._UZ(1,"i",21),e.qZA())}function nt(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID_ALIAS")," "))}function It(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID_CHARACTERS")," "))}function Le(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")))}const we=function(a){return{value:a}};function it(a,P){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_LONGER",e.VKq(4,we,r.validations.minLength))," ")}}function xt(a,P){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",e.VKq(4,we,r.validations.maxLength))," ")}}const ot=function(a){return{submitted:a}};let rt=(()=>{class a{constructor(r,s,I){this.nzModalRef=r,this.formBuilder=s,this.accountService=I,this.userTyping=!1,this.validAlias=!0,this.submitting=!1,this.validations={pattern:new RegExp(/^[0-9a-z-_]*$/),minLength:2,maxLength:20}}ngOnInit(){this.aliasForm=this.formBuilder.group({alias:["",[U.kI.required,U.kI.pattern(this.validations.pattern),U.kI.minLength(this.validations.minLength),U.kI.maxLength(this.validations.maxLength)]]}),this.aliasForm.get("alias").valueChanges.pipe((0,Ze.x)(),(0,O.U)(r=>r.replace(/[^0-9a-zA-Z-_]+/g,"")),(0,b.b)(r=>{this.userTyping=!0,r&&this.aliasForm.get("alias").setValue(r.toLowerCase())}),(0,Ne.b)(1e3)).subscribe(r=>{this.userTyping=!1,r&&this.handleChangeUsername()})}handleChangeUsername(){this.aliasForm.invalid||(this.submitting=!0,this.accountService.checkAlias(this.aliasForm.value.alias).pipe((0,Et.P)()).subscribe(r=>{r.available||this.aliasForm.controls.alias.setErrors({existingAlias:!0}),this.submitting=!1},()=>{this.submitting=!1}))}onSubmit(){if(this.aliasForm.invalid)return;const r=this.aliasForm.value;this.submitting=!0,this.accountService.update(r).subscribe(s=>{this.submitting=!1,this.nzModalRef.close(s)},()=>{this.submitting=!1})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ee.Lf),e.Y36(U.qu),e.Y36(C.BRM))},a.\u0275cmp=e.Xpm({type:a,selectors:[["b2m-dialog-create-username"]],decls:32,vars:29,consts:[[1,"modal-header"],[1,"modal-title"],[1,"login-form",3,"formGroup","ngClass","ngSubmit"],["aliasFormTemplate","ngForm"],[1,"modal-body"],[1,"d-none"],["href","#","target","_blank","rel","noopener noreferrer","title",""],[1,"form-group"],[1,"input-group"],[1,"input-addon","left"],[1,"b2msf-at"],["type","text","autofocus","","name","alias","id","alias","formControlName","alias",3,"placeholder","maxlength"],["class","input-addon right valid",4,"ngIf"],["class","input-addon right not-valid","style","display: block",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"modal-footer"],[1,"b2m-btn","btn-solid",3,"bngxLoadingLayer","disabled","click"],[1,"input-addon","right","valid"],[1,"b2msf-check"],[1,"input-addon","right","not-valid",2,"display","block"],[1,"b2msf-times"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(6,"div",4)(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",5)(11,"a",6),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"fieldset",7)(15,"div",8)(16,"div",9),e._UZ(17,"i",10),e.qZA(),e._UZ(18,"input",11),e.ALo(19,"translate"),e.YNc(20,bt,2,0,"div",12),e.YNc(21,Mt,2,0,"div",13),e.qZA(),e.TgZ(22,"div",14),e.YNc(23,nt,3,3,"div",15),e.YNc(24,It,3,3,"div",15),e.YNc(25,Le,3,3,"div",15),e.YNc(26,it,3,6,"div",15),e.YNc(27,xt,3,6,"div",15),e.qZA()()(),e.TgZ(28,"div",16)(29,"button",17),e.NdJ("click",function(){return s.onSubmit()}),e._uU(30),e.ALo(31,"translate"),e.qZA()()()),2&r){const I=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,17,"CREATE_USERNAME_DIALOG.TITLE")),e.xp6(2),e.Q6J("formGroup",s.aliasForm)("ngClass",e.VKq(27,ot,I.submitted)),e.xp6(4),e.Oqu(e.lcZ(9,19,"CREATE_USERNAME_DIALOG.USERNAME_HAS_TO_BE_UNIQUE")),e.xp6(4),e.Oqu(e.lcZ(13,21,"BUTTONS.MORE_INFO")),e.xp6(6),e.Q6J("placeholder",e.lcZ(19,23,"CREATE_USERNAME_DIALOG.USERNAME_LABEL"))("maxlength",s.validations.maxLength),e.xp6(2),e.Q6J("ngIf",s.aliasForm.valid&&!(null!=s.aliasForm.get("alias").errors&&s.aliasForm.get("alias").errors.existingAlias)&&!s.userTyping&&!s.submitting),e.xp6(1),e.Q6J("ngIf",(null==s.aliasForm.get("alias").errors?null:s.aliasForm.get("alias").errors.existingAlias)&&!s.userTyping&&!s.submitting),e.xp6(2),e.Q6J("ngIf",null==s.aliasForm.get("alias").errors?null:s.aliasForm.get("alias").errors.existingAlias),e.xp6(1),e.Q6J("ngIf",null==s.aliasForm.get("alias").errors?null:s.aliasForm.get("alias").errors.pattern),e.xp6(1),e.Q6J("ngIf",null==s.aliasForm.get("alias").errors?null:s.aliasForm.get("alias").errors.required),e.xp6(1),e.Q6J("ngIf",null==s.aliasForm.get("alias").errors?null:s.aliasForm.get("alias").errors.minlength),e.xp6(1),e.Q6J("ngIf",null==s.aliasForm.get("alias").errors?null:s.aliasForm.get("alias").errors.maxlength),e.xp6(2),e.Q6J("bngxLoadingLayer",s.submitting)("disabled",s.submitting),e.xp6(1),e.hij(" ",e.lcZ(31,25,"BUTTONS.CREATE")," ")}},directives:[U._Y,U.JL,U.sg,D.mk,U.Fj,C.Uqp,U.JJ,U.u,U.nD,D.O5,C.gO3],pipes:[w.X$],styles:["fieldset[_ngcontent-%COMP%]{margin-top:30px}.valid[_ngcontent-%COMP%]{color:#28af12}.not-valid[_ngcontent-%COMP%]{color:#dc0006}"]}),a})();var Ve=f(38531);const St=["wizard"];function Zt(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function Pe(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Lt(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.CURRENT_SAME_EMAIL")," "))}const Ue=function(a){return{value:a}};function at(a,P){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_LONGER",e.VKq(4,Ue,r.validations.minLength))," ")}}function Oe(a,P){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",e.VKq(4,Ue,r.validations.maxLength))," ")}}const K=function(){return{value:"Email"}};function Rt(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.ALREADY_EXISTS",e.DdM(4,K))," "))}function st(a,P){1&a&&e._UZ(0,"i",29)}function yt(a,P){1&a&&e._UZ(0,"i",30)}function ze(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}function Ee(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Dt(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.WRONG_PASSWORD")," "))}const be=function(a){return{submitted:a}};let Fe=(()=>{class a{constructor(r,s,I,F){this.nzModalRef=r,this.formBuilder=s,this.accountService=I,this.currentUserStore=F,this.validations={minLength:2,maxLength:50},this.emailAlreadyExists=!1,this.showTooManyRquestsWarning=!1}ngOnInit(){this.account=this.currentUserStore.getCurrentUser().account,this.emailForm=this.formBuilder.group({email:["",[U.kI.required,U.kI.minLength(this.validations.minLength),U.kI.maxLength(this.validations.maxLength),U.kI.pattern(/[^ @]*@[^ @]*/)]],password:["",[U.kI.required,U.kI.minLength(6),U.kI.pattern(/^\S*$/)]]})}onSubmit(){this.emailForm.invalid||this.accountService.verifyEmail(this.emailForm.value).subscribe(()=>{this.wizard.goToNextStep(),this.emailForm.controls.email.setErrors({alreadyExists:null}),this.emailForm.controls.password.setErrors({wrongPassword:null}),this.emailForm.updateValueAndValidity()},s=>{var I;if(409===s.error.statusCode&&this.emailForm.controls.email.setErrors({alreadyExists:!0}),401===s.error.statusCode&&this.emailForm.controls.password.setErrors({wrongPassword:!0}),412===s.error.statusCode&&this.emailForm.controls.email.setErrors({sameEmail:!0}),null===(I=null==s?void 0:s.error)||void 0===I?void 0:I.includes("rateLimitRemaining")){const F=JSON.parse(s.error);this.remainingMinutes=F.rateLimitRemaining,this.showTooManyRquestsWarning=!0}})}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ee.Lf),e.Y36(U.qu),e.Y36(C.BRM),e.Y36(C.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["b2m-dialog-change-email"]],viewQuery:function(r,s){if(1&r&&e.Gf(St,5),2&r){let I;e.iGM(I=e.CRH())&&(s.wizard=I.first)}},decls:84,vars:60,consts:[[1,"modal-header"],[1,"modal-title"],["novalidate","",1,"login-form","needs-validation",3,"formGroup","ngClass","ngSubmit"],["emailFormTemplate","ngForm"],[1,"aw-wizard-hide-steps"],["wizard",""],[1,"modal-body"],[1,"form-group"],[1,"d-none"],["href","#","target","_blank","rel","noopener noreferrer","title",""],[1,"form-group","input-field","mt-4"],["for","email"],["autofocus","","autocomplete","email","name","email","id","email","formControlName","email","type","email",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-group","input-field"],["for","password"],[1,"input-group"],["name","password","autocomplete","current-password","id","password","formControlName","password",1,"form-control",3,"type","placeholder"],[1,"input-addon","right"],["type","button",3,"click"],["class","b2msf-eye-slash",4,"ngIf"],["class","b2msf-eye",4,"ngIf"],[3,"remainingMinutes","showTooManyRequestsWarning"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","mr-0",3,"disabled"],["href","#","awPreviousStep","",3,"click"],[1,"action-box"],[1,"b2m-btn","btn-solid","mr-0",3,"click"],[1,"b2msf-eye-slash"],[1,"b2msf-eye"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(6,"aw-wizard",4,5)(8,"aw-wizard-step")(9,"div",6)(10,"fieldset",7)(11,"p")(12,"span"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._uU(15,"\xa0"),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e._uU(18,". "),e.qZA(),e.TgZ(19,"p")(20,"span"),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"p",8)(24,"a",9),e._uU(25),e.ALo(26,"translate"),e.qZA()()(),e.TgZ(27,"fieldset",10)(28,"label",11),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",12),e.ALo(32,"translate"),e.TgZ(33,"div",13),e.YNc(34,Zt,3,3,"div",14),e.YNc(35,Pe,3,3,"div",14),e.YNc(36,Lt,3,3,"div",14),e.YNc(37,at,3,6,"div",14),e.YNc(38,Oe,3,6,"div",14),e.YNc(39,Rt,3,5,"div",14),e.qZA()(),e.TgZ(40,"fieldset",15)(41,"label",16),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",17),e._UZ(45,"input",18),e.ALo(46,"translate"),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return s.togglePasswordVisible()}),e.YNc(49,st,1,0,"i",21),e.YNc(50,yt,1,0,"i",22),e.qZA()()(),e.TgZ(51,"div",13),e.YNc(52,ze,3,3,"div",14),e.YNc(53,Ee,3,3,"div",14),e.YNc(54,Dt,3,3,"div",14),e.qZA()()(),e._UZ(55,"bngx-too-many-requests-warning",23),e.TgZ(56,"div",24)(57,"button",25),e._uU(58),e.ALo(59,"translate"),e.qZA()()(),e.TgZ(60,"aw-wizard-step")(61,"div",6)(62,"p")(63,"span"),e._uU(64),e.ALo(65,"translate"),e.qZA(),e._uU(66,"\xa0"),e.TgZ(67,"strong"),e._uU(68),e.qZA(),e._uU(69,". "),e.qZA(),e.TgZ(70,"p")(71,"span"),e._uU(72),e.ALo(73,"translate"),e.qZA(),e._uU(74,"\xa0"),e.TgZ(75,"a",26),e.NdJ("click",function(){return s.onSubmit()}),e._uU(76),e.ALo(77,"translate"),e.qZA(),e._uU(78,". "),e.qZA(),e._UZ(79,"div",27),e.qZA(),e.TgZ(80,"div",24)(81,"button",28),e.NdJ("click",function(){return s.nzModalRef.close()}),e._uU(82),e.ALo(83,"translate"),e.qZA()()()()()),2&r){const I=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,32,"CHANGE_EMAIL_DIALOG.MODAL_TITLE")),e.xp6(2),e.Q6J("formGroup",s.emailForm)("ngClass",e.VKq(58,be,I.submitted)),e.xp6(9),e.Oqu(e.lcZ(14,34,"CHANGE_EMAIL_DIALOG.CURRENT_EMAIL_ADDRESS")),e.xp6(4),e.Oqu(null==s.account?null:s.account.email),e.xp6(4),e.Oqu(e.lcZ(22,36,"CHANGE_EMAIL_DIALOG.TYPE_YOUR_EMAIL")),e.xp6(4),e.Oqu(e.lcZ(26,38,"CHANGE_EMAIL_DIALOG.MORE_INFO_BUTTON")),e.xp6(4),e.Oqu(e.lcZ(30,40,"CHANGE_EMAIL_DIALOG.EMAIL_LABEL")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,42,"CHANGE_EMAIL_DIALOG.EMAIL_LABEL")),e.xp6(3),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.email||null==s.emailForm.controls.email.errors?null:s.emailForm.controls.email.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.email||null==s.emailForm.controls.email.errors?null:s.emailForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.email||null==s.emailForm.controls.email.errors?null:s.emailForm.controls.email.errors.sameEmail),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.email||null==s.emailForm.controls.email.errors?null:s.emailForm.controls.email.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.email||null==s.emailForm.controls.email.errors?null:s.emailForm.controls.email.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.email||null==s.emailForm.controls.email.errors?null:s.emailForm.controls.email.errors.alreadyExists),e.xp6(3),e.Oqu(e.lcZ(43,44,"CHANGE_EMAIL_DIALOG.PASSWORD_LABEL")),e.xp6(3),e.Q6J("type",s.passwordVisible?"text":"password")("placeholder",e.lcZ(46,46,"CHANGE_EMAIL_DIALOG.PASSWORD_LABEL")),e.xp6(4),e.Q6J("ngIf",s.passwordVisible),e.xp6(1),e.Q6J("ngIf",!s.passwordVisible),e.xp6(2),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.password||null==s.emailForm.controls.password.errors?null:s.emailForm.controls.password.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.password||null==s.emailForm.controls.password.errors?null:s.emailForm.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.emailForm||null==s.emailForm.controls||null==s.emailForm.controls.password||null==s.emailForm.controls.password.errors?null:s.emailForm.controls.password.errors.wrongPassword),e.xp6(1),e.Q6J("remainingMinutes",s.remainingMinutes)("showTooManyRequestsWarning",s.showTooManyRquestsWarning),e.xp6(2),e.Q6J("disabled",s.showTooManyRquestsWarning),e.xp6(1),e.hij(" ",e.lcZ(59,48,"CHANGE_EMAIL_DIALOG.CHANGE_BUTTON")," "),e.xp6(6),e.Oqu(e.lcZ(65,50,"CHANGE_EMAIL_DIALOG.WE_HAVE_SENT_YOU_VERIFICATION_EMAIL")),e.xp6(4),e.Oqu(s.emailForm.value.email),e.xp6(4),e.Oqu(e.lcZ(73,52,"CHANGE_EMAIL_DIALOG.DIDNT_RECEIVED_ANYTHING")),e.xp6(4),e.Oqu(e.lcZ(77,54,"CHANGE_EMAIL_DIALOG.SEND_VERIFICATION_AGAIN")),e.xp6(6),e.hij(" ",e.lcZ(83,56,"CHANGE_EMAIL_DIALOG.CLOSE_BUTTON")," ")}},directives:[U._Y,U.JL,U.sg,D.mk,Ve.Pl,Ve.GZ,U.Fj,C.Uqp,U.JJ,U.u,D.O5,C.tUR,Ve.ei],pipes:[w.X$],encapsulation:2}),a})();function Nt(a,P){1&a&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"PROFILE_GENERAL_PAGE.INVALID_PICTURE")," "))}function lt(a,P){1&a&&e._UZ(0,"div",35)}function ct(a,P){if(1&a&&e._UZ(0,"div",36),2&a){const r=e.oxw();e.Udp("background-image","url("+(null==r.account||null==r.account.profile||null==r.account.profile.avatar?null:r.account.profile.avatar.md)+")")}}function wt(a,P){1&a&&e._UZ(0,"div",36)}function Ut(a,P){1&a&&(e.TgZ(0,"div",37)(1,"button",38),e._UZ(2,"i",39),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA()()),2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.LINK_EMAIL")))}function Ft(a,P){1&a&&e._UZ(0,"i",47)}function qt(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",41),e._UZ(1,"i",39),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e.YNc(6,Ft,1,0,"i",44),e._uU(7),e.qZA(),e.TgZ(8,"span",45)(9,"button",46),e.NdJ("click",function(){return e.CHM(r),e.oxw().openChangeEmailDialog()}),e._UZ(10,"i",18),e.qZA()()()}if(2&a){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"FORM.EMAIL_INPUT.LABEL")),e.xp6(3),e.Q6J("ngIf",r.emailVerified),e.xp6(1),e.hij(" ",null==r.account?null:r.account.email," ")}}function kt(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",37)(1,"button",48),e.NdJ("click",function(){return e.CHM(r),e.oxw().openCreateUsernameDialog()}),e._UZ(2,"i",49),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA()()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.CREATE_USERNAME")))}function Me(a,P){if(1&a&&(e.TgZ(0,"div",41),e._UZ(1,"i",50),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e._uU(6),e.qZA(),e.TgZ(7,"span",45)(8,"button",51),e._UZ(9,"i",52),e.qZA()()()),2&a){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"FORM.USERNAME_INPUT.LABEL")),e.xp6(3),e.Oqu(null==r.account?null:r.account.alias)}}function dt(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",37)(1,"button",48),e.NdJ("click",function(){return e.CHM(r),e.oxw().openPhoneNumberDialog()}),e._UZ(2,"i",53),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA()()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.LINK_PHONE")))}function gt(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",41),e._UZ(1,"i",53),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e._uU(6),e.qZA(),e.TgZ(7,"span",45)(8,"button",46),e.NdJ("click",function(){return e.CHM(r),e.oxw().openPhoneNumberDialog()}),e._UZ(9,"i",18),e.qZA()()()}if(2&a){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"FORM.PHONE_NUMBER_INPUT.LABEL")),e.xp6(3),e.AsE("","+"+(null==r.account||null==r.account.phone?null:r.account.phone.countryCode)," ",null==r.account||null==r.account.phone?null:r.account.phone.number,"")}}function Gt(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",37)(1,"button",48),e.NdJ("click",function(){return e.CHM(r),e.oxw().openAddReferrerDialog()}),e._UZ(2,"i",54),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA()()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.LINK_REFERRAL")))}function Yt(a,P){if(1&a&&(e.TgZ(0,"div",41),e._UZ(1,"i",54),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e._uU(6),e.qZA(),e.TgZ(7,"span",45)(8,"button",51),e._UZ(9,"i",52),e.qZA()()()),2&a){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"PROFILE_GENERAL_PAGE.LINKED_REFERRAL")),e.xp6(3),e.Oqu(r.referralCode)}}const Jt=function(a,P){return{empty:a,loading:P}},Qt=function(a){return{backgroundImage:a}},Vt=function(a,P,r){return{loading:a,idle:P,completed:r}};let pt=(()=>{class a{constructor(r,s,I,F,V,ce,Ce,Fn,Xn){this.modalService=r,this.currentUserStore=s,this.accountService=I,this.notificationService=F,this.translate=V,this.authService=ce,this.urlService=Ce,this.affiliatesService=Fn,this.activateRoute=Xn,this.dateUtils=C.EDk,this.userImage="",this.loadingUserImage=!1,this.loadingPercentage=0,this.acceptImageTypes=".png,.jpg,.jpeg",this.emailVerified=!0,this.destroy$=new G.x}ngOnInit(){this.activateRoute.queryParamMap.pipe((0,ne.h)(r=>Boolean(r.get("modal"))),(0,O.U)(r=>({modal:r.get("modal"),phoneNumber:r.get("phoneNumber")}))).subscribe(({modal:r,phoneNumber:s})=>{"phone"===r&&this.modalService.open(C.RK9,{nzComponentParams:{phoneNumber:s}})}),this.authService.tokenSubject.pipe((0,te.R)(this.destroy$)).subscribe(()=>{this.emailVerified=this.authService.isVerified([C.Dzy.email])}),this.currentUserStore.userSubject.subscribe(r=>{this.account=r.account,this.registrationDate=r.account.registrationDate}),this.affiliatesService.getAffiliationSerial().subscribe(r=>{r.serial.length&&(this.userIsReferred=!0,this.referralCode=r.serial)},r=>{404===r.status&&(this.userIsReferred=!1)}),this.activateRoute.snapshot.queryParams.showonboardingdialog&&setTimeout(()=>this.modalService.open(C.qt9))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}openCreateUsernameDialog(){this.modalService.open(rt).afterClose.subscribe(s=>{s&&this.refreshCurrentStore()})}refreshCurrentStore(){this.currentUserStore.refresh().subscribe(()=>{})}openPhoneNumberDialog(){this.modalService.open(C.RK9).afterClose.subscribe(s=>{s&&this.refreshCurrentStore()})}openChangeEmailDialog(){this.modalService.open(Fe).afterClose.subscribe(s=>{s&&this.refreshCurrentStore()})}openAddReferrerDialog(){this.modalService.open(C.aIc).afterClose.subscribe(s=>{s&&(this.userIsReferred=!0,this.referralCode=s)})}handleClickImageInput(r){r.target.value=""}onFileSelected(r){const s=r.target.files[0],I=new RegExp(/\.png|\.jpg|\.jpeg$/),F=s.name.toLowerCase();if(this.maxSizeError=!1,F.match(I)){const V=new FormData(r.target.form);this.modalService.open(q,{size:"lg",nzComponentParams:{image:s}}).afterClose.subscribe(Ce=>{if(Ce){this.uploadImageCompleted=!1,this.loadingUserImage=!0,this.loadingPercentage=0;const Fn=setInterval(()=>{this.loadingPercentage<90&&(this.loadingPercentage+=10)},250),Xn=(new N.LE).set("height",`${Ce.height}`).set("width",`${Ce.width}`).set("offsetLeft","0").set("offsetTop","0");V.append("image",Ce.file),this.accountService.uploadAvatar(V,Xn).subscribe(()=>{this.authService.setImageSessionCookie(),this.refreshCurrentStore(),clearInterval(Fn),this.loadingPercentage=100,setTimeout(()=>{this.loadingUserImage=!1,this.uploadImageCompleted=!0,this.notificationService.success(this.translate.instant("PROFILE_GENERAL_PAGE.SUCCESSFULLY_UPLOADED"))},100)},()=>{this.notificationService.error(this.translate.instant("PROFILE_GENERAL_PAGE.UPLOAD_FAILED")),this.loadingUserImage=!1})}})}else this.notificationService.error(this.translate.instant("PROFILE_GENERAL_PAGE.INVALID_FILE"))}canLinkToReferral(){if(!this.registrationDate)return!1;const r=this.dateUtils.toDateTime(new Date),s=this.dateUtils.toDateTime(this.registrationDate);return me.Xp.fromDateTimes(s,r).toDuration("days").toObject().days<7}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(C.Z7U),e.Y36(C.Dk$),e.Y36(C.BRM),e.Y36(C.TFo),e.Y36(w.sK),e.Y36(C.e80),e.Y36(C.iOJ),e.Y36(C.Oiz),e.Y36(T.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-general"]],decls:45,vars:34,consts:[[1,"profile-general-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","graphic-block","position-relative"],[1,"profile-picture-outer",3,"ngClass","ngStyle"],[1,"profile-picture-height"],["class","profile-picture-vignette",4,"ngIf"],["class","profile-picture-inner",3,"background-image",4,"ngIf"],["class","profile-picture-inner",4,"ngIf"],["enctype","multipart/form-data"],["for","image",1,"upload-button"],[1,"profile-picture-edit"],["id","image","type","file",1,"d-none",3,"accept","click","change"],[1,"b2msf-pencil"],[1,"status",3,"ngClass"],[1,"loading-bar","clearfix"],[1,"percent"],[1,"bar"],[1,"fill"],[1,"completed"],[1,"b2msf-check-circle-solid"],[1,"col-12","col-sm-8","col-md-9","mt-4","mt-sm-0","content-block"],[1,"profile-form"],[1,"profile-form-row","email"],["class","no-data",4,"ngIf"],["class","data",4,"ngIf"],[1,"profile-form-row","username"],[1,"profile-form-row","tel"],[1,"profile-form-row","referral"],[1,"alert","alert-danger"],[1,"profile-picture-vignette"],[1,"profile-picture-inner"],[1,"no-data"],[1,"btn-link","clearfix"],[1,"b2msf-message","icon"],[1,"b2msf-chevron-right","go-button","float-right"],[1,"data"],[1,"first"],[1,"second"],["class","b2msf-check-circle-solid mr-1",4,"ngIf"],[1,"third"],[1,"edit-button",3,"click"],[1,"b2msf-check-circle-solid","mr-1"],[1,"btn-link","clearfix",3,"click"],[1,"b2msf-user-plus","icon"],[1,"b2msf-user","icon"],["disabled","",1,"edit-button"],[1,"b2msf-pencil-slash"],[1,"b2msf-phone","icon"],[1,"b2msf-smile","icon"]],template:function(r,s){1&r&&(e.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,Nt,3,3,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10),e.YNc(13,lt,1,0,"div",11),e.YNc(14,ct,1,2,"div",12),e.YNc(15,wt,1,0,"div",13),e.TgZ(16,"form",14)(17,"label",15)(18,"div",16)(19,"input",17),e.NdJ("click",function(F){return s.handleClickImageInput(F)})("change",function(F){return s.onFileSelected(F)}),e.qZA(),e._UZ(20,"i",18),e.qZA()()()()(),e.TgZ(21,"div",19)(22,"div",20)(23,"span",21),e._uU(24),e.qZA(),e.TgZ(25,"div",22),e._UZ(26,"div",23),e.qZA()(),e.TgZ(27,"div",24),e._UZ(28,"i",25),e._uU(29),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"div",26)(32,"div",27)(33,"div",28),e.YNc(34,Ut,7,3,"div",29),e.YNc(35,qt,11,5,"div",30),e.qZA(),e.TgZ(36,"div",31),e.YNc(37,kt,7,3,"div",29),e.YNc(38,Me,10,4,"div",30),e.qZA(),e.TgZ(39,"div",32),e.YNc(40,dt,7,3,"div",29),e.YNc(41,gt,10,5,"div",30),e.qZA(),e.TgZ(42,"div",33),e.YNc(43,Gt,7,3,"div",29),e.YNc(44,Yt,10,4,"div",30),e.qZA()()()()()()()()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,21,"PROFILE_GENERAL_PAGE.TITLE")),e.xp6(3),e.Q6J("ngIf",s.maxSizeError),e.xp6(3),e.Q6J("ngClass",e.WLB(25,Jt,!(null!=s.account&&null!=s.account.profile&&null!=s.account.profile.avatar&&s.account.profile.avatar.md),s.loadingUserImage))("ngStyle",e.VKq(28,Qt,null!=s.account&&null!=s.account.profile&&null!=s.account.profile.avatar&&s.account.profile.avatar.md?"":"url("+s.urlService.getAssetsUrl()+"/images/no-profile-picture.svg)")),e.xp6(2),e.Q6J("ngIf",null==s.account||null==s.account.profile||null==s.account.profile.avatar?null:s.account.profile.avatar.md),e.xp6(1),e.Q6J("ngIf",null==s.account||null==s.account.profile?null:s.account.profile.avatar),e.xp6(1),e.Q6J("ngIf",!(null!=s.account&&null!=s.account.profile&&s.account.profile.avatar)),e.xp6(4),e.Q6J("accept",s.acceptImageTypes),e.xp6(2),e.Q6J("ngClass",e.kEZ(30,Vt,s.loadingUserImage,!s.loadingUserImage,s.uploadImageCompleted)),e.xp6(3),e.hij("",s.loadingPercentage,"%"),e.xp6(2),e.Udp("width",s.loadingPercentage+"%"),e.xp6(3),e.hij(" ",e.lcZ(30,23,"PROFILE_GENERAL_PAGE.COMPLETED")," "),e.xp6(5),e.Q6J("ngIf",!(null!=s.account&&s.account.email)),e.xp6(1),e.Q6J("ngIf",null==s.account?null:s.account.email),e.xp6(2),e.Q6J("ngIf",!(null!=s.account&&s.account.alias)),e.xp6(1),e.Q6J("ngIf",null==s.account?null:s.account.alias),e.xp6(2),e.Q6J("ngIf",!(null!=s.account&&null!=s.account.phone&&s.account.phone.number)),e.xp6(1),e.Q6J("ngIf",null==s.account||null==s.account.phone?null:s.account.phone.number),e.xp6(2),e.Q6J("ngIf",!s.userIsReferred&&s.canLinkToReferral()),e.xp6(1),e.Q6J("ngIf",s.userIsReferred))},directives:[D.O5,D.mk,D.PC,U._Y,U.JL,U.F],pipes:[w.X$],styles:['@charset "UTF-8";.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]{max-width:200px;height:auto;background-size:cover;background-position:center;position:relative}@media (max-width: 768px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]{height:0;padding-bottom:100%;position:relative;z-index:0}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-vignette[_ngcontent-%COMP%], .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;background-size:cover;background-position:center;opacity:1;transition:all ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-vignette[_ngcontent-%COMP%]{background-image:url(profile-picture-vignette.604aed276b88e1fc.png)}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-inner[_ngcontent-%COMP%]{z-index:1}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]{cursor:pointer;position:absolute;width:50px;height:50px;background-color:#fff;box-shadow:0 0 13px #0003;border-radius:50%;right:0;bottom:0;margin-bottom:-15px;margin-right:-15px;transition:.3s;line-height:50px;z-index:3;text-decoration:none;text-align:center;font-size:17px}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]   .profile-picture-edit[_ngcontent-%COMP%]{width:100%;color:#044e97;transition:all .3s ease}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]   .profile-picture-edit[_ngcontent-%COMP%]:hover, .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]   .profile-picture-edit[_ngcontent-%COMP%]:focus{color:#0f335b}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer.empty[_ngcontent-%COMP%]   .profile-picture-vignette[_ngcontent-%COMP%], .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer.empty[_ngcontent-%COMP%]   .profile-picture-inner[_ngcontent-%COMP%]{opacity:0}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-left:auto;margin-right:auto;top:15px;position:relative}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.idle[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 575px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{top:0;margin-top:15px;padding-bottom:30px}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;text-align:center;opacity:0;transition:all ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:20px;color:#099c14;transform:scale(0);transition:inherit}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0;opacity:0;transition:all ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{color:#044e97;font-size:10px;font-weight:700;width:30px;display:block;float:left}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:calc(100% - 35px);height:4px;display:block;float:left;margin-top:9px;background-color:#0000001a;border-radius:2px;position:relative}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#044e97}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.loading\\a0[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]{opacity:1}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.loading\\a0[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{transition:width ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{opacity:1}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1)}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]{width:100%;margin-top:-10px}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]{margin-top:0;padding:0}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]{padding:10px 20px}@media (max-width: 768px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]{padding:15px 0}}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]{padding:0}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%] + .profile-form-row[_ngcontent-%COMP%]{border-top:1px solid #eaeff4}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{padding:10px}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{width:10%}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#044e97}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;width:100%;text-align:left;line-height:30px;height:30px}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline-block;line-height:30px;height:30px;vertical-align:middle}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .go-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:10px}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .go-button[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{padding:10px 40px;position:relative}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline-block;line-height:30px;height:30px;vertical-align:middle}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;width:40px;text-align:center}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{color:#000;width:35%;font-weight:700}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{width:100%;display:block}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{color:#7a7a7a;width:45%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{width:100%;display:block}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   .b2msf-check-circle-fill[_ngcontent-%COMP%]{color:#36a34d}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;width:30px;text-align:center;line-height:20px;transform:translateY(-50%)}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:block;text-decoration:none;padding:0;width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;transition:all .3s ease;margin-left:auto}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:block;margin:0}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#e8edf4;color:#044e97}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active{color:#0f335b}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:inherit;display:block}']}),a})(),ut=(()=>{class a{constructor(r,s,I,F){this.router=r,this.activatedRoute=s,this.notificationWebsocketService=I,this.accountService=F,this.destroy$=new G.x}ngOnInit(){const{status:r,disableProcess:s}=this.activatedRoute.snapshot.data.identityStatus,I=this.activatedRoute.snapshot.data.accountCompleted;this.navigateToCorrectPage(r,s,I),this.notificationWebsocketService.subject.pipe((0,te.R)(this.destroy$)).subscribe(F=>{F.type.includes("identity")&&this.accountService.getIdentityStatus().subscribe(V=>{this.navigateToCorrectPage(null==V?void 0:V.status,null==V?void 0:V.disableProcess,I)})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}navigateToCorrectPage(r,s,I){let F="/profile/identity/resume";F=[C.olx.error,C.olx.pending,C.olx.verified].includes(r)||I||s?"/profile/identity/resume":"/profile/identity/new",this.router.navigate([F],{replaceUrl:!0})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(T.F0),e.Y36(T.gz),e.Y36(C.aVn),e.Y36(C.BRM))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-identity"]],decls:2,vars:0,consts:[["id","content"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},directives:[T.lC],styles:["@media (min-width: 768px){.card-tab.information .card-page-inner,.card-tab.identity .card-page-inner{padding-top:70px;padding-bottom:70px}}@media (max-width: 576px){.card-tab.proofs{text-align:center}.card-tab.identity .card-page-title-box,.card-tab.proofs .card-page-title-box{padding-left:60px}}#identity-steps{width:100%;margin-bottom:60px;text-align:justify;display:flex;flex-wrap:wrap;justify-content:center}#identity-steps .identity-step{text-align:center;position:relative;z-index:2;transition:all ease .3s;border:0}#identity-steps .step-icon{width:60px;height:60px;background:#f3f5f9;border:1px solid #fff;color:#044e97;font-size:20px;line-height:58px;border-radius:50%;transition:all ease .3s;margin:0 auto 10px}#identity-steps .step-icon i.b2msf-id-document{position:relative;top:2px}#identity-steps .identity-step:hover .step-icon{border-color:#044e97}#identity-steps .identity-step.completed .step-icon,#identity-steps .identity-step.active .step-icon{background:#fff;border-color:#044e97}#identity-steps .step-title{color:#044e97;font-weight:700;margin-bottom:0;opacity:.5;transition:all ease .3s}#identity-steps .identity-step:hover .step-title,#identity-steps .identity-step.active .step-title,#identity-steps .identity-step.completed .step-title{opacity:1}#identity-steps .path{color:#b9cde2;display:flex;flex-direction:row;align-items:center}#identity-steps .path.completed{color:#044e97}#identity-steps{box-shadow:0 0 0 1px #c7d6e4}#identity-steps button{position:relative;font-weight:700;color:#044e97;opacity:.5;margin:0 15px;padding:20px 40px}#identity-steps button.active{opacity:1}@media (max-width: 767px){#identity-steps button{padding:20px 25px}}@media (max-width: 575px){#identity-steps button{padding:20px 0;margin:0 5px}}@media (max-width: 575px){#identity-steps{margin-bottom:0}}.card-tab:not(:first-child){display:none}.information-tab{display:none}.proof-hall-header{margin-bottom:30px}.proof-hall-header .title{line-height:48px}.proof-tab.hall .user-picture-box+.b2m-btn{max-width:240px}.user-picture-box{width:100%;max-width:240px;margin:0 auto}.user-picture{width:100%;padding-bottom:80%;background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#d3dce7;transition:all ease .3s}.proof-tab.hall ul{margin-top:30px;list-style:none;padding-left:0}.proof-tab.hall li{line-height:36px}.proof-tab.hall .list-icon{color:#36a34d;margin-right:10px}.upload-method{width:150px;height:150px;border:1px solid #e8edf4;border-radius:5px;text-align:center;position:relative;padding-bottom:80px;display:inline-block;vertical-align:middle;cursor:pointer;transition:all ease .3s}.upload-method+.upload-method{margin-left:15px}.upload-method:hover{border:1px solid #044e97!important}.upload-method .method-icon{line-height:75px;font-size:40px;color:#044e97}.upload-method .method-title{margin-bottom:0;position:absolute;bottom:0;left:0;width:100%;height:70px;line-height:20px;padding:15px 0;background-color:#e8edf4}.upload-method:hover .method-title{background-color:#044e97;color:#fff}@media (min-width: 768px){.upload-methods{display:flex;flex-direction:row;justify-content:center}}@media (max-width: 767px){.help-buttons-box{margin-bottom:15px}.upload-method{width:100%;height:auto;padding:0 0 0 60px;position:relative;margin-bottom:15px}.upload-method .method-icon{position:absolute;top:0;left:0;width:60px;height:60px;line-height:60px;text-align:center}.upload-method .method-title{line-height:20px;position:static;height:auto;padding:20px 0}}.proof-tab.qr .text-box{width:100%;max-width:460px;margin:0 auto 30px}.qr-code-outer{position:relative;width:100%;max-width:300px;padding:40px;margin:50px auto}.qr-code-outer .corner{position:absolute;width:40px;height:40px}.corner.top{top:0;border-top:2px solid #000}.corner.left{left:0;border-left:2px solid #000}.corner.bottom{bottom:0;border-bottom:2px solid #000}.corner.right{right:0;border-right:2px solid #000}.qr-code-outer img{width:100%}.img-top{display:block}.img-bottom{display:none}@media (min-width: 576px) and (max-width: 767px){.step-requeriments{flex:0 0 100%;max-width:100%}}@media (max-width: 767px){.img-top{display:none}.img-bottom{display:block}}aw-wizard .wizard-steps.horizontal{flex-direction:column!important}\n"],encapsulation:2}),a})(),_t=(()=>{class a{constructor(r){this.router=r}navigateToOnboarding(){this.router.navigate(["/onboarding"],{replaceUrl:!0})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(T.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],decls:18,vars:12,consts:[[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"title"],["alt","","src","assets/images/onboarding/4_onboarding_id.svg",1,"id-image"],[1,"mb-3"],[3,"click"],[1,"b2m-btn","btn-solid"]],template:function(r,s){1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h4",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"img",4),e.TgZ(8,"p",5),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",5),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"a",6),e.NdJ("click",function(){return s.navigateToOnboarding()}),e.TgZ(15,"button",7),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()()()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,4,"PROFILE_IDENTITY_NEW_PAGE.TITLE")),e.xp6(4),e.Oqu(e.lcZ(10,6,"PROFILE_IDENTITY_NEW_PAGE.INFO_LABEL")),e.xp6(3),e.Oqu(e.lcZ(13,8,"PROFILE_IDENTITY_NEW_PAGE.VALIDATE_EASY_LABEL")),e.xp6(4),e.Oqu(e.lcZ(17,10,"PROFILE_IDENTITY_NEW_PAGE.BUTTON_LABEL")))},pipes:[w.X$],styles:[".card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]{max-width:490px;border-radius:8px}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{text-align:center}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ea3733}.card-page-outer[_ngcontent-%COMP%]   .card-page-contents[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{text-transform:none}"]}),a})();var Ie=f(84083),zt=f(53158),Bt=f(38571),ue=f(88660);function qe(a,P){if(1&a&&(e.TgZ(0,"div")(1,"fieldset",2)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",6),e.ALo(6,"translate"),e.qZA()()),2&a){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.SURNAME_LABEL")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,5,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.SURNAME_PLACEHOLDER")),e.Q6J("ngModel",null==r.userInfo||null==r.userInfo.person?null:r.userInfo.person.surname)}}function mt(a,P){if(1&a&&(e.TgZ(0,"div",0)(1,"div",9)(2,"fieldset",2)(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",10),e.qZA()(),e.TgZ(7,"div",9)(8,"fieldset",2)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ng-select",3),e.ALo(13,"translate"),e.TgZ(14,"ng-option",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"ng-option",12),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()()),2&a){const r=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,9,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.BIRTHDATE_LABEL")),e.xp6(2),e.Q6J("ngModel",null==r.userInfo||null==r.userInfo.person?null:r.userInfo.person.birthDate),e.xp6(4),e.Oqu(e.lcZ(11,11,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_LABEL")),e.xp6(2),e.Q6J("ngModel",null==r.userInfo||null==r.userInfo.person?null:r.userInfo.person.gender)("searchable",!1)("clearable",!1)("placeholder",e.lcZ(13,13,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_LABEL")),e.xp6(3),e.hij(" ",e.lcZ(16,15,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_OPTION_MALE")," "),e.xp6(3),e.hij(" ",e.lcZ(19,17,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_OPTION_FEMALE")," ")}}let ft=(()=>{class a{getUserName(){var r,s,I,F,V,ce;return"company"===(null===(r=this.userInfo)||void 0===r?void 0:r.type)?null===(I=null===(s=this.userInfo)||void 0===s?void 0:s.company)||void 0===I?void 0:I.businessName:"person"===(null===(F=this.userInfo)||void 0===F?void 0:F.type)?null===(ce=null===(V=this.userInfo)||void 0===V?void 0:V.person)||void 0===ce?void 0:ce.name:void 0}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-personal-data"]],inputs:{userInfo:"userInfo"},decls:23,vars:24,consts:[[1,"row"],[1,"col-12","col-md-4"],[1,"form-group"],["disabled","",1,"b2m-select",3,"ngModel","searchable","clearable","placeholder"],["value","person"],["value","company"],["type","text","name","","disabled","",1,"input-control",3,"placeholder","ngModel"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"col-12","col-sm-6"],["type","date","disabled","",3,"ngModel"],["value","male"],["value","female"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"fieldset",2)(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ng-select",3),e.ALo(7,"translate"),e.TgZ(8,"ng-option",4),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"ng-option",5),e._uU(12),e.ALo(13,"translate"),e.qZA()()()(),e.TgZ(14,"div",1)(15,"fieldset",2)(16,"label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",6),e.ALo(20,"translate"),e.qZA()(),e.YNc(21,qe,7,7,"div",7),e.qZA(),e.YNc(22,mt,20,19,"div",8)),2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,12,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_LABEL")),e.xp6(2),e.Q6J("ngModel",null==s.userInfo?null:s.userInfo.type)("searchable",!1)("clearable",!1)("placeholder",e.lcZ(7,14,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_LABEL")),e.xp6(3),e.hij(" ",e.lcZ(10,16,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_PERSONAL")," "),e.xp6(3),e.hij(" ",e.lcZ(13,18,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_COMPANY")," "),e.xp6(5),e.Oqu(e.lcZ(18,20,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.NAME_LABEL")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.NAME_PLACEHOLDER")),e.Q6J("ngModel",s.getUserName()),e.xp6(2),e.Q6J("ngIf","person"===(null==s.userInfo?null:s.userInfo.type)),e.xp6(1),e.Q6J("ngIf","person"===(null==s.userInfo?null:s.userInfo.type)))},directives:[ue.w9,U.JJ,U.On,ue.jq,U.Fj,D.O5],pipes:[w.X$],styles:[""]}),a})();function Ht(a,P){if(1&a&&(e.TgZ(0,"li"),e._UZ(1,"p",17),e.ALo(2,"translate"),e.qZA()),2&a){const r=P.$implicit;e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,"PROFILE_IDENTITY_RESUME_PAGE.STATUS_ERROR.ERRORS."+r.toUpperCase()),e.oJD)}}function jt(a,P){if(1&a&&(e.TgZ(0,"div",14)(1,"h4",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",16),e._UZ(5,"p",17),e.ALo(6,"translate"),e.TgZ(7,"ul"),e.YNc(8,Ht,3,3,"li",18),e.qZA(),e.TgZ(9,"a",19)(10,"button",20),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"PROFILE_IDENTITY_RESUME_PAGE.STATUS_ERROR.TITLE")),e.xp6(3),e.Q6J("innerHTML",e.lcZ(6,6,"PROFILE_IDENTITY_RESUME_PAGE.STATUS_ERROR.DESCRIPTION"),e.oJD),e.xp6(3),e.Q6J("ngForOf",r.identityStatus.error),e.xp6(3),e.hij(" ",e.lcZ(12,8,"PROFILE_IDENTITY_RESUME_PAGE.STATUS_ERROR.BUTTON_LABEL")," ")}}function Be(a,P){if(1&a&&(e.TgZ(0,"div",21)(1,"h4",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",16)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",22),e._uU(12),e.ALo(13,"translate"),e.qZA()()()),2&a){const r=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"PROFILE_IDENTITY_RESUME_PAGE.VERIFICATION_PENDING")),e.xp6(4),e.Oqu(e.lcZ(7,7,"PROFILE_IDENTITY_RESUME_PAGE.DATA_SUBMITTED.TEXT_A")),e.xp6(3),e.Oqu(e.lcZ(10,9,"PROFILE_IDENTITY_RESUME_PAGE.DATA_SUBMITTED.TEXT_B")),e.xp6(2),e.MGl("href","https://wallet",r.urlService.getCurrentDomain(),"",e.LSH),e.xp6(1),e.hij(" ",e.lcZ(13,11,"PROFILE_IDENTITY_RESUME_PAGE.DATA_SUBMITTED.BUTTON")," ")}}function Wt(a,P){1&a&&(e.TgZ(0,"div",23)(1,"h4",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",16)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"a",24),e._uU(9,"+34 910 91 37 88"),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"a",25),e.ALo(13,"translate"),e._uU(14,"support@bit2me.com"),e.qZA(),e._uU(15,". "),e.qZA()()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.TITLE")),e.xp6(4),e.hij(" ",e.lcZ(7,6,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.TEXT_A")," "),e.xp6(4),e.hij(" ",e.lcZ(11,8,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.TEXT_B")," "),e.xp6(2),e.Q6J("title",e.lcZ(13,10,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.LINK_TITLE")))}function ht(a,P){1&a&&(e.TgZ(0,"div",21)(1,"h4",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",16)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA()()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"PROFILE_IDENTITY_RESUME_PAGE.DISABLE_PROCESS.TITLE")),e.xp6(4),e.Oqu(e.lcZ(7,4,"PROFILE_IDENTITY_RESUME_PAGE.DISABLE_PROCESS.TEXT_A")))}const xe=function(a){return{"d-none":a}};function $t(a,P){if(1&a&&(e.TgZ(0,"div",26)(1,"h4",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",16)(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",27)(9,"a",22),e.ALo(10,"translate"),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"PROFILE_IDENTITY_RESUME_PAGE.VERIFICATION_PENDING")),e.xp6(4),e.hij(" ",e.lcZ(7,7,"PROFILE_IDENTITY_RESUME_PAGE.STATUS_ERROR.ERRORS.ENHANCEDMEASURESNOTRECEIVED")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(13,xe,r.isExtraMeasuresPending())),e.xp6(1),e.Q6J("href",e.lcZ(10,9,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.FORM_HREF"),e.LSH),e.xp6(2),e.hij(" ",e.lcZ(12,11,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.EXTRA_DOCUMENTATION_FORM_OPENED_LINK_TEXT")," ")}}function Kt(a,P){1&a&&(e.TgZ(0,"div",28)(1,"div",15)(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",16),e._UZ(6,"p",17),e.ALo(7,"translate"),e.qZA()()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"ONBOARDING.STEP_3.PROFILE_IDENTITY_MAX_RETRIES_REACHED_ALERT.TITLE")),e.xp6(3),e.Q6J("innerHTML",e.lcZ(7,4,"ONBOARDING.STEP_3.PROFILE_IDENTITY_MAX_RETRIES_REACHED_ALERT.TEXT"),e.oJD))}function He(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",29)(1,"h4",15),e._UZ(2,"i",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",16)(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",31),e.NdJ("click",function(I){return e.CHM(r),e.oxw().initVerification(I)}),e._uU(10),e.ALo(11,"translate"),e.qZA()()()}if(2&a){const r=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,4,"PROFILE_IDENTITY_RESUME_PAGE.ID_ALMOST_EXPIRED_ALERT.TITLE")," "),e.xp6(4),e.Oqu(e.lcZ(8,6,"PROFILE_IDENTITY_RESUME_PAGE.ID_ALMOST_EXPIRED_ALERT.LABEL")),e.xp6(2),e.Q6J("disabled",r.submitting||r.showMaxRetriesReachedError),e.xp6(1),e.hij(" ",e.lcZ(11,8,"PROFILE_IDENTITY_RESUME_PAGE.ID_ALMOST_EXPIRED_ALERT.BUTTON")," ")}}let ke=(()=>{class a{constructor(r,s,I,F,V,ce,Ce,Fn){this.currentUserStore=r,this.activatedRoute=s,this.translateService=I,this.urlService=F,this.jumioService=V,this.localeService=ce,this.accountAnalyticsService=Ce,this.authService=Fn,this.countryList=Ie.getNames(this.translateService.currentLang),this.availableIdTypes=[{label:this.translateService.stream("PROFILE_IDENTITY_RESUME_PAGE.IDENTITY.DOCUMENT_TYPE_OPTION_ID"),value:"idcard"},{label:this.translateService.stream("PROFILE_IDENTITY_RESUME_PAGE.IDENTITY.DOCUMENT_TYPE_OPTION_PASSPORT"),value:"passport"}],this.destroy$=new G.x}ngOnInit(){this.currentUserStore.userSubject.subscribe(r=>{this.account=r.account}),this.translateService.onLangChange.pipe((0,te.R)(this.destroy$)).subscribe(r=>{this.countryList=Ie.getNames(r.lang)}),this.identityStatus=this.activatedRoute.parent.snapshot.data.identityStatus}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}showDisableProcess(){var r;let s=!1;return"error"===this.identityStatus.status&&(null===(r=this.identityStatus)||void 0===r?void 0:r.disableProcess)&&(s=!0),this.identityStatus.error.includes(C.Tjq.enhancedMeasuresNotReceived)&&(s=!1),s}showEnhancedMeasures(){return this.identityStatus.error.includes(C.Tjq.enhancedMeasuresNotReceived)||this.isExtraMeasuresPending()}isExtraMeasuresPending(){return this.identityStatus.status===C.olx.pending&&this.identityStatus.extraMeasurePending}get isAlmostExpired(){var r;return(null===(r=this.account)||void 0===r?void 0:r.documentValidity)===C.ga9.almostExpired}get isVerified(){return this.identityStatus.status===C.olx.verified}isCompanyPending(){return this.account.accountCompleted&&"company"===this.account.type&&this.identityStatus.status!==C.olx.verified}initVerification(r){this.submitting=!0,r.preventDefault();const s=this.localeService.getAvailableLanguage();this.jumioService.initiate(s.code).pipe((0,te.R)(this.destroy$),(0,zt.K)(I=>(406===I.status&&(this.showMaxRetriesReachedError=!0),I))).subscribe(I=>{this.accountAnalyticsService.trackGoogleAnalyticSubmitVerificationEvent(this.authService.getUserInfo().sub),window.location.href=null==I?void 0:I.redirectUrl}),this.submitting=!1}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(C.Dk$),e.Y36(T.gz),e.Y36(w.sK),e.Y36(C.iOJ),e.Y36(Bt.U),e.Y36(C.OLO),e.Y36(C.p$5),e.Y36(C.e80))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],decls:19,vars:14,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box"],[1,"card-page-title"],[1,"card-page-inner"],["class","alert alert-danger alert-dismissible","role","alert",4,"ngIf"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-primary alert-dismissible","role","alert",4,"ngIf"],["class","alert mini-alert alert-danger","role","alert",4,"ngIf"],["class","alert almostExpired","role","alert",4,"ngIf"],[1,"py-4"],[1,"title","title-border-bottom","mb-4"],[3,"userInfo"],["role","alert",1,"alert","alert-danger","alert-dismissible"],[1,"alert-heading"],[1,"alert-contents"],[3,"innerHTML"],[4,"ngFor","ngForOf"],["routerLink","/onboarding"],[1,"b2m-btn","btn-solid"],["role","alert",1,"alert","alert-primary"],["type","button",1,"b2m-btn","btn-solid","mb-1",3,"href"],["role","alert",1,"alert","alert-success"],["href","tel:+34910913788"],["href","mailto:support@bit2me.com",3,"title"],["role","alert",1,"alert","alert-primary","alert-dismissible"],[3,"ngClass"],["role","alert",1,"alert","mini-alert","alert-danger"],["role","alert",1,"alert","almostExpired"],["aria-hidden","true",1,"b2msf-exclamation-alert-line"],[1,"b2m-btn","btn-solid","btn-block","text-white","mr-0","mb-2","mb-md-0",3,"disabled","click"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",4),e.YNc(7,jt,13,10,"div",5),e.YNc(8,Be,14,13,"div",6),e.YNc(9,Wt,16,12,"div",7),e.YNc(10,ht,8,6,"div",6),e.YNc(11,$t,13,15,"div",8),e.YNc(12,Kt,8,6,"div",9),e.YNc(13,He,12,10,"div",10),e.TgZ(14,"section",11)(15,"h5",12),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"app-user-personal-data",13),e.qZA()()()()),2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,10,"PROFILE_IDENTITY_RESUME_PAGE.TITLE")),e.xp6(3),e.Q6J("ngIf","error"===s.identityStatus.status&&!s.identityStatus.disableProcess),e.xp6(1),e.Q6J("ngIf","pending"===s.identityStatus.status&&!s.showEnhancedMeasures()||s.isCompanyPending()),e.xp6(1),e.Q6J("ngIf",s.isVerified&&!s.isAlmostExpired),e.xp6(1),e.Q6J("ngIf",s.showDisableProcess()),e.xp6(1),e.Q6J("ngIf",s.showEnhancedMeasures()),e.xp6(1),e.Q6J("ngIf",s.showMaxRetriesReachedError),e.xp6(1),e.Q6J("ngIf",s.isVerified&&s.isAlmostExpired),e.xp6(3),e.hij(" ",e.lcZ(17,12,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TITLE")," "),e.xp6(2),e.Q6J("userInfo",s.account))},directives:[D.O5,D.sg,T.yS,D.mk,ft],pipes:[w.X$],styles:[".identity-proof-outer[_ngcontent-%COMP%]{width:100%;max-width:460px;margin:0 auto}.identity-proof[_ngcontent-%COMP%]{padding-bottom:62.5%;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#d1dce7}.identity-proof.empty[_ngcontent-%COMP%]{background-size:contain}.card-page-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.alert[_ngcontent-%COMP%]{width:100%;margin-top:0}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin-bottom:0}.alert[_ngcontent-%COMP%]   .alert-heading[_ngcontent-%COMP%]{text-transform:none}.alert[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{text-transform:none;background-color:#044e97;border-color:#044e97}.alert[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]:hover, .alert[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]:active{background-color:#044e97;border-color:#044e97;box-shadow:0 0 0 1px #044e97}.alert.almostExpired[_ngcontent-%COMP%]{align-items:center;padding:8px 12px;gap:8px;color:#f59300;background:rgba(245,147,0,.1);border-color:#f59300}.identity-verified[_ngcontent-%COMP%]{color:#4d964d;font-weight:700}"]}),a})(),Xt=(()=>{class a{constructor(r){this.accountService=r}resolve(){return this.accountService.getIdentityStatus().pipe((0,O.U)(r=>r)).toPromise()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(C.BRM))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),fe=(()=>{class a{constructor(r){this.accountService=r}resolve(){return this.accountService.getAccount().pipe((0,O.U)(r=>r.accountCompleted)).toPromise()}}return a.\u0275fac=function(r){return new(r||a)(e.LFG(C.BRM))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Ot=f(91031),Ge=f(83918),Ye=f(30600);function je(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const en=function(a){return{value:a}};function tn(a,P){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",e.VKq(4,en,null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.alias||null==r.newAddressForm.controls.alias.errors||null==r.newAddressForm.controls.alias.errors.maxlength?null:r.newAddressForm.controls.alias.errors.maxlength.requiredLength))," ")}}function nn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function on(a,P){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const r=P.$implicit;e.Q6J("value",null==r?null:r.iso),e.xp6(1),e.Oqu(null==r?null:r.name)}}function rn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function an(a,P){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const r=P.$implicit;e.Q6J("value",null==r?null:r.fips),e.xp6(1),e.Oqu(null==r?null:r.name)}}function sn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Se(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function We(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const At=function(a){return{submitted:a}};let Ct=(()=>{class a{constructor(r,s,I,F,V,ce,Ce){this.nzModalRef=r,this.formBuilder=s,this.addressService=I,this.notificationsService=F,this.translateService=V,this.commonService=ce,this.currentUserStore=Ce,this.destroy=new G.x,this.submitting=!1}ngOnInit(){this.initForm()}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}initForm(){this.newAddressForm=this.formBuilder.group({alias:["",[U.kI.required,U.kI.maxLength(50)]],streetAddress:["",[U.kI.required]],countryCode:[null,[U.kI.required]],city:["",[U.kI.required]],zip:["",[U.kI.required]],stateCode:[null,[U.kI.required]],isDefaultAddress:[!1,[U.kI.required]]})}handleSelectedCountryChanges(r){var s=this;return(0,Ge.Z)(function*(){!r||(yield s.commonService.regionsByCountryList(r,s.currentUserStore.user.getLangCode()).toPromise().then(I=>{var F;s.selectableRegions=I,s.newAddressForm.patchValue({stateCode:(null===(F=null==I?void 0:I.first())||void 0===F?void 0:F.fips)||null})}))})()}onSubmit(){if(this.newAddressForm.invalid)return;this.submitting=!0;const r=this.newAddressForm.getRawValue();this.addressService.createAddress(r).pipe((0,te.R)(this.destroy)).subscribe(s=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.NOTIFICATION_SUCCESS")),this.nzModalRef.close(s)},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.NOTIFICATION_ERROR"))}).add(()=>{this.submitting=!1})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ee.Lf),e.Y36(U.qu),e.Y36(Ye.D),e.Y36(C.TFo),e.Y36(w.sK),e.Y36(C.v_H),e.Y36(C.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{selectableCountries:"selectableCountries"},decls:68,vars:60,consts:[[1,"modal-header"],[1,"modal-title"],[3,"formGroup","ngClass","ngSubmit"],["newAddressFormTemplate","ngForm"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","alias",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","formControlName","streetAddress",3,"placeholder"],["formControlName","countryCode",3,"placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stateCode",3,"placeholder"],["type","text","formControlName","zip",3,"placeholder"],["type","text","formControlName","city",3,"placeholder"],[1,"b2m-checkbox"],["id","my-checkbox","type","checkbox","formControlName","isDefaultAddress"],["for","my-checkbox"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","w-100","mx-auto",3,"disabled","bngxLoadingLayer"],[3,"value"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(6,"div",4)(7,"fieldset",5)(8,"label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",6),e.ALo(12,"translate"),e.TgZ(13,"div",7),e.YNc(14,je,3,3,"div",8),e.YNc(15,tn,3,6,"div",8),e.qZA()(),e.TgZ(16,"fieldset",5)(17,"label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",9),e.ALo(21,"translate"),e.TgZ(22,"div",7),e.YNc(23,nn,3,3,"div",8),e.qZA()(),e.TgZ(24,"fieldset",5)(25,"label"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"ng-select",10),e.NdJ("change",function(F){return s.handleSelectedCountryChanges(F)}),e.ALo(29,"translate"),e.YNc(30,on,2,2,"ng-option",11),e.qZA(),e.TgZ(31,"div",7),e.YNc(32,rn,3,3,"div",8),e.qZA()(),e.TgZ(33,"fieldset",5)(34,"label"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"ng-select",12),e.ALo(38,"translate"),e.YNc(39,an,2,2,"ng-option",11),e.qZA(),e.TgZ(40,"div",7),e.YNc(41,sn,3,3,"div",8),e.qZA()(),e.TgZ(42,"fieldset",5)(43,"label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",13),e.ALo(47,"translate"),e.TgZ(48,"div",7),e.YNc(49,Se,3,3,"div",8),e.qZA()(),e.TgZ(50,"fieldset",5)(51,"label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"input",14),e.ALo(55,"translate"),e.TgZ(56,"div",7),e.YNc(57,We,3,3,"div",8),e.qZA()(),e.TgZ(58,"fieldset",5)(59,"div",15),e._UZ(60,"input",16),e.TgZ(61,"label",17),e._uU(62),e.ALo(63,"translate"),e.qZA()()()(),e.TgZ(64,"div",18)(65,"button",19),e._uU(66),e.ALo(67,"translate"),e.qZA()()()),2&r){const I=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,28,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.TITLE")),e.xp6(2),e.Q6J("formGroup",s.newAddressForm)("ngClass",e.VKq(58,At,I.submitted)),e.xp6(5),e.Oqu(e.lcZ(10,30,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.ALIAS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,32,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.ALIAS")),e.xp6(3),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.alias||null==s.newAddressForm.controls.alias.errors?null:s.newAddressForm.controls.alias.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.alias||null==s.newAddressForm.controls.alias.errors?null:s.newAddressForm.controls.alias.errors.maxlength),e.xp6(3),e.Oqu(e.lcZ(19,34,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.ADDRESS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(21,36,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.ADDRESS")),e.xp6(3),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.streetAddress||null==s.newAddressForm.controls.streetAddress.errors?null:s.newAddressForm.controls.streetAddress.errors.required),e.xp6(3),e.Oqu(e.lcZ(27,38,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.COUNTRY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(29,40,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.COUNTRY")),e.xp6(2),e.Q6J("ngForOf",s.selectableCountries),e.xp6(2),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.countryCode||null==s.newAddressForm.controls.countryCode.errors?null:s.newAddressForm.controls.countryCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(36,42,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.STATE")),e.xp6(2),e.Q6J("placeholder",e.lcZ(38,44,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.STATE")),e.xp6(2),e.Q6J("ngForOf",s.selectableRegions),e.xp6(2),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.stateCode||null==s.newAddressForm.controls.stateCode.errors?null:s.newAddressForm.controls.stateCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(45,46,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.ZIP")),e.xp6(2),e.Q6J("placeholder",e.lcZ(47,48,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.ZIP")),e.xp6(3),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.zip||null==s.newAddressForm.controls.zip.errors?null:s.newAddressForm.controls.zip.errors.required),e.xp6(3),e.Oqu(e.lcZ(53,50,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.CITY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(55,52,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.CITY")),e.xp6(3),e.Q6J("ngIf",null==s.newAddressForm||null==s.newAddressForm.controls||null==s.newAddressForm.controls.city||null==s.newAddressForm.controls.city.errors?null:s.newAddressForm.controls.city.errors.required),e.xp6(5),e.Oqu(e.lcZ(63,54,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.CHECK_DEFAULT")),e.xp6(3),e.Q6J("disabled",s.submitting)("bngxLoadingLayer",s.submitting),e.xp6(1),e.hij(" ",e.lcZ(67,56,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.BUTTON.SAVE")," ")}},directives:[U._Y,U.JL,U.sg,D.mk,U.Fj,U.JJ,U.u,D.O5,ue.w9,D.sg,ue.jq,U.Wl,C.gO3],pipes:[w.X$],styles:[""]}),a})();function ln(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA()()(),e.TgZ(17,"div",6)(18,"button",7),e.NdJ("click",function(){e.CHM(r);const I=e.oxw();return I.deleteAddress(null==I.address?null:I.address.id)}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()}if(2&a){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,10,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.ALERT_DESCRIPTION")),e.xp6(5),e.Oqu(null==r.address?null:r.address.alias),e.xp6(2),e.Oqu(null==r.address?null:r.address.streetAddress),e.xp6(2),e.AsE("",null==r.address?null:r.address.city," ",null==r.address?null:r.address.stateCode,""),e.xp6(2),e.Oqu(null==r.address?null:r.address.zip),e.xp6(2),e.Oqu(null==r.address?null:r.address.countryCode),e.xp6(2),e.Q6J("disabled",r.submitting)("bngxLoadingLayer",r.submitting),e.xp6(1),e.hij(" ",e.lcZ(20,12,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.BUTTON")," ")}}function cn(a,P){1&a&&(e.TgZ(0,"div")(1,"div",3),e._UZ(2,"p",8),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("innerHTML",e.lcZ(3,1,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.CANNOT_REMOVE.MESSAGE"),e.oJD))}let Pt=(()=>{class a{constructor(r,s,I,F){this.nzModalRef=r,this.addressService=s,this.notificationsService=I,this.translateService=F,this.destroy=new G.x,this.submitting=!1}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}deleteAddress(r){this.submitting=!0,this.addressService.deleteAddress(r).pipe((0,te.R)(this.destroy)).subscribe(()=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.NOTIFICATION_SUCCESS")),this.nzModalRef.close(!0)},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.NOTIFICATION_ERROR"))}).add(()=>{this.submitting=!1})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ee.Lf),e.Y36(Ye.D),e.Y36(C.TFo),e.Y36(w.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{address:"address"},decls:6,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body"],[1,"address","mt-3"],[1,"name","font-weight-bold"],[1,"modal-footer"],["type","button",1,"b2m-btn","btn-solid","danger","w-100","mx-auto",3,"disabled","bngxLoadingLayer","click"],[3,"innerHTML"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.YNc(4,ln,21,14,"div",2),e.YNc(5,cn,4,3,"div",2)),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.TITLE")),e.xp6(2),e.Q6J("ngIf",!(null!=s.address&&s.address.isResidence)),e.xp6(1),e.Q6J("ngIf",null==s.address?null:s.address.isResidence))},directives:[D.O5,C.gO3],pipes:[w.X$],styles:[""]}),a})();function ge(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function dn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function gn(a,P){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const r=P.$implicit;e.Q6J("value",null==r?null:r.iso),e.xp6(1),e.Oqu(null==r?null:r.name)}}function pn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function un(a,P){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const r=P.$implicit;e.Q6J("value",null==r?null:r.fips),e.xp6(1),e.Oqu(null==r?null:r.name)}}function _n(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function mn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function fn(a,P){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Tt(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div")(1,"div",5)(2,"fieldset",6)(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",7),e.ALo(7,"translate"),e.TgZ(8,"div",8),e.YNc(9,ge,3,3,"div",4),e.qZA()(),e.TgZ(10,"fieldset",6)(11,"label"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",9),e.ALo(15,"translate"),e.TgZ(16,"div",8),e.YNc(17,dn,3,3,"div",4),e.qZA()(),e.TgZ(18,"fieldset",6)(19,"label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ng-select",10),e.NdJ("change",function(I){return e.CHM(r),e.oxw().handleSelectedCountryChanges(I)}),e.ALo(23,"translate"),e.YNc(24,gn,2,2,"ng-option",11),e.qZA(),e.TgZ(25,"div",8),e.YNc(26,pn,3,3,"div",4),e.qZA()(),e.TgZ(27,"fieldset",6)(28,"label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"ng-select",12),e.ALo(32,"translate"),e.YNc(33,un,2,2,"ng-option",11),e.qZA(),e.TgZ(34,"div",8),e.YNc(35,_n,3,3,"div",4),e.qZA()(),e.TgZ(36,"fieldset",6)(37,"label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"input",13),e.ALo(41,"translate"),e.TgZ(42,"div",8),e.YNc(43,mn,3,3,"div",4),e.qZA()(),e.TgZ(44,"fieldset",6)(45,"label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e._UZ(48,"input",14),e.ALo(49,"translate"),e.TgZ(50,"div",8),e.YNc(51,fn,3,3,"div",4),e.qZA()(),e.TgZ(52,"fieldset",6)(53,"div",15),e._UZ(54,"input",16),e.TgZ(55,"label",17),e._uU(56),e.ALo(57,"translate"),e.qZA()()()(),e.TgZ(58,"div",18)(59,"button",19),e._uU(60),e.ALo(61,"translate"),e.qZA()()()}if(2&a){const r=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,24,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.ALIAS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(7,26,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.ALIAS")),e.xp6(3),e.Q6J("ngIf",null==r.editAddressForm||null==r.editAddressForm.controls||null==r.editAddressForm.controls.alias||null==r.editAddressForm.controls.alias.errors?null:r.editAddressForm.controls.alias.errors.required),e.xp6(3),e.Oqu(e.lcZ(13,28,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.ADDRESS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(15,30,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.ADDRESS")),e.xp6(3),e.Q6J("ngIf",null==r.editAddressForm||null==r.editAddressForm.controls||null==r.editAddressForm.controls.streetAddress||null==r.editAddressForm.controls.streetAddress.errors?null:r.editAddressForm.controls.streetAddress.errors.required),e.xp6(3),e.Oqu(e.lcZ(21,32,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.COUNTRY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(23,34,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.COUNTRY")),e.xp6(2),e.Q6J("ngForOf",r.selectableCountries),e.xp6(2),e.Q6J("ngIf",null==r.editAddressForm||null==r.editAddressForm.controls||null==r.editAddressForm.controls.countryCode||null==r.editAddressForm.controls.countryCode.errors?null:r.editAddressForm.controls.countryCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(30,36,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.STATE")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,38,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.STATE")),e.xp6(2),e.Q6J("ngForOf",r.selectableRegions),e.xp6(2),e.Q6J("ngIf",null==r.editAddressForm||null==r.editAddressForm.controls||null==r.editAddressForm.controls.stateCode||null==r.editAddressForm.controls.stateCode.errors?null:r.editAddressForm.controls.stateCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(39,40,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.CITY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(41,42,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.CITY")),e.xp6(3),e.Q6J("ngIf",null==r.editAddressForm||null==r.editAddressForm.controls||null==r.editAddressForm.controls.city||null==r.editAddressForm.controls.city.errors?null:r.editAddressForm.controls.city.errors.required),e.xp6(3),e.Oqu(e.lcZ(47,44,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.ZIP")),e.xp6(2),e.Q6J("placeholder",e.lcZ(49,46,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.ZIP")),e.xp6(3),e.Q6J("ngIf",null==r.editAddressForm||null==r.editAddressForm.controls||null==r.editAddressForm.controls.zip||null==r.editAddressForm.controls.zip.errors?null:r.editAddressForm.controls.zip.errors.required),e.xp6(5),e.Oqu(e.lcZ(57,48,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.CHECK_DEFAULT")),e.xp6(3),e.Q6J("disabled",r.submitting)("bngxLoadingLayer",r.submitting),e.xp6(1),e.hij(" ",e.lcZ(61,50,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.BUTTON.SAVE")," ")}}function hn(a,P){1&a&&(e.TgZ(0,"div")(1,"div",5),e._UZ(2,"p",21),e.ALo(3,"translate"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("innerHTML",e.lcZ(3,1,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.CANNOT_EDIT.MESSAGE"),e.oJD))}const On=function(a){return{submitted:a}};let vt=(()=>{class a{constructor(r,s,I,F,V,ce,Ce){this.nzModalRef=r,this.formBuilder=s,this.addressService=I,this.notificationsService=F,this.translateService=V,this.commonService=ce,this.currentUserStore=Ce,this.destroy=new G.x,this.submitting=!1,this.isFirst=!0}ngOnInit(){this.initForm(),this.handleSelectedCountryChanges(this.editAddressForm.get("countryCode").value)}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}initForm(){this.editAddressForm=this.formBuilder.group({id:[this.address.id],alias:[this.address.alias,[U.kI.required]],streetAddress:[this.address.streetAddress,[U.kI.required]],countryCode:[this.address.countryCode,[U.kI.required]],city:[this.address.city,[U.kI.required]],zip:[this.address.zip,[U.kI.required]],stateCode:[this.address.stateCode,[U.kI.required]],isDefaultAddress:[this.address.isDefaultAddress,[U.kI.required]]})}handleSelectedCountryChanges(r){var s=this;return(0,Ge.Z)(function*(){!r||s.address.isResidence||(yield s.commonService.regionsByCountryList(r,s.currentUserStore.user.getLangCode()).toPromise().then(I=>{var F;s.selectableRegions=I,s.isFirst||s.editAddressForm.patchValue({stateCode:(null===(F=null==I?void 0:I.first())||void 0===F?void 0:F.fips)||null}),s.isFirst=!1}))})()}onSubmit(){if(this.editAddressForm.invalid)return;this.submitting=!0;const r=this.editAddressForm.getRawValue();this.addressService.editAddress(r).pipe((0,te.R)(this.destroy)).subscribe(s=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.NOTIFICATION_SUCCESS")),this.nzModalRef.close(s)},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.NOTIFICATION_ERROR"))}).add(()=>{this.submitting=!1})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(ee.Lf),e.Y36(U.qu),e.Y36(Ye.D),e.Y36(C.TFo),e.Y36(w.sK),e.Y36(C.v_H),e.Y36(C.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{selectableCountries:"selectableCountries",address:"address"},decls:8,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],[3,"formGroup","ngClass","ngSubmit"],["editAddressFormTemplate","ngForm"],[4,"ngIf"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","alias",3,"placeholder"],[1,"invalid-feedback"],["type","text","formControlName","streetAddress",3,"placeholder"],["formControlName","countryCode",3,"placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stateCode",3,"placeholder"],["type","text","formControlName","city",3,"placeholder"],["type","text","formControlName","zip",3,"placeholder"],[1,"b2m-checkbox"],["id","my-checkbox","type","checkbox","formControlName","isDefaultAddress"],["for","my-checkbox"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","w-100","mx-auto",3,"disabled","bngxLoadingLayer"],[3,"value"],[3,"innerHTML"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.YNc(6,Tt,62,52,"div",4),e.YNc(7,hn,4,3,"div",4),e.qZA()),2&r){const I=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,5,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.TITLE")),e.xp6(2),e.Q6J("formGroup",s.editAddressForm)("ngClass",e.VKq(7,On,I.submitted)),e.xp6(2),e.Q6J("ngIf",!(null!=s.address&&s.address.isResidence)),e.xp6(1),e.Q6J("ngIf",null==s.address?null:s.address.isResidence)}},directives:[U._Y,U.JL,U.sg,D.mk,D.O5,U.Fj,U.JJ,U.u,ue.w9,D.sg,ue.jq,U.Wl,C.gO3],pipes:[w.X$],styles:[""]}),a})();function _(a,P){1&a&&(e.TgZ(0,"div",28)(1,"div",29)(2,"small",30),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"PROFILE_ADDRESSES_PAGE.RESIDENCE_TITLE")))}const y=function(a){return{"default-selected":a}};function h(a,P){if(1&a){const r=e.EpF();e.TgZ(0,"div",7)(1,"div",13),e.YNc(2,_,5,3,"div",14),e.TgZ(3,"div",15)(4,"div",16),e._UZ(5,"i",9),e.qZA(),e.TgZ(6,"div",17)(7,"div",18)(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"div",19)(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()()(),e.TgZ(19,"div",6)(20,"div",20)(21,"div",21),e._UZ(22,"i",22),e.TgZ(23,"button",23),e.NdJ("click",function(){const F=e.CHM(r).$implicit;return e.oxw().setAddressAsDefault(F)}),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",24)(27,"div",25)(28,"button",23),e.NdJ("click",function(){const F=e.CHM(r).$implicit;return e.oxw().openEditAddressDialog(F)}),e._UZ(29,"i",26),e.qZA()(),e.TgZ(30,"div")(31,"button",23),e.NdJ("click",function(){const F=e.CHM(r).$implicit;return e.oxw().openDeleteAddressDialog(F)}),e._UZ(32,"i",27),e.qZA()()()()()()()}if(2&a){const r=P.$implicit,s=e.oxw();e.xp6(2),e.Q6J("ngIf",null==r?null:r.isResidence),e.xp6(7),e.Oqu(null==r?null:r.alias),e.xp6(3),e.Oqu(null==r?null:r.streetAddress),e.xp6(2),e.AsE(" ",null==r?null:r.city," , ",null==s.regionsMapByCountryKey[null==r?null:r.countryCode][null==r?null:r.stateCode]?null:s.regionsMapByCountryKey[null==r?null:r.countryCode][null==r?null:r.stateCode].name," "),e.xp6(2),e.Oqu(null==r?null:r.zip),e.xp6(2),e.Oqu(null==r?null:r.countryCode),e.xp6(4),e.Q6J("ngClass",e.VKq(11,y,null==r?null:r.isDefaultAddress)),e.xp6(2),e.hij(" ",e.lcZ(25,9,"PROFILE_ADDRESSES_PAGE.DEFAULT")," ")}}let u=(()=>{class a{constructor(r,s,I,F,V,ce){this.modalService=r,this.addressService=s,this.notificationsService=I,this.translateService=F,this.commonService=V,this.currentUserStore=ce,this.destroy=new G.x,this.regionsMapByCountryKey={}}ngOnInit(){this.setAddresses(),this.setCountries(),this.handleLangChange()}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}openCreateAddressDialog(){this.modalService.open(Ct,{nzComponentParams:{selectableCountries:this.countries}}).afterClose.subscribe(s=>{s&&this.setAddresses()})}openEditAddressDialog(r){this.modalService.open(vt,{nzComponentParams:{address:r,selectableCountries:this.countries}}).afterClose.subscribe(I=>{I&&this.setAddresses()})}openDeleteAddressDialog(r){this.modalService.open(Pt,{nzComponentParams:{address:r}}).afterClose.subscribe(I=>{I&&this.setAddresses()})}setAddresses(){this.addressService.getAddresses().pipe((0,te.R)(this.destroy)).subscribe(r=>{this.addresses=r,this.fillRegionsMap()})}setCountries(){this.commonService.countryList(this.currentUserStore.user.getLangCode()).pipe((0,te.R)(this.destroy)).subscribe(r=>{this.countries=r})}setAddressAsDefault(r){if(r.isDefaultAddress)return;const s=Object.assign({},r);s.isDefaultAddress=!0,this.addressService.editAddress(s).pipe((0,te.R)(this.destroy)).subscribe(()=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.SET_DEFAULT_SUCCESS_NOTIFICATION")),this.setAddresses()},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.SET_DEFAULT_ERROR_NOTIFICATION"))})}fillRegionsMap(){var r=this;!this.addresses||(this.addresses.forEach(s=>{this.regionsMapByCountryKey[s.countryCode]={}}),this.addresses.forEach(function(){var s=(0,Ge.Z)(function*(I){yield r.commonService.regionsByCountryList(I.countryCode,r.currentUserStore.user.getLangCode()).toPromise().then(F=>{const V=F.filter(ce=>ce.fips===I.stateCode).first();r.regionsMapByCountryKey[I.countryCode][V.fips]={fips:V.fips,name:V.name,iso:V.iso}})});return function(I){return s.apply(this,arguments)}}()))}handleLangChange(){this.translateService.onLangChange.pipe((0,te.R)(this.destroy)).subscribe(()=>{this.setCountries(),this.fillRegionsMap()})}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(C.Z7U),e.Y36(Ye.D),e.Y36(C.TFo),e.Y36(w.sK),e.Y36(C.v_H),e.Y36(C.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-addresses"]],decls:18,vars:7,consts:[[1,"profile-addresses-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],[1,"row","mt-2"],[1,"col-12","col-lg-6","element"],[1,"new-address",3,"click"],["aria-hidden","true",1,"b2msf-pointer"],[1,"mt-2"],[1,"b2msf-plus"],["class","col-12 col-lg-6 element",4,"ngFor","ngForOf"],[1,"address-element"],["class","row default",4,"ngIf"],[1,"row"],[1,"col-2","icon-column"],[1,"col-10","text-column","pl-0"],[1,"name","font-weight-bold"],[1,"address"],[1,"col-10","offset-2","pl-0","actions"],[1,"mark-as-default"],["aria-hidden","true",1,"b2msf-star-solid","mr-1",3,"ngClass"],[3,"click"],[1,"icons"],[1,"mr-4"],["aria-hidden","true",1,"b2msf-pencil"],["aria-hidden","true",1,"b2msf-delete"],[1,"row","default"],[1,"col-10","offset-2","pl-0"],[1,"default-residence"]],template:function(r,s){1&r&&(e.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",5)(8,"section")(9,"div",6)(10,"div",7)(11,"button",8),e.NdJ("click",function(){return s.openCreateAddressDialog()}),e._UZ(12,"i",9),e.TgZ(13,"p",10),e._UZ(14,"i",11),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e.YNc(17,h,33,13,"div",12),e.qZA()()()()()()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,3,"PROFILE_ADDRESSES_PAGE.TITLE")),e.xp6(10),e.hij("\xa0",e.lcZ(16,5,"PROFILE_ADDRESSES_PAGE.ADD")," "),e.xp6(2),e.Q6J("ngForOf",s.addresses))},directives:[D.sg,D.O5,D.mk],pipes:[w.X$],styles:[".profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .card-page-title[_ngcontent-%COMP%]{float:unset;margin-bottom:unset}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;border-radius:5px;text-align:center;box-shadow:0 0 0 1px #e8edf4;background-color:#f3f6f9;display:block;padding:40px;transition:all .3s ease}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]:hover{background-color:#e8edf4;box-shadow:0 0 0 1px #91adcc;font-weight:700}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{display:inline-block;font-size:55px;margin-bottom:15px;color:#91adcc;position:relative;left:10px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#91adcc}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]{padding:20px 10px 10px 20px;box-shadow:0 0 0 1px #e8edf4;border-radius:5px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]   .default-residence[_ngcontent-%COMP%]{color:#91adcc;font-weight:600}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{display:inline-block;font-size:40px;color:#044e97;position:relative;left:20px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:30px;align-items:center;padding-right:45px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#044e97;font-weight:600;font-size:13px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{font-weight:700}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;position:relative;color:#044e97;top:4px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i.b2msf-star-solid[_ngcontent-%COMP%]{font-size:30px;color:#e8edf4}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i.b2msf-star-solid.default-selected[_ngcontent-%COMP%]{color:#ffc53d}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{font-weight:600}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:inline-flex}@media (max-width: 575px){.icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{left:0!important}}@media (max-width: 350px){.icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{position:absolute!important;font-size:30px!important;margin-left:5px}}@media (min-width: 992px) and (max-width: 1199px){.icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{left:0!important}}"]}),a})();const H=[{path:"",pathMatch:"prefix",redirectTo:"general"},{path:"general",component:pt,data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}},{path:"identity",component:ut,runGuardsAndResolvers:"always",resolve:{identityStatus:Xt,accountCompleted:fe},children:[{path:"new",component:_t,data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}},{path:"resume",component:ke,data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}}]},{path:"identity/max-retries-reached",component:(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],decls:14,vars:9,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box"],[1,"card-page-title"],[1,"card-page-inner"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[1,"alert-contents"],[3,"innerHTML"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"h4",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"p",8),e.ALo(13,"translate"),e.qZA()()()()()),2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,3,"PROFILE_IDENTITY_MAX_RETRIES_REACHED_PAGE.TITLE")),e.xp6(5),e.Oqu(e.lcZ(10,5,"PROFILE_IDENTITY_MAX_RETRIES_REACHED_PAGE.ALERT.TITLE")),e.xp6(3),e.Q6J("innerHTML",e.lcZ(13,7,"PROFILE_IDENTITY_MAX_RETRIES_REACHED_PAGE.ALERT.TEXT1"),e.oJD))},pipes:[w.X$],styles:[".identity-proof-outer[_ngcontent-%COMP%]{width:100%;max-width:460px;margin:0 auto}.identity-proof[_ngcontent-%COMP%]{padding-bottom:62.5%;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#d1dce7}.identity-proof.empty[_ngcontent-%COMP%]{background-size:contain}.card-page-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.alert[_ngcontent-%COMP%]{width:100%;margin-top:0}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin-bottom:0}.identity-verified[_ngcontent-%COMP%]{color:#4d964d;font-weight:700}"]}),a})(),data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}},{path:"preferences",component:Ot.$,data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}},{path:"addresses",component:u,data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}},{path:"notifications",component:j,data:{analytics:{pageAccess:C.Sk.loggedIn,pageType:C.vnv.companyInfo,pageCategory:C.ycu.general,pageCode:200}}}];let re=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[D.ez,C.Rbs,g.v,T.Bz.forChild(H)],T.Bz]}),a})();f(22370),f(39152),f(76598),f(19839),f(26562),f(44874),f(32673),f(95633),f(25006);let ei=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[C.Rbs.forChild(),g.v,re,A.Q,t.Cl],re]}),a})()},95633:(se,$,f)=>{"use strict";f.d($,{B:()=>g});var C=f(3184),t=f(28784),A=f(90923);let g=(()=>{class T{constructor(b,O){this.httpClient=b,this.urlService=O,this.urlNamespace="/account"}getEmploymentStatuses(b){const O={params:{langCode:b}};return this.httpClient.get(this.urlService.api(`${this.urlNamespace}/employment-status`),O)}getFundsOrigins(b){const O={params:{langCode:b}};return this.httpClient.get(this.urlService.api(`${this.urlNamespace}/funds-origin`),O)}getProfessions(b){const O={params:{langCode:b}};return this.httpClient.get(this.urlService.api(`${this.urlNamespace}/professions`),O)}getPurposes(b){const O={params:{langCode:b}};return this.httpClient.get(this.urlService.api(`${this.urlNamespace}/purposes`),O)}getDepositEstimation(){return this.httpClient.get(this.urlService.api(`${this.urlNamespace}/deposit-estimation`))}}return T.\u0275fac=function(b){return new(b||T)(C.LFG(t.eN),C.LFG(A.iOJ))},T.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},30600:(se,$,f)=>{"use strict";f.d($,{D:()=>g});var C=f(3184),t=f(28784),A=f(90923);let g=(()=>{class T{constructor(b,O){this.httpClient=b,this.urlService=O,this.urlNamespace="/account"}getAddresses(b){const O={params:{}};return b&&(O.params=Object.assign(Object.assign({},(null==b?void 0:b.isResidence)&&{isResidence:null==b?void 0:b.isResidence}),(null==b?void 0:b.addressId)&&{addressId:null==b?void 0:b.addressId})),this.httpClient.get(this.urlService.api(`${this.urlNamespace}/address`),O)}createAddress(b){return this.httpClient.post(this.urlService.api(`${this.urlNamespace}/address`),b)}editAddress(b){return this.httpClient.put(this.urlService.api(`${this.urlNamespace}/address?addressId=${b.id}`),b)}deleteAddress(b){const O={params:{addressId:b}};return this.httpClient.delete(this.urlService.api(`${this.urlNamespace}/address`),O)}}return T.\u0275fac=function(b){return new(b||T)(C.LFG(t.eN),C.LFG(A.iOJ))},T.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},38571:(se,$,f)=>{"use strict";f.d($,{U:()=>g});var C=f(3184),t=f(28784),A=f(90923);let g=(()=>{class T{constructor(b,O,J){this.httpClient=b,this.urlService=O,this.featureToogleService=J}initiate(b,O){let J={locale:b};return O&&(J=Object.assign(Object.assign({},J),{workflowId:O})),this.featureToogleService.isEnabled("account.jumioKyx")?this.httpClient.post(this.urlService.api("/v2/account/verify/identity/init"),J):this.httpClient.post(this.urlService.api("/v1/account/verify/identity/init"),J)}}return T.\u0275fac=function(b){return new(b||T)(C.LFG(t.eN),C.LFG(A.iOJ),C.LFG(A.QtJ))},T.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},54108:(se,$,f)=>{"use strict";f.d($,{I:()=>b});var C=f(52717),t=f.n(C),A=f(3184),g=f(36362);const T=function(O){return{visible:O}},D=function(O,J,e){return{danger:O,warning:J,success:e}};let b=(()=>{class O{constructor(){this.password=""}ngOnChanges(e){if(e.password){const{currentValue:w}=e.password;this.zxcvnResult=t()(w),this.passwordStrengthPercentage=20*(w.length?this.zxcvnResult.score+1:0)}}}return O.\u0275fac=function(e){return new(e||O)},O.\u0275cmp=A.Xpm({type:O,selectors:[["bngx-password-strength"]],inputs:{password:"password"},features:[A.TTD],decls:2,vars:10,consts:[[1,"strength-meter",3,"ngClass"],[1,"strength-meter-fill",3,"ngClass"]],template:function(e,w){1&e&&(A.TgZ(0,"div",0),A._UZ(1,"div",1),A.qZA()),2&e&&(A.Q6J("ngClass",A.VKq(4,T,w.password.length)),A.xp6(1),A.Udp("width",w.passwordStrengthPercentage+"%"),A.Q6J("ngClass",A.kEZ(6,D,w.passwordStrengthPercentage<=20,w.passwordStrengthPercentage>20&&w.passwordStrengthPercentage<=60,w.passwordStrengthPercentage>60)))},directives:[g.mk],styles:[".strength-meter[_ngcontent-%COMP%]{height:0px;width:100%;background-color:#ededed;border-radius:6px;transition:all .3s ease}.strength-meter[_ngcontent-%COMP%]   .strength-meter-fill[_ngcontent-%COMP%]{height:100%;margin:0;transition:all .6s ease}.strength-meter[_ngcontent-%COMP%]   .strength-meter-fill.danger[_ngcontent-%COMP%]{background-color:#ea3632}.strength-meter[_ngcontent-%COMP%]   .strength-meter-fill.warning[_ngcontent-%COMP%]{background-color:#f60}.strength-meter[_ngcontent-%COMP%]   .strength-meter-fill.success[_ngcontent-%COMP%]{background-color:#36a34d}.strength-meter.visible[_ngcontent-%COMP%]{height:6px}.strength-meter.visible[_ngcontent-%COMP%]   .strength-meter-fill[_ngcontent-%COMP%]{margin:.5rem 0 1.5rem;border-radius:6px}"]}),O})()},28086:(se,$,f)=>{"use strict";f.d($,{v:()=>O});var C=f(90923),t=f(90587),A=f(36362),g=f(19720),T=f(19839),D=f(69965),b=f(3184);let O=(()=>{class J{}return J.\u0275fac=function(w){return new(w||J)},J.\u0275mod=b.oAB({type:J}),J.\u0275inj=b.cJS({imports:[[C.Rbs.forChild(),T.Tm,g.Bz,A.ez,t.u5,D.TA],T.Tm,D.TA]}),J})()},16916:(se,$,f)=>{"use strict";f.d($,{N:()=>g});var C=f(67883);const t=JSON.parse('{"u2":"b2m-fe-suite-ngx-account","i8":"1.0.4419-73289bbc"}');var A=f(90923);const g={production:!0,serviceName:"account",recaptchaSitekey:"6Lf_jbEUAAAAAMQSx3E_9bUh-k0BRX8vNlrZbenJ",loggerEnabled:!0,project:t.u2,version:t.i8,libVersion:C.i8,dsnSentry:"https://7eb31380f5254657a2f39e8e31b6d9b8@sentry.bit2me.com/5",googleTagManagers:[{gtmId:"GTM-WZ8BPK7"},{gtmId:"GTM-MJWHBSX"}],adjustManagers:[{appToken:"gzpu6flyc8ow",environment:"production",tokens:{login:"6xe6rz",sign_up:"9ekoxc",verified_completed:"mpprqf",verified_email:"pmmruw",verified_identity:"c1bce1",verified_phone:"g0tf94",submit_verification:"5hrzuq"}}],langs:[{name:"English",code:A.TQp.English,flag:A.RlT.UnitedKingdom},{name:"Espa\xf1ol",code:A.TQp.Spanish,flag:A.RlT.Spain},{name:"Portugu\xeas",code:A.ELQ.PortuguesePortugal,flag:A.RlT.Portugal},{name:"Portugu\xeas do Brasil",code:A.ELQ.PortugueseBrazil,flag:A.RlT.Brazil}],unleash:{clientKey:"48L9F7M1nPE21Vv4AHB9wuJ6kPP3Pi5PWUk8y7a9pCA92L5W5cZJw3V7frEjZqMD",url:"https://prod-unleash.bit2me.com/proxy",appName:"b2m"},defaultLang:{name:"English",code:A.TQp.English,flag:A.RlT.UnitedKingdom},companyFormSteps:[{en:"https://otnx5ls3wpi.typeform.com/to/DDAfyDWd",es:"https://otnx5ls3wpi.typeform.com/to/xn3L0Dxd"},{en:"https://otnx5ls3wpi.typeform.com/to/HcsHiIJp",es:"https://otnx5ls3wpi.typeform.com/to/yJqNFTAm"},{en:"https://otnx5ls3wpi.typeform.com/to/g9pTyuDs",es:"https://otnx5ls3wpi.typeform.com/to/I2VEkGCQ"}],googleProvider:{clientId:"113524801616-s5q93kmq7a1ji0om9d61fq2uj67dk8cg.apps.googleusercontent.com",redirect_uri:"https://account.bit2me.com/callback/oauth/google"},appleProvider:{clientId:"com.bit2me.oauth",redirect_uri:"https://gateway.bit2me.com/v1/oauth/apple/redirect"}}},63902:(se,$,f)=>{"use strict";var C=f(50318),t=f(3184),A=f(90923),g=f(28784),T=f(33935),D=f(57481),b=f(7743),O=f(50253),J=f(19720);let e=(()=>{class l{constructor(o){this.analyticService=o,this.destroy$=new O.x,o.startTracking()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.gv3))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","main-content","bngx-i18n","","bngx-dynamic-title",""]],template:function(o,c){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[A.skA,A.RHT,J.lC],styles:["div.fc-widget-small#fc_frame{right:15px!important;bottom:48px!important}  body{padding-bottom:0!important}"]}),l})();var w=f(77730);let Q=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],exportAs:["loginLayout"],decls:11,vars:1,consts:[[1,"login-layout"],[1,"background"],["alt","","src","assets/images/onboarding/bg-top-left.svg",1,"bg-top-left"],["alt","","src","assets/images/onboarding/bg-bottom-right-2.svg",1,"bg-bottom-right"],[1,"content"],["serviceIconClass","b2msf-logo",3,"hideAlerts"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2)(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"bngx-header-panel",5)(6,"bngx-header-options"),t._UZ(7,"bngx-header-login-register-buttons"),t.qZA()(),t._UZ(8,"router-outlet"),t.qZA()(),t._UZ(9,"bngx-footer")(10,"bngx-chat-bubble")),2&o&&(t.xp6(5),t.Q6J("hideAlerts",!0))},directives:[A.Dsw,A.kdW,A.p9J,J.lC,A.eIb,A.iyC],styles:[".login-layout[_ngcontent-%COMP%]{width:100vw;min-height:calc(100vh - 48px);display:flex;justify-content:center}.login-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#044e97;position:absolute;height:100%;width:100vw;top:0;left:0;z-index:1}.login-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-top-left[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:15vw;z-index:1}.login-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-bottom-right[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:45vw;z-index:1}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:2;position:relative;align-items:center;width:100%}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .cable{position:absolute;left:50%;z-index:-1;transform:translate(-50%);width:670px;height:670px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .space-drawing-register.cable{top:150px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .space-drawing-login.cable{top:80px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-outer{padding:15px;width:100%}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents{width:100%;max-width:512px;border-radius:8px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents.space-drawing-contents{position:relative}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents.space-drawing-contents .space-drawing{position:absolute}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents.space-drawing-contents .space-drawing.spaceman-login{top:-120px;left:calc(100% - 14px);width:330px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents.space-drawing-contents .space-drawing.spaceman-register{top:-120px;left:100%;width:330px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents.space-drawing-contents .space-drawing.rocket{bottom:-90px;right:calc(100% + 1px);width:300px}"]}),l})(),n=(()=>{class l{constructor(o){this.translateService=o,this.accountMenuItems=[]}ngOnInit(){this.accountMenuItems=[{text:this.translateService.stream("HEADER_NAVBAR.PROFILE"),link:"/profile/general",children:[{text:this.translateService.stream("HEADER_NAVBAR.PROFILE_GENERAL"),link:"/profile/general"},{text:this.translateService.stream("HEADER_NAVBAR.PROFILE_IDENTITY"),link:"/profile/identity"},{text:this.translateService.stream("HEADER_NAVBAR.PREFERENCES"),link:["/profile/preferences"]},{text:this.translateService.stream("HEADER_NAVBAR.PROFILE_ADDRESSES"),link:["/profile/addresses"]},{text:this.translateService.stream("HEADER_NAVBAR.NOTIFICATIONS"),link:"/profile/notifications"}]},{text:this.translateService.stream("HEADER_NAVBAR.PAYMENT_METHODS"),link:["/payment-methods","general"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES"),link:["/referrals"],children:[{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_LINKS"),link:["/referrals/links"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_ACTIVITY"),link:["/referrals/activity"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_PAYOUTS"),link:["/referrals/payouts"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_RESOURCES"),click:()=>{window.open("https://support.bit2me.com/")}}]},{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_GENERAL"),link:["/security"],children:[{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_PASSWORD"),link:["/security/password"]},{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_2FA"),link:["/security/2fa"]},{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_SESSIONS"),link:["/security/sessions"]}]}]}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(T.sK))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:1,consts:[["id","page-wrapper"],["serviceIconClass","b2msf-logo-account"],[3,"items"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"bngx-header-panel",1),t._UZ(2,"bngx-site-menu",2),t.TgZ(3,"bngx-header-options"),t._UZ(4,"bngx-header-buy-button")(5,"bngx-header-balance-button")(6,"bngx-header-services-button")(7,"bngx-header-notifications-button")(8,"bngx-header-profile-button"),t.qZA()(),t._UZ(9,"router-outlet")(10,"bngx-footer")(11,"bngx-chat-bubble"),t.qZA()),2&o&&(t.xp6(2),t.Q6J("items",c.accountMenuItems))},directives:[A.Dsw,A.X$7,A.kdW,A.OSK,A.dWV,A.twX,A.ta$,A.b$X,J.lC,A.eIb,A.iyC],encapsulation:2}),l})();var i=f(2686),X=f(65273),Y=f(39152),z=f(22454),k=f(36362),R=f(3565);function j(l,v){1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"SESSIONS_PAGE.CURRENT")))}const N=function(l){return{current:l}};function G(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"tr",14)(1,"td",15),t.ALo(2,"date"),t._uU(3),t.ALo(4,"async"),t.ALo(5,"timeAgo"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"button",16),t.NdJ("click",function(){const L=t.CHM(o).$implicit;return t.oxw().closeSession(L)}),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"td"),t.YNc(17,j,3,3,"span",17),t.qZA()()}if(2&l){const o=v.$implicit,c=t.oxw();t.Q6J("ngClass",t.VKq(18,N,o.current)),t.xp6(1),t.Q6J("title",t.xi3(2,9,o.creationTime,"long")),t.xp6(2),t.hij(" ",t.lcZ(4,12,t.lcZ(5,14,o.creationTime))," "),t.xp6(4),t.Oqu(c.parseUserAgent(o.userAgent)),t.xp6(2),t.Oqu(o.ip),t.xp6(2),t.AsE("",o.city," (",o.countryCode,")"),t.xp6(3),t.hij(" ",t.lcZ(15,16,"SESSIONS_PAGE.CLOSE_SESSION")," "),t.xp6(3),t.Q6J("ngIf",o.current)}}function ne(l,v){if(1&l&&(t.TgZ(0,"tr")(1,"td",15),t.ALo(2,"date"),t._uU(3),t.ALo(4,"async"),t.ALo(5,"timeAgo"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA()()),2&l){const o=v.$implicit,c=t.oxw();t.xp6(1),t.Q6J("title",t.xi3(2,6,o.creationTime,"long")),t.xp6(2),t.hij(" ",t.lcZ(4,9,t.lcZ(5,11,o.creationTime))," "),t.xp6(4),t.Oqu(c.parseUserAgent(o.userAgent)),t.xp6(2),t.Oqu(o.ip),t.xp6(2),t.AsE("",o.city," (",o.countryCode,")")}}let te=(()=>{class l{constructor(o,c,M,L){this.sessionsService=o,this.authService=c,this.modalService=M,this.translate=L,this.paginationActiveSessionsOffset=0,this.paginationHistorySessionsOffset=0,this.paginationLimit=10,this.activeSessions={data:[],total:0},this.currentActiveSessionsPage=1,this.currentHistorySessionsPage=1,this.currentTimestamp=(new Date).getTime(),this.historySessions={data:[],total:0},this.loadingActiveSessions=!1,this.loadingHistorySessions=!1}ngOnInit(){this.initCountryNames(),this.loadActiveSessions(),this.loadHistorySessions()}initCountryNames(){const{currentLang:o}=this.translate;this.countryNames=A.eec.getCountriesNames(o)}loadActiveSessions(){const o={offset:this.paginationActiveSessionsOffset,limit:this.paginationLimit,sort:"desc",filter:"active"};this.loadingActiveSessions=!0,this.sessionsService.getSessions(o).subscribe(c=>{this.loadingActiveSessions=!1,this.activeSessions=c,this.activeSessions.data=this.activeSessions.data.reverse().filter(M=>M.active)})}loadHistorySessions(){const o={offset:this.paginationHistorySessionsOffset,limit:this.paginationLimit,sort:"desc"};this.loadingHistorySessions=!0,this.sessionsService.getSessions(o).subscribe(c=>{this.loadingHistorySessions=!1,this.historySessions=c})}trackById(o,c){return c.id}closeSession(o){this.modalService.open(A.II9,{nzComponentParams:{title:this.translate.instant("SECURITY_SESSIONS_PAGE.CLOSE_SESSION_DIALOG.TITLE"),body:this.translate.instant("SECURITY_SESSIONS_PAGE.CLOSE_SESSION_DIALOG.BODY")}}).afterClose.subscribe(M=>{M&&this.sessionsService.closeActiveSession(o.id).subscribe(()=>{o.current?this.authService.signout():this.loadActiveSessions()})})}parseUserAgent(o){const c=new z.UAParser(o),M=c.getBrowser(),L=c.getOS();return o.includes("Bit2Me/")?`Bit2Me APP ${o.substr(o.indexOf("Bit2Me/")).replace("Bit2Me/","")} (${L.name})`:`${M.name} ${M.major} (${L.name})`}handleActiveSessionsPageChange(o){this.paginationActiveSessionsOffset=(o-1)*this.paginationLimit,this.loadActiveSessions()}handleHistorySessionsPageChange(o){this.paginationHistorySessionsOffset=(o-1)*this.paginationLimit,this.loadHistorySessions()}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.jVh),t.Y36(A.e80),t.Y36(A.Z7U),t.Y36(T.sK))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:67,vars:44,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],[1,"py-4"],[1,"title"],["context","fullcomponent",1,"table-wrapper",3,"bngxLoadingLayer"],[1,"table","table-striped"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzTotal","nzPageIndex","nzPageIndexChange"],[3,"ngClass"],[3,"title"],[1,"b2m-btn","btn-link","mr-0",3,"click"],[4,"ngIf"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"section",6)(9,"h5",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",8)(13,"table",9)(14,"thead")(15,"tr")(16,"th",10)(17,"strong"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"th",10)(21,"strong"),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"th",10)(25,"strong"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"th",10)(29,"strong"),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"th",10)(33,"strong"),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"th",10),t._uU(37,"\xa0"),t.qZA()()(),t.TgZ(38,"tbody"),t.YNc(39,G,18,20,"tr",11),t.qZA()()()(),t.TgZ(40,"section",6)(41,"h5",7),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",8)(45,"table",9)(46,"thead")(47,"tr")(48,"th",10)(49,"strong"),t._uU(50),t.ALo(51,"translate"),t.qZA()(),t.TgZ(52,"th",10)(53,"strong"),t._uU(54),t.ALo(55,"translate"),t.qZA()(),t.TgZ(56,"th",10)(57,"strong"),t._uU(58),t.ALo(59,"translate"),t.qZA()(),t.TgZ(60,"th",10)(61,"strong"),t._uU(62),t.ALo(63,"translate"),t.qZA()()()(),t.TgZ(64,"tbody"),t.YNc(65,ne,12,13,"tr",12),t.qZA()()(),t.TgZ(66,"nz-pagination",13),t.NdJ("nzPageIndexChange",function(L){return c.handleHistorySessionsPageChange(L)})("nzPageIndexChange",function(L){return c.currentHistorySessionsPage=L}),t.qZA()()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,20,"SESSIONS_PAGE.TITLE")),t.xp6(5),t.Oqu(t.lcZ(11,22,"SESSIONS_PAGE.ACTIVE_SESSIONS")),t.xp6(2),t.Q6J("bngxLoadingLayer",c.loadingActiveSessions),t.xp6(6),t.Oqu(t.lcZ(19,24,"SESSIONS_PAGE.TABLE.TH.SESSION_STARTED")),t.xp6(4),t.Oqu(t.lcZ(23,26,"SESSIONS_PAGE.TABLE.TH.BROWSER")),t.xp6(4),t.Oqu(t.lcZ(27,28,"SESSIONS_PAGE.TABLE.TH.IP_ADDRESS")),t.xp6(4),t.Oqu(t.lcZ(31,30,"SESSIONS_PAGE.TABLE.TH.LOCATION")),t.xp6(4),t.Oqu(t.lcZ(35,32,"SESSIONS_PAGE.TABLE.TH.ACTIONS")),t.xp6(5),t.Q6J("ngForOf",c.activeSessions.data)("ngForTrackBy",c.trackById),t.xp6(3),t.Oqu(t.lcZ(43,34,"SESSIONS_PAGE.HISTORY")),t.xp6(2),t.Q6J("bngxLoadingLayer",c.loadingHistorySessions),t.xp6(6),t.Oqu(t.lcZ(51,36,"SESSIONS_PAGE.TABLE.TH.SESSION_STARTED")),t.xp6(4),t.Oqu(t.lcZ(55,38,"SESSIONS_PAGE.TABLE.TH.BROWSER")),t.xp6(4),t.Oqu(t.lcZ(59,40,"SESSIONS_PAGE.TABLE.TH.IP_ADDRESS")),t.xp6(4),t.Oqu(t.lcZ(63,42,"SESSIONS_PAGE.TABLE.TH.LOCATION")),t.xp6(3),t.Q6J("ngForOf",c.historySessions.data)("ngForTrackBy",c.trackById),t.xp6(1),t.Q6J("nzTotal",c.historySessions.total)("nzPageIndex",c.currentHistorySessionsPage))},directives:[A.gO3,k.sg,k.mk,k.O5,R.dE],pipes:[T.X$,k.uU,k.Ov,A.eGd],styles:[".table[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0}.table[_ngcontent-%COMP%]   tr.current[_ngcontent-%COMP%]{outline:1px solid #7ec67f;outline-offset:-1px}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f3f6f9}.pagination[_ngcontent-%COMP%]{color:#004f9a}.pagination[_ngcontent-%COMP%]   .page-item.prev-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .page-item.next-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #dde2e6;border-radius:0}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#004f9a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;background-color:#fff}.table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;font-size:14px;line-height:20px;border:0}.card-page-inner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:20px;height:auto;font-weight:400;text-align:left}"]}),l})();var me=f(29527),ee=f(68951),q=f(90587),U=f(26540);function Ze(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const Ne=function(l){return{value:l}};function Et(l,v){if(1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const o=t.oxw();let c;t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.VKq(4,Ne,null==o.codeForm||null==(c=o.codeForm.get("label"))||null==c.errors||null==c.errors.maxlength?null:c.errors.maxlength.requiredLength))," ")}}const bt=function(l){return{submitted:l}};let Mt=(()=>{class l{constructor(o,c,M,L,B,ie,pe){this.nzModalRef=o,this.formBuilder=c,this.translate=M,this.notificationService=L,this.codeService=B,this.urlService=ie,this.authService=pe,this.disableInput=!1,this.submitting=!1,this.canDismiss=!1,this.writtenKeyIsChecked=!1}ngOnInit(){this.codeForm=this.formBuilder.group({label:[this.code.label,[q.kI.required,q.kI.maxLength(30)]]})}updateCode(){if(this.codeForm.invalid)return;this.submitting=!0;const o=this.codeForm.value;this.codeService.updateCodeName(this.code.id,o).subscribe(()=>{this.submitting=!1,this.notificationService.success(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.EDIT.SUCCESS")),this.nzModalRef.close(o.label)},()=>{this.submitting=!1,this.notificationService.error(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.EDIT.ERROR"))})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(U.Lf),t.Y36(q.qu),t.Y36(T.sK),t.Y36(A.TFo),t.Y36(A.$T3),t.Y36(A.iOJ),t.Y36(A.e80))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],inputs:{code:"code"},decls:21,vars:21,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngClass","ngSubmit"],["codeFormTemplate","ngForm"],[1,"form-group","mt-0"],["type","text","formControlName","label","max-length","30","autofocus","",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","w-100","mr-0","mb-2",3,"disabled","bngxLoadingLayer"]],template:function(o,c){if(1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){return c.updateCode()}),t.TgZ(7,"fieldset",5)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",6),t.ALo(12,"translate"),t.TgZ(13,"div"),t._uU(14),t.qZA(),t.TgZ(15,"div",7),t.YNc(16,Ze,3,3,"div",8),t.YNc(17,Et,3,6,"div",8),t.qZA()(),t.TgZ(18,"button",9),t._uU(19),t.ALo(20,"translate"),t.qZA()()()),2&o){const M=t.MAs(6);let L,B,ie;t.xp6(2),t.Oqu(t.lcZ(3,11,"AFFILIATES_CODES_PAGE.DIALOGS.EDIT.HEADER")),t.xp6(3),t.Q6J("formGroup",c.codeForm)("ngClass",t.VKq(19,bt,M.submitted)),t.xp6(4),t.Oqu(t.lcZ(10,13,"AFFILIATES_CODES_PAGE.DIALOGS.EDIT.LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(12,15,"AFFILIATES_CODES_PAGE.DIALOGS.EDIT.PLACEHOLDER")),t.xp6(3),t.hij("",null==c.codeForm||null==(L=c.codeForm.get("label"))||null==L.value?null:L.value.length," / 30"),t.xp6(2),t.Q6J("ngIf",null==c.codeForm||null==(B=c.codeForm.get("label"))||null==B.errors?null:B.errors.required),t.xp6(1),t.Q6J("ngIf",null==c.codeForm||null==(ie=c.codeForm.get("label"))||null==ie.errors?null:ie.errors.maxlength),t.xp6(1),t.Q6J("disabled",c.submitting)("bngxLoadingLayer",c.submitting),t.xp6(1),t.hij(" ",t.lcZ(20,17,"BUTTONS.ACCEPT")," ")}},directives:[q._Y,q.JL,q.sg,k.mk,q.Fj,q.JJ,q.u,A.Uqp,k.O5,A.gO3],pipes:[T.X$],styles:[""]}),l})();function nt(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const It=function(){return{value:30}};function Le(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.DdM(4,It))," "))}function we(l,v){if(1&l&&(t.TgZ(0,"div",9),t.YNc(1,nt,3,3,"div",10),t.YNc(2,Le,3,5,"div",10),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.codeForm||null==o.codeForm.controls||null==o.codeForm.controls.label?null:o.codeForm.controls.label.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.codeForm||null==o.codeForm.controls||null==o.codeForm.controls.label?null:o.codeForm.controls.label.errors.maxlength)}}const it=function(l){return{submitted:l}};let xt=(()=>{class l{constructor(o,c,M,L,B,ie,pe){this.nzModalRef=o,this.formBuilder=c,this.notificationService=M,this.translate=L,this.codeService=B,this.urlService=ie,this.authService=pe,this.disableInput=!1,this.submitting=!1,this.canDismiss=!1,this.writtenKeyIsChecked=!1}ngOnInit(){this.codeForm=this.formBuilder.group({label:["",[q.kI.required,q.kI.maxLength(30)]]})}submitCode(){this.codeForm.invalid||(this.submitting=!0,this.codeService.create(this.codeForm.value).subscribe(c=>{this.submitting=!1,this.notificationService.success(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.CREATE.SUCCESS")),this.nzModalRef.close(c)},c=>{this.submitting=!1,this.notificationService.error(this.translate.instant(406===c.status?"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.ERROR_LIMIT":"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.ERROR"))}))}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(U.Lf),t.Y36(q.qu),t.Y36(A.TFo),t.Y36(T.sK),t.Y36(A.$T3),t.Y36(A.iOJ),t.Y36(A.e80))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:17,vars:19,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngClass","ngSubmit"],["codeFormTemplate","ngForm"],[1,"form-group","mt-0"],["type","text","autofocus","","formControlName","label","max-length","30",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","w-100","mr-0","mb-2",3,"disabled","bngxLoadingLayer"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,c){if(1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",2)(5,"form",3,4),t.NdJ("ngSubmit",function(){return c.submitCode()}),t.TgZ(7,"fieldset",5)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",6),t.ALo(12,"translate"),t.YNc(13,we,3,2,"div",7),t.qZA(),t.TgZ(14,"button",8),t._uU(15),t.ALo(16,"translate"),t.qZA()()()),2&o){const M=t.MAs(6);t.xp6(2),t.Oqu(t.lcZ(3,9,"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.HEADER")),t.xp6(3),t.Q6J("formGroup",c.codeForm)("ngClass",t.VKq(17,it,M.submitted)),t.xp6(4),t.Oqu(t.lcZ(10,11,"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(12,13,"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.PLACEHOLDER")),t.xp6(2),t.Q6J("ngIf",null==c.codeForm||null==c.codeForm.controls||null==c.codeForm.controls.label?null:c.codeForm.controls.label.errors),t.xp6(1),t.Q6J("disabled",c.submitting)("bngxLoadingLayer",c.submitting),t.xp6(1),t.hij(" ",t.lcZ(16,15,"BUTTONS.CREATE")," ")}},directives:[q._Y,q.JL,q.sg,k.mk,q.Fj,A.Uqp,q.JJ,q.u,k.O5,A.gO3],pipes:[T.X$],styles:[""]}),l})();var ot=f(60116);function rt(l,v){1&l&&(t.TgZ(0,"p",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.DESCRIPTION")," "))}function Ve(l,v){1&l&&(t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"p",11),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"button",12),t.qZA()),2&l&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.DOCUMENT_TYPE_ERROR"),t.oJD))}function St(l,v){if(1&l&&(t.TgZ(0,"table",13)(1,"thead"),t._UZ(2,"th",14),t.qZA(),t.TgZ(3,"tbody")(4,"tr")(5,"td",15),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",15),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()(),t.TgZ(16,"tr")(17,"td",15),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA()(),t.TgZ(22,"tr")(23,"td",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA()(),t.TgZ(28,"tr")(29,"td",15),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"td"),t._uU(33),t.qZA()(),t.TgZ(34,"tr")(35,"td",15),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA()(),t.TgZ(40,"tr")(41,"td",15),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"td"),t._uU(45),t.qZA()(),t.TgZ(46,"tr")(47,"td",15),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"td"),t._uU(51),t.qZA()(),t.TgZ(52,"tr")(53,"td",15),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA()()()()),2&l){const o=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,18,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_BASE")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalBase," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(13,20,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_VAT")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalVat," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(19,22,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_PROFIT")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalProfit," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(25,24,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_TAX")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalTax," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(31,26,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.VAT_PERCENTAGE")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.vatPercentage," %"),t.xp6(3),t.Oqu(t.lcZ(37,28,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TAX_PERCENTAGE")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.taxPercentage," %"),t.xp6(3),t.Oqu(t.lcZ(43,30,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.FULL_ADDRESS")),t.xp6(3),t.Oqu(null==o.invoiceInfo?null:o.invoiceInfo.fullAddress),t.xp6(3),t.Oqu(t.lcZ(49,32,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.AMOUNT")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.amount," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(55,34,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.IDENTITY_NUMBER")),t.xp6(3),t.Oqu(o.selfInvoiceIdentityNumber)}}let Zt=(()=>{class l{constructor(o,c,M,L,B){this.nzModalRef=o,this.urlService=c,this.authService=M,this.affiliateService=L,this.currentUserStore=B,this.documentTypeError=!1}ngOnInit(){this.getInvoiceInfo();const{account:o}=this.currentUserStore.getCurrentUser();this.selfInvoiceIdentityNumber=o.selfInvoiceIdentityNumber}getInvoiceInfo(){this.loading=!0,this.affiliateService.getPayoutsInvoiceFiscalInfo().subscribe(o=>{this.invoiceInfo=o,this.invoiceInfo.fullAddress&&(this.invoiceInfo.fullAddress=this.formatFullAddress(this.invoiceInfo.fullAddress)),this.loading=!1},o=>{409===o.status&&(this.documentTypeError=!0),this.loading=!1})}formatFullAddress(o){return o.split(" | ").join(", ")}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(U.Lf),t.Y36(A.iOJ),t.Y36(A.e80),t.Y36(A.Oiz),t.Y36(A.Dk$))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:12,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["context","fullcomponent",1,"modal-body",3,"bngxLoadingLayer"],["class","description p-4 text-left",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["class","table table-striped mt-3 mb-3",4,"ngIf"],[1,"b2m-btn","btn-solid","mr-4",3,"click"],[1,"b2m-btn","btn-solid",3,"disabled","click"],[1,"description","p-4","text-left"],["role","alert",1,"alert","alert-info"],[1,"alert-contents"],[1,"p-4","text-left",3,"innerHTML"],["aria-label","Close","data-dismiss","alert",1,"close-btn"],[1,"table","table-striped","mt-3","mb-3"],["scope","row"],[1,"label"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",2),t.YNc(5,rt,3,3,"p",3),t.YNc(6,Ve,5,3,"div",4),t.YNc(7,St,58,36,"table",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return c.nzModalRef.close("cancel")}),t._uU(9,"CANCEL"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return c.nzModalRef.close("proceed")}),t._uU(11,"OK"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.HEADER")),t.xp6(2),t.Q6J("bngxLoadingLayer",c.loading),t.xp6(1),t.Q6J("ngIf",!c.documentTypeError),t.xp6(1),t.Q6J("ngIf",c.documentTypeError),t.xp6(1),t.Q6J("ngIf",!c.documentTypeError),t.xp6(3),t.Q6J("disabled",c.documentTypeError))},directives:[A.gO3,k.O5],pipes:[T.X$],styles:[".modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{background-color:#0000000f}.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:300px}.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600}.alert[_ngcontent-%COMP%]{width:100%;padding-left:20px}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}"]}),l})();var Pe=f(84083),Lt=f(92938),Ue=f.n(Lt),at=f(30600),Oe=f(88660);function K(l,v){if(1&l&&(t.TgZ(0,"ng-option",26),t._uU(1),t.qZA()),2&l){const o=v.$implicit;t.Q6J("value",o.key),t.xp6(1),t.Oqu(o.value)}}function Rt(l,v){if(1&l&&(t.TgZ(0,"ng-option",26),t._uU(1),t.qZA()),2&l){const o=v.$implicit;t.Q6J("value",o.fips),t.xp6(1),t.Oqu(o.name)}}function st(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function yt(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function ze(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Ee(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Dt(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function be(l,v){1&l&&(t.TgZ(0,"div",20)(1,"p",27),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ul")(5,"li"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"li"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.ALo(13,"translate"),t.qZA()()()),2&l&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"ADD_ADDRESS_DIALOG.IDENTITY_DISCLAIMER")),t.xp6(4),t.Oqu(t.lcZ(7,6,"ADD_ADDRESS_DIALOG.IDENTITY_SPAIN")),t.xp6(3),t.Oqu(t.lcZ(10,8,"ADD_ADDRESS_DIALOG.IDENTITY_EUROPE")),t.xp6(3),t.Oqu(t.lcZ(13,10,"ADD_ADDRESS_DIALOG.IDENTITY_OTHER")))}function Fe(l,v){1&l&&(t.TgZ(0,"div",20),t._UZ(1,"p",28),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"ADD_ADDRESS_DIALOG.IDENTITY_LEGACY"),t.oJD))}const Nt=function(l){return{submitted:l}};let lt=(()=>{class l{constructor(o,c,M,L,B){this.formBuilder=o,this.translateService=c,this.commonService=M,this.addressService=L,this.currentUserStore=B,this.validAlias=!0,this.countryList=Pe.getNames(this.translateService.currentLang),this.submitting=!1}ngOnInit(){this.invoiceDataForm=this.formBuilder.group({country:[null,[q.kI.required,q.kI.maxLength(2)]],state:[null,[q.kI.required,q.kI.maxLength(64)]],city:["",[q.kI.required,q.kI.maxLength(64)]],street:["",[q.kI.required,q.kI.maxLength(128)]],zip:["",[q.kI.required,q.kI.maxLength(16)]],selfInvoiceIdentityNumber:["",[q.kI.required]]}),this.invoiceDataForm.get("country").disable(),this.invoiceDataForm.get("state").disable(),this.setUserData()}setUserData(){const{account:o}=this.currentUserStore.user;let{country:c,state:M,city:L,street:B,zip:ie}=o.address;this.addressService.getAddresses({isResidence:!0}).pipe().subscribe(pe=>{var he;this.residence=pe[0],this.residence&&!Ue().isEmpty(this.residence)&&(null===(he=this.residence)||void 0===he?void 0:he.countryCode)&&(this.commonService.regionsByCountryList(this.residence.countryCode,this.currentUserStore.user.getLangCode()).pipe().subscribe(le=>{this.statesList=le}),c=this.residence.countryCode,M=this.residence.stateCode,L=this.residence.city,B=this.residence.streetAddress,ie=this.residence.zip),c&&M&&L&&this.invoiceDataForm.setValue({country:c,state:M,city:L,street:B,zip:ie,selfInvoiceIdentityNumber:o.selfInvoiceIdentityNumber||""})})}setStatesList(o){!o||this.commonService.regionsByCountryList(o,this.currentUserStore.user.getLangCode()).pipe().subscribe(c=>{this.statesList=c})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(q.qu),t.Y36(T.sK),t.Y36(A.v_H),t.Y36(at.D),t.Y36(A.Dk$))},l.\u0275cmp=t.Xpm({type:l,selectors:[["b2m-dialog-add-address"]],decls:68,vars:60,consts:[[1,"modal-header"],[1,"modal-title"],[1,"login-form",3,"formGroup","ngClass"],["invoiceDataFormTemplate","ngForm"],[1,"modal-body"],[1,"form-group"],["for","country"],["formControlName","country",1,"b2m-select",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["for","state"],["formControlName","state",1,"b2m-select",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["for","city"],["type","text","name","city","id","city","maxlength","64","formControlName","city","disabled","",3,"placeholder"],["for","street"],["type","text","name","street","id","street","maxlength","128","formControlName","street","disabled","",3,"placeholder"],["for","zip"],["type","text","name","zip","id","zip","maxlength","16","formControlName","zip","disabled","",3,"placeholder"],["role","alert",1,"alert","alert-info"],[1,"alert-contents"],[3,"innerHTML"],["for","selfInvoiceIdentityNumber"],["type","text","name","selfInvoiceIdentityNumber","id","selfInvoiceIdentityNumber","formControlName","selfInvoiceIdentityNumber","disabled","",3,"placeholder"],["class","alert-contents",4,"ngIf"],["aria-label","Close","data-dismiss","alert",1,"close-btn"],[3,"value"],[1,"mb-1"],[1,"mb-1",3,"innerHTML"]],template:function(o,c){if(1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"form",2,3)(6,"div",4)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"fieldset")(11,"div",5)(12,"label",6),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"ng-select",7),t.ALo(16,"translate"),t.YNc(17,K,2,2,"ng-option",8),t.ALo(18,"keyvalue"),t.qZA()(),t.TgZ(19,"div",5)(20,"label",9),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"ng-select",10),t.ALo(24,"translate"),t.YNc(25,Rt,2,2,"ng-option",8),t.qZA(),t.TgZ(26,"div",11),t.YNc(27,st,3,3,"div",12),t.qZA()(),t.TgZ(28,"div",5)(29,"label",13),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"input",14),t.ALo(33,"translate"),t.TgZ(34,"div",11),t.YNc(35,yt,3,3,"div",12),t.qZA()(),t.TgZ(36,"div",5)(37,"label",15),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",16),t.ALo(41,"translate"),t.TgZ(42,"div",11),t.YNc(43,ze,3,3,"div",12),t.qZA()(),t.TgZ(44,"div",5)(45,"label",17),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"input",18),t.ALo(49,"translate"),t.TgZ(50,"div",11),t.YNc(51,Ee,3,3,"div",12),t.qZA()(),t.TgZ(52,"div",19)(53,"div",20),t._UZ(54,"p",21),t.ALo(55,"translate"),t.qZA()(),t.TgZ(56,"div",5)(57,"label",22),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._UZ(60,"input",23),t.ALo(61,"translate"),t.TgZ(62,"div",11),t.YNc(63,Dt,3,3,"div",12),t.qZA()(),t.TgZ(64,"div",19),t.YNc(65,be,14,12,"div",24),t.YNc(66,Fe,3,3,"div",24),t._UZ(67,"button",25),t.qZA()()()()),2&o){const M=t.MAs(5);t.xp6(2),t.Oqu(t.lcZ(3,26,"ADD_ADDRESS_DIALOG.TITLE")),t.xp6(2),t.Q6J("formGroup",c.invoiceDataForm)("ngClass",t.VKq(58,Nt,M.submitted)),t.xp6(4),t.Oqu(t.lcZ(9,28,"ADD_ADDRESS_DIALOG.DESCRIPTION")),t.xp6(5),t.Oqu(t.lcZ(14,30,"ADD_ADDRESS_DIALOG.COUNTRY_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(16,32,"ADD_ADDRESS_DIALOG.COUNTRY_LABEL")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(18,34,c.countryList)),t.xp6(4),t.Oqu(t.lcZ(22,36,"ADD_ADDRESS_DIALOG.STATE_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(24,38,"ADD_ADDRESS_DIALOG.STATE_LABEL")),t.xp6(2),t.Q6J("ngForOf",c.statesList),t.xp6(2),t.Q6J("ngIf",null==c.invoiceDataForm.get("state").errors?null:c.invoiceDataForm.get("state").errors.required),t.xp6(3),t.Oqu(t.lcZ(31,40,"ADD_ADDRESS_DIALOG.CITY_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(33,42,"ADD_ADDRESS_DIALOG.CITY_LABEL")),t.xp6(3),t.Q6J("ngIf",null==c.invoiceDataForm.get("city").errors?null:c.invoiceDataForm.get("city").errors.required),t.xp6(3),t.Oqu(t.lcZ(39,44,"ADD_ADDRESS_DIALOG.STREET_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(41,46,"ADD_ADDRESS_DIALOG.STREET_LABEL")),t.xp6(3),t.Q6J("ngIf",null==c.invoiceDataForm.get("street").errors?null:c.invoiceDataForm.get("street").errors.required),t.xp6(3),t.Oqu(t.lcZ(47,48,"ADD_ADDRESS_DIALOG.ZIP_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(49,50,"ADD_ADDRESS_DIALOG.ZIP_LABEL")),t.xp6(3),t.Q6J("ngIf",null==c.invoiceDataForm.get("zip").errors?null:c.invoiceDataForm.get("zip").errors.required),t.xp6(3),t.Q6J("innerHTML",t.lcZ(55,52,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.CANNOT_EDIT.MESSAGE"),t.oJD),t.xp6(4),t.Oqu(t.lcZ(59,54,"ADD_ADDRESS_DIALOG.IDENTITY_NUMBER_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(61,56,"ADD_ADDRESS_DIALOG.IDENTITY_NUMBER_LABEL")),t.xp6(3),t.Q6J("ngIf",null==c.invoiceDataForm.get("selfInvoiceIdentityNumber").errors?null:c.invoiceDataForm.get("selfInvoiceIdentityNumber").errors.required),t.xp6(2),t.Q6J("ngIf",c.invoiceDataForm.get("selfInvoiceIdentityNumber").value),t.xp6(1),t.Q6J("ngIf",!c.invoiceDataForm.get("selfInvoiceIdentityNumber").value)}},directives:[q._Y,q.JL,q.sg,k.mk,Oe.w9,q.JJ,q.u,k.sg,Oe.jq,k.O5,q.Fj,q.nD],pipes:[T.X$,k.Nd],styles:[".valid[_ngcontent-%COMP%]{color:#28af12}.not-valid[_ngcontent-%COMP%]{color:#dc0006}.alert[_ngcontent-%COMP%]{width:100%;padding-left:20px}.alert[_ngcontent-%COMP%]   .alert-contents[_ngcontent-%COMP%]{margin-top:30px}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}"]}),l})();const ct=function(l){return{value:l}};function wt(l,v){if(1&l&&(t.TgZ(0,"button",6)(1,"div",7)(2,"div",8),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",10)(5,"span",11)(6,"b"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"span",11),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()),2&l){const o=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_1")),t.xp6(3),t.hij(" ",t.xi3(11,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_1",t.VKq(7,ct,o.minWithdrawal))," ")}}function Ut(l,v){if(1&l&&(t.TgZ(0,"div",12)(1,"div",8),t._UZ(2,"img",13),t.qZA(),t.TgZ(3,"div",10)(4,"span",11)(5,"b"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"span",11),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&l){const o=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_1")),t.xp6(3),t.Oqu(t.xi3(10,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_1_OK",t.VKq(7,ct,o.minWithdrawal)))}}function Ft(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().openOnboardingDialog()}),t.TgZ(1,"div",7)(2,"div",8),t._UZ(3,"img",15),t.qZA(),t.TgZ(4,"div",10)(5,"span",11)(6,"b"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"span",11),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",16),t._UZ(13,"i",17),t.qZA()()}2&l&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_2")),t.xp6(3),t.hij(" ",t.lcZ(11,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_2")," "))}function qt(l,v){1&l&&(t.TgZ(0,"div",12)(1,"div",8),t._UZ(2,"img",18),t.qZA(),t.TgZ(3,"div",10)(4,"span",11)(5,"b"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"span",11),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&l&&(t.xp6(6),t.Oqu(t.lcZ(7,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_2")),t.xp6(3),t.Oqu(t.lcZ(10,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_2_OK")))}function kt(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().openAddAddressDialog()}),t.TgZ(1,"div",7)(2,"div",8),t._UZ(3,"img",19),t.qZA(),t.TgZ(4,"div",10)(5,"span",11)(6,"b"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"span",11),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",16),t._UZ(13,"i",17),t.qZA()()}2&l&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_3")),t.xp6(3),t.hij(" ",t.lcZ(11,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_3")," "))}function Me(l,v){1&l&&(t.TgZ(0,"div",12)(1,"div",8),t._UZ(2,"img",20),t.qZA(),t.TgZ(3,"div",10)(4,"span",11)(5,"b"),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"span",11),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&l&&(t.xp6(6),t.Oqu(t.lcZ(7,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_3")),t.xp6(3),t.Oqu(t.lcZ(10,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_3_OK")))}let dt=(()=>{class l{constructor(o,c,M,L){this.urlService=o,this.modalService=c,this.currentUserStore=M,this.affiliatesService=L,this.isInvoiceConfigSet=!1,this.isLoading=!0,this.addressLinked=new t.vpe,this.success=!1}ngOnInit(){this.getSettings(),this.checkInvoiceInfo()}openOnboardingDialog(){this.modalService.open(A.qt9)}openAddAddressDialog(){this.identityVerified&&this.modalService.open(lt).afterClose.subscribe(c=>{c&&(this.isInvoiceConfigSet=!0,this.addressLinked.emit(!0))})}checkInvoiceInfo(){const{account:o}=this.currentUserStore.user;o.selfInvoiceIdentityNumber&&(this.isInvoiceConfigSet=!0)}getSettings(){this.affiliatesService.getSettings().subscribe(o=>{this.isLoading=!1,this.minWithdrawal=Number(o.minimumWithdrawal)})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.iOJ),t.Y36(A.Z7U),t.Y36(A.Dk$),t.Y36(A.Oiz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["bngx-withdraw-affiliate-benefits-steps"]],inputs:{benefits:"benefits",identityVerified:"identityVerified"},outputs:{addressLinked:"addressLinked"},decls:15,vars:10,consts:[["context","fullcomponent",1,"step-wrapper",3,"bngxLoadingLayer"],[1,"pb-4"],[1,"conditions"],["class","d-flex justify-content-between align-items-center w-100 benefits",4,"ngIf"],["class","success d-flex justify-content-start align-items-center",4,"ngIf"],["class","d-flex justify-content-between align-items-center w-100",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","w-100","benefits"],[1,"contents-wrapper","d-flex","align-items-center","justify-content-start"],[1,"image-wrapper"],["src","../../../../assets/images/withdraw-conditions/coins-blue.svg"],[1,"container-text"],[1,"text-wrapper"],[1,"success","d-flex","justify-content-start","align-items-center"],["src","../../../../assets/images/withdraw-conditions/coins-tick.svg","alt",""],[1,"d-flex","justify-content-between","align-items-center","w-100",3,"click"],["src","../../../../assets/images/withdraw-conditions/user-blue.svg"],[1,"icon-wrapper"],[1,"b2msf-chevron-right"],["src","../../../../assets/images/withdraw-conditions/user-tick.svg"],["src","../../../../assets/images/withdraw-conditions/pointer-blue.svg"],["src","../../../../assets/images/withdraw-conditions/pointer-tick.svg"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ul",2)(6,"li"),t.YNc(7,wt,12,9,"button",3),t.YNc(8,Ut,11,9,"div",4),t.qZA(),t.TgZ(9,"li"),t.YNc(10,Ft,14,6,"button",5),t.YNc(11,qt,11,6,"div",4),t.qZA(),t.TgZ(12,"li"),t.YNc(13,kt,14,6,"button",5),t.YNc(14,Me,11,6,"div",4),t.qZA()()()()),2&o&&(t.Q6J("bngxLoadingLayer",c.isLoading),t.xp6(3),t.hij(" ",t.lcZ(4,8,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.DESCRIPTION")," "),t.xp6(4),t.Q6J("ngIf",c.benefits<c.minWithdrawal),t.xp6(1),t.Q6J("ngIf",c.benefits>=c.minWithdrawal),t.xp6(2),t.Q6J("ngIf",!c.identityVerified),t.xp6(1),t.Q6J("ngIf",c.identityVerified),t.xp6(2),t.Q6J("ngIf",!c.isInvoiceConfigSet),t.xp6(1),t.Q6J("ngIf",c.isInvoiceConfigSet))},directives:[A.gO3,k.O5],pipes:[T.X$],styles:[".container-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container-text[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{text-align:left;display:flex}img[_ngcontent-%COMP%]{margin-top:20px;max-width:140px;margin-bottom:10px}h6[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700;text-transform:uppercase}.date[_ngcontent-%COMP%]{color:#044e97;font-size:.8rem}ul.conditions[_ngcontent-%COMP%]{margin:20px 0 0;padding:0;list-style:none}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:22px}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{line-height:inherit;display:block}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 0;flex-direction:row;border:0 solid transparent}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.benefits[_ngcontent-%COMP%]{cursor:default}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .contents-wrapper[_ngcontent-%COMP%]{padding:10px 0}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .contents-wrapper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:2rem;margin-right:10px;text-align:center;flex-grow:0;flex-shrink:0}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .contents-wrapper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:5px}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#044e971a}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{padding:10px 0;color:#009245}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:2rem;margin-right:10px;text-align:center;flex-grow:0;flex-shrink:0}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto}"]}),l})();function gt(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"bngx-withdraw-affiliate-benefits-steps",5),t.NdJ("addressLinked",function(M){return t.CHM(o),t.oxw().onAddressLinked(M)}),t.qZA()}if(2&l){const o=t.oxw();t.Q6J("benefits",o.earnings)("identityVerified",o.isVerified)}}function Gt(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Yt(l,v){if(1&l&&(t.TgZ(0,"div",12),t.YNc(1,Gt,3,3,"div",11),t.qZA()),2&l){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==o.pocketForm||null==o.pocketForm.controls||null==o.pocketForm.controls.pocketId?null:o.pocketForm.controls.pocketId.errors.required)}}function Jt(l,v){1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"BUTTONS.WITHDRAW")," "))}const Qt=function(l){return{submitted:l}},Vt=function(l){return{value:l}},pt=function(){return["EUR"]};function ut(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"form",6,7),t.NdJ("ngSubmit",function(){return t.CHM(o),t.oxw().withdrawEarnings()}),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"bngx-pocket-control",8),t.YNc(6,Yt,2,1,"div",9),t.TgZ(7,"button",10),t.YNc(8,Jt,3,3,"span",11),t.qZA()()}if(2&l){const o=t.MAs(1),c=t.oxw();t.Q6J("formGroup",c.pocketForm)("ngClass",t.VKq(11,Qt,o.submitted)),t.xp6(3),t.Oqu(t.xi3(4,8,"AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.TEXT",t.VKq(13,Vt,c.earnings))),t.xp6(2),t.Q6J("allowedCurrencies",t.DdM(15,pt)),t.xp6(1),t.Q6J("ngIf",null==c.pocketForm||null==c.pocketForm.controls||null==c.pocketForm.controls.pocket?null:c.pocketForm.controls.pocket.errors),t.xp6(1),t.Q6J("disabled",c.submitting||!(null!=c.pockets&&c.pockets.length)||!(null!=c.pocketForm&&null!=c.pocketForm.controls&&null!=c.pocketForm.controls.pocketId&&c.pocketForm.controls.pocketId.value))("bngxLoadingLayer",c.submitting),t.xp6(1),t.Q6J("ngIf",!c.submitting)}}let _t=(()=>{class l{constructor(o,c,M,L,B,ie,pe,he,le){this.nzModalRef=o,this.pocketService=c,this.affiliatesService=M,this.notificationService=L,this.translate=B,this.formBuilder=ie,this.authService=pe,this.modalService=he,this.currentUserStore=le,this.destroy=new O.x,this.submitting=!1}ngOnInit(){this.getSettings(),this.pocketForm=this.formBuilder.group({pocketId:["",[q.kI.required]]}),this.isVerified=this.authService.isVerified([A.Dzy.email,A.Dzy.identity,A.Dzy.phone]),this.observeVerificationState(),this.getUserPockets(),this.loadFirstPocket(),this.checkInvoiceInfoSet()}getUserPockets(){this.pocketService.subject.subscribe(()=>{this.pockets=this.pocketService.getPockets(["EUR"])})}loadFirstPocket(){this.pockets.length&&this.pocketForm.get("pocketId").setValue(this.pockets[0].id)}observeVerificationState(){this.authService.tokenSubject.pipe((0,ot.h)(()=>!this.isVerified),(0,ee.R)(this.destroy)).subscribe(()=>{this.isVerified=this.authService.isVerified([A.Dzy.email,A.Dzy.identity,A.Dzy.phone])})}onAddressLinked(o){o&&(this.userHasSetInvoiceInfo=!0)}withdrawEarnings(){this.pocketForm.invalid||this.earnings<this.minWithdrawal||!this.isVerified||!this.userHasSetInvoiceInfo||this.modalService.open(Zt).afterClose.subscribe(c=>{"proceed"===c&&(this.submitting=!0,this.affiliatesService.requestPayout(this.pocketForm.value).subscribe(L=>{this.submitting=!1,this.notificationService.success(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.SUCCESS")),this.nzModalRef.close(L)},()=>{this.submitting=!1,this.notificationService.error(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.ERROR"))}))})}checkInvoiceInfoSet(){const{account:o}=this.currentUserStore.user;o.selfInvoiceIdentityNumber&&(this.userHasSetInvoiceInfo=!0)}getSettings(){this.affiliatesService.getSettings().subscribe(o=>{this.minWithdrawal=Number(o.minimumWithdrawal)})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(U.Lf),t.Y36(A.xHo),t.Y36(A.Oiz),t.Y36(A.TFo),t.Y36(T.sK),t.Y36(q.qu),t.Y36(A.e80),t.Y36(A.Z7U),t.Y36(A.Dk$))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:7,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"benefits","identityVerified","addressLinked",4,"ngIf"],[3,"formGroup","ngClass","ngSubmit",4,"ngIf"],[3,"benefits","identityVerified","addressLinked"],[3,"formGroup","ngClass","ngSubmit"],["pocketFormTemplate","ngForm"],["formControlName","pocketId","bngxAutofocus","",3,"allowedCurrencies"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","w-100","mr-0","mt-2","mr-0","mb-2",3,"disabled","bngxLoadingLayer"],[4,"ngIf"],[1,"invalid-feedback"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",2),t.YNc(5,gt,1,2,"bngx-withdraw-affiliate-benefits-steps",3),t.YNc(6,ut,9,16,"form",4),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.HEADER")),t.xp6(3),t.Q6J("ngIf",!c.userHasSetInvoiceInfo||!c.isVerified||c.earnings<c.minWithdrawal),t.xp6(1),t.Q6J("ngIf",c.isVerified&&c.userHasSetInvoiceInfo&&c.earnings>=c.minWithdrawal))},directives:[k.O5,dt,q._Y,q.JL,q.sg,k.mk,A.cU2,q.JJ,q.u,A.av4,A.gO3],pipes:[T.X$],encapsulation:2}),l})();function Ie(l,v){if(1&l&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"number"),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,null==o.affiliateProfile?null:o.affiliateProfile.totalEarning))}}const zt=function(l){return{width:l}};function Bt(l,v){if(1&l&&(t.TgZ(0,"div",20)(1,"div",21)(2,"span",22),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",23),t.ALo(6,"translate"),t.ALo(7,"number"),t._uU(8),t.ALo(9,"shortNumber"),t.qZA()(),t.TgZ(10,"div",24)(11,"div",25),t._UZ(12,"div",26),t.qZA(),t.TgZ(13,"div",27)(14,"span",28),t.ALo(15,"translate"),t.ALo(16,"number"),t._uU(17),t.ALo(18,"number"),t.ALo(19,"translate"),t.qZA()()(),t.TgZ(20,"div",29)(21,"span",22),t._UZ(22,"i",30),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"span",23),t.ALo(26,"translate"),t.ALo(27,"number"),t.ALo(28,"translate"),t.ALo(29,"number"),t._uU(30),t.ALo(31,"shortNumber"),t.qZA()()()),2&l){const o=t.oxw();let c,M,L,B;t.xp6(1),t.MGl("ngClass","level-",null==o.affiliateProfile?null:o.affiliateProfile.level,""),t.xp6(2),t.AsE("",t.lcZ(4,19,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.LEVEL")," ",null==o.affiliateProfile?null:o.affiliateProfile.level,""),t.xp6(2),t.hYB("title","",t.lcZ(6,21,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.CURRENT_LEVEL_POINTS"),": ",t.Dn7(7,23,null==(c=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:c.currentLevel,"",o.lang),""),t.xp6(3),t.Oqu(t.lcZ(9,27,null==(M=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:M.currentLevel)),t.xp6(4),t.Q6J("ngStyle",t.VKq(57,zt,o.calculatePercentagePoints(null==o.affiliateProfile?null:o.affiliateProfile.level)+"%")),t.xp6(2),t.hYB("title","",t.lcZ(15,29,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.AFFILIATE_POINTS"),": ",t.Dn7(16,31,null==o.affiliateProfile?null:o.affiliateProfile.totalPoints,"",o.lang),""),t.xp6(3),t.AsE("",t.Dn7(18,35,null==o.affiliateProfile?null:o.affiliateProfile.totalPoints,"",o.lang)," ",t.lcZ(19,39,"AFFILIATES_CODES_PAGE.CODES_SECTION.POINTS"),""),t.xp6(3),t.MGl("ngClass","level-",(null==o.affiliateProfile?null:o.affiliateProfile.level)+1,""),t.xp6(3),t.AsE(" ",t.lcZ(24,41,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.LEVEL")," ",(null==o.affiliateProfile?null:o.affiliateProfile.level)+1," "),t.xp6(2),t.FAE("title","",t.lcZ(26,43,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.NEXT_LEVEL_POINTS"),": ",t.Dn7(27,45,null==(L=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:L.nextLevel,"",o.lang),"\r",t.lcZ(28,49,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.REMAINING_POINTS"),": ",t.Dn7(29,51,o.neededPointsForNextLvl(),"",o.lang)," "),t.xp6(5),t.Oqu(t.lcZ(31,55,null==(B=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:B.nextLevel))}}function ue(l,v){1&l&&(t.TgZ(0,"div",31)(1,"span",32),t._UZ(2,"i",33),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&l&&(t.xp6(3),t.hij("",t.lcZ(4,1,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.LEVEL")," 5"))}let qe=(()=>{class l{constructor(o,c,M){this.modalService=o,this.affiliatesService=c,this.translateService=M}ngOnInit(){this.getAffiliateProfile(),this.translateService.onLangChange.subscribe(()=>{})}getAffiliateProfile(){this.loading=!0,this.affiliatesService.getProfile().subscribe(o=>{this.getLevelConfig(),this.affiliateProfile=o},()=>{})}calculatePercentagePoints(o){if(!(o&&this.levelsConfig&&this.levelsConfig.length&&this.affiliateProfile))return null;const M=this.levelsConfig[o-1].pointsFrom;return 100*(this.affiliateProfile.totalPoints-M)/(this.levelsConfig[o-1].pointsTo-M)}getLevelConfig(){this.affiliatesService.getSettings().subscribe(o=>{this.loading=!1,this.levelsConfig=o.levels,this.minWithdrawal=Number(o.minimumWithdrawal)})}getRequiredPointsForLevel(o){return this.levelsConfig&&this.levelsConfig.length&&this.affiliateProfile?{currentLevel:this.levelsConfig[o].pointsFrom,nextLevel:this.levelsConfig[o].pointsTo}:null}openWithdrawDialog(){this.affiliateProfile&&(this.withdrawDialog=this.modalService.open(_t,{nzComponentParams:{earnings:this.affiliateProfile.totalEarning}}),this.withdrawDialog.afterClose.subscribe(o=>{o&&(this.affiliateProfile.totalEarning=0)}))}openShareLinkDialog(){this.modalService.open(A.NpZ)}neededPointsForNextLvl(){return this.levelsConfig&&this.levelsConfig.length&&this.affiliateProfile?this.levelsConfig[this.affiliateProfile.level-1].pointsTo-this.affiliateProfile.totalPoints:null}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Z7U),t.Y36(A.Oiz),t.Y36(T.sK))},l.\u0275cmp=t.Xpm({type:l,selectors:[["bngx-benefits-component"]],decls:52,vars:34,consts:[[1,"benefits-section"],[1,"table-wrapper-parent-loading-fix"],["context","fullcomponent",1,"row",3,"bngxLoadingLayer"],[1,"col-12","col-md-7","col-lg-5"],[1,"benefits"],["class","value",4,"ngIf"],[1,"levels"],["class","score-graph d-flex justify-content-between",4,"ngIf"],["class","max-score score-graph",4,"ngIf"],[1,"col-12","col-md-5","col-lg-7"],[1,"action-box","d-flex","justify-content-between"],[1,"b2m-btn","btn-line","m-0",3,"click"],["aria-hidden","true",1,"b2msf-coin","mr-1"],[1,"b2m-btn","btn-solid","m-0",3,"click"],["aria-hidden","true",1,"b2msf-share","mr-1"],[1,"levels-info"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"affiliates-number"],[1,"hierarchy"],[1,"value"],[1,"score-graph","d-flex","justify-content-between"],[1,"level","current-level","badge",3,"ngClass"],[1,"d-block"],[1,"score","d-block",3,"title"],[1,"bar-wrapper"],[1,"bar"],[1,"fill",3,"ngStyle"],[1,"score"],[1,"current",3,"title"],[1,"level","next-level","badge",3,"ngClass"],["aria-hidden","true",1,"b2msf-star-solid","mr-1","d-none"],[1,"max-score","score-graph"],[1,"d-block","level","badge","level-5"],["aria-hidden","true",1,"b2msf-star-solid","mr-1"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"h2"),t.YNc(9,Ie,3,3,"span",5),t.TgZ(10,"small"),t._uU(11,"EUR"),t.qZA()()(),t.TgZ(12,"div",6),t.YNc(13,Bt,32,59,"div",7),t.YNc(14,ue,5,3,"div",8),t.qZA()(),t.TgZ(15,"div",9)(16,"div",10)(17,"button",11),t.NdJ("click",function(){return c.openWithdrawDialog()}),t._UZ(18,"i",12),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",13),t.NdJ("click",function(){return c.openShareLinkDialog()}),t._UZ(22,"i",14),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"div",15)(26,"a",16),t.ALo(27,"translate"),t._uU(28),t.ALo(29,"translate"),t.qZA()()(),t.TgZ(30,"div",3)(31,"div",17)(32,"p")(33,"strong"),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"div",18)(37,"span")(38,"span"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t._uU(41),t.qZA(),t.TgZ(42,"span")(43,"span"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46),t.qZA(),t.TgZ(47,"span")(48,"span"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._uU(51),t.qZA()()()()()()()),2&o&&(t.xp6(2),t.Q6J("bngxLoadingLayer",c.loading),t.xp6(4),t.Oqu(t.lcZ(7,16,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.TOTAL")),t.xp6(3),t.Q6J("ngIf",c.affiliateProfile),t.xp6(4),t.Q6J("ngIf",(null==c.affiliateProfile?null:c.affiliateProfile.level)<5),t.xp6(1),t.Q6J("ngIf",5===(null==c.affiliateProfile?null:c.affiliateProfile.level)),t.xp6(5),t.hij(" ",t.lcZ(20,18,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.WITHDRAW_BENEFITS")," "),t.xp6(4),t.hij(" ",t.lcZ(24,20,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.SHARE_CODE")," "),t.xp6(3),t.s9C("href",t.lcZ(27,22,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.SUPPORT_LINK"),t.LSH),t.xp6(2),t.Oqu(t.lcZ(29,24,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.MORE_INFO")),t.xp6(6),t.Oqu(t.lcZ(35,26,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.AFFILIATES_NUMBER")),t.xp6(5),t.hij("",t.lcZ(40,28,"AFFILIATES_ACTIVITY_PAGE.USERS.SONS"),": "),t.xp6(2),t.Oqu(null==c.affiliateProfile||null==c.affiliateProfile.affiliates?null:c.affiliateProfile.affiliates.son),t.xp6(3),t.hij("",t.lcZ(45,30,"AFFILIATES_ACTIVITY_PAGE.USERS.GRANDSONS"),": "),t.xp6(2),t.Oqu(null==c.affiliateProfile||null==c.affiliateProfile.affiliates?null:c.affiliateProfile.affiliates.grandSon),t.xp6(3),t.hij("",t.lcZ(50,32,"AFFILIATES_ACTIVITY_PAGE.USERS.GREAT_GRANDSONS"),": "),t.xp6(2),t.Oqu(null==c.affiliateProfile||null==c.affiliateProfile.affiliates?null:c.affiliateProfile.affiliates.greatGrandSon))},directives:[A.gO3,k.O5,k.mk,k.PC],pipes:[T.X$,k.JJ,A.J76],styles:['@charset "UTF-8";.benefits-section[_ngcontent-%COMP%]   .table-wrapper-parent-loading-fix[_ngcontent-%COMP%]{position:relative;z-index:1}.benefits-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]{margin-bottom:20px}.benefits-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   h2\\a0[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{font-weight:700;font-size:3rem;line-height:3.5rem;display:inline-block}.benefits-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   h2\\a0[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em;display:inline-block;margin-left:5px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]{padding-bottom:22px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]{width:calc(100% - 170px);padding:10px 0;height:2px;position:relative}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#e8edf4;position:relative;width:100%;height:2px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#044e97;width:0;height:2px;transition:all 1.5s ease}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:50%;font-size:10px;line-height:12px;height:12px;transform:translate(-50%,-50%)}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font:inherit;line-height:inherit;color:#044e97}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{width:auto;max-width:100px;display:inline-block}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .level.badge[_ngcontent-%COMP%]{padding:0 10px;text-align:center;border-radius:11px;height:22px;line-height:22px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .level.next-level[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;top:1px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph.max-score[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{color:#fff}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph.max-score[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]{padding-top:28px;margin-bottom:20px}@media (max-width: 560px),(min-width: 768px) and (max-width: 991px){.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]{flex-direction:column!important;margin-bottom:0}}.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%}@media (max-width: 560px),(min-width: 768px) and (max-width: 991px){.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 0 10px!important}}.benefits-section[_ngcontent-%COMP%]   .affiliates-number[_ngcontent-%COMP%]{margin-top:15px}.benefits-section[_ngcontent-%COMP%]   .affiliates-number[_ngcontent-%COMP%]   .hierarchy[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:space-between}.benefits-section[_ngcontent-%COMP%]   .affiliates-number[_ngcontent-%COMP%]   .hierarchy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.benefits-section[_ngcontent-%COMP%]   .level-1[_ngcontent-%COMP%]{background-color:#3affff}.benefits-section[_ngcontent-%COMP%]   .level-2[_ngcontent-%COMP%]{background-color:#91d90d}.benefits-section[_ngcontent-%COMP%]   .level-3[_ngcontent-%COMP%]{background-color:#fcee20}.benefits-section[_ngcontent-%COMP%]   .level-4[_ngcontent-%COMP%]{background-color:#ff8e52}.benefits-section[_ngcontent-%COMP%]   .level-5[_ngcontent-%COMP%], .level-5[_ngcontent-%COMP%]{background-color:#e62e1f}']}),l})();const mt=function(){return["/referrals/activity"]},ft=function(l){return{codes:l}};function Ht(l,v){if(1&l&&(t.TgZ(0,"a",30),t.ALo(1,"translate"),t._UZ(2,"i",31),t.TgZ(3,"span",32),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&l){const o=t.oxw().$implicit;t.s9C("title",t.lcZ(1,4,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.CODE_CHART_LINK")),t.Q6J("routerLink",t.DdM(8,mt))("queryParams",t.VKq(9,ft,null==o?null:o.id)),t.xp6(4),t.Oqu(t.lcZ(5,6,"AFFILIATES_CODES_PAGE.CODES_SECTION.ACTIVITY_LINK"))}}function jt(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"div",9)(1,"div",14)(2,"div",15)(3,"div",16)(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"button",17),t.NdJ("click",function(){const L=t.CHM(o).$implicit;return t.oxw().openEditLinkDialog(L)}),t.ALo(7,"translate"),t._UZ(8,"i",18),t.qZA(),t.TgZ(9,"div",19)(10,"small",20),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"date"),t.qZA()()()(),t.TgZ(14,"div",21)(15,"h4")(16,"span",22),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"small"),t._uU(20,"EUR / "),t.qZA(),t.TgZ(21,"small")(22,"strong"),t._uU(23),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"small"),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"div",23)(29,"span"),t._uU(30),t.qZA(),t.TgZ(31,"button",24),t.ALo(32,"translate"),t._UZ(33,"i",25),t.qZA()(),t.TgZ(34,"div",26),t.YNc(35,Ht,6,11,"a",27),t.TgZ(36,"button",28),t.NdJ("click",function(){const L=t.CHM(o).$implicit;return t.oxw().openShareLinkDialog(L)}),t.ALo(37,"translate"),t._UZ(38,"i",29),t.qZA()()()()}if(2&l){const o=v.$implicit,c=t.oxw();t.xp6(5),t.Oqu(null==o?null:o.label),t.xp6(1),t.s9C("title",t.lcZ(7,13,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.EDIT_CODE_NAME")),t.xp6(4),t.Q6J("title",c.getDateTranslated(o.createdAt)),t.xp6(1),t.AsE("",t.lcZ(12,15,"AFFILIATES_CODES_PAGE.CODES_SECTION.CREATION_DATE")," ",t.lcZ(13,17,null==o?null:o.createdAt),""),t.xp6(6),t.Oqu(t.lcZ(18,19,null==o?null:o.earnings)),t.xp6(6),t.hij("",t.lcZ(24,21,null==o?null:o.points)," "),t.xp6(3),t.Oqu(t.lcZ(27,23,"AFFILIATES_CODES_PAGE.CODES_SECTION.POINTS")),t.xp6(4),t.Oqu(c.affiliatesService.getAffiliationCodeLinkByEnvironment(null==o?null:o.serial)),t.xp6(1),t.s9C("title",t.lcZ(32,25,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.COPY_CODE")),t.Q6J("copyToClipboard",c.affiliatesService.getAffiliationCodeLinkByEnvironment(null==o?null:o.serial)),t.xp6(4),t.Q6J("ngIf",null==o?null:o.id),t.xp6(1),t.s9C("title",t.lcZ(37,27,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.SHARE_CODE"))}}let Be=(()=>{class l{constructor(o,c,M,L){this.modalService=o,this.codeService=c,this.translateService=M,this.affiliatesService=L,this.unsubscribe=new O.x}ngOnInit(){this.loadUserCodes()}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}loadUserCodes(){this.loading=!0,this.codeService.findAllUserCodes().pipe((0,ee.R)(this.unsubscribe)).subscribe(o=>{this.loading=!1,this.codes=o.data},()=>{})}openShareLinkDialog(o){this.modalService.open(A.NpZ,{nzComponentParams:{selectedCode:o}})}openCreateLinkDialog(){this.modalService.open(xt).afterClose.subscribe(c=>{c&&this.loadUserCodes()})}openEditLinkDialog(o){this.modalService.open(Mt,{nzComponentParams:{code:o}}).afterClose.subscribe(M=>{M&&(o.label=M)})}getDateTranslated(o){return o?me.ou.fromISO(o).toLocaleString({locale:this.translateService.currentLang,weekday:"long",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}):null}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Z7U),t.Y36(A.$T3),t.Y36(T.sK),t.Y36(A.Oiz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:23,vars:11,consts:[[1,"affiliates-code-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],[1,"links-section"],[1,"card-page-title"],["context","fullcomponent",1,"row","mt-2",3,"bngxLoadingLayer"],[1,"col-12","col-lg-6","links-section-column"],[1,"link-element","new-link",3,"click"],["aria-hidden","true",1,"b2msf-web-link","link-icon"],["aria-hidden","true",1,"b2msf-plus"],["class","col-12 col-lg-6 links-section-column",4,"ngFor","ngForOf"],[1,"link-element"],[1,"link-name"],[1,"link-name-wrapper"],[1,"b2m-btn","btn-square",3,"title","click"],["aria-hidden","true",1,"b2msf-pencil"],[1,"date-info"],[3,"title"],[1,"link-generated-amount"],[1,"value"],[1,"link-link"],[3,"copyToClipboard","title"],["aria-hidden","true",1,"b2msf-copy"],[1,"action-box"],["class","b2m-btn btn-solid charts-link",3,"routerLink","queryParams","title",4,"ngIf"],[1,"b2m-btn","btn-square","share-button",3,"title","click"],["aria-hidden","true",1,"b2msf-share"],[1,"b2m-btn","btn-solid","charts-link",3,"routerLink","queryParams","title"],["aria-hidden","true",1,"b2msf-line-chart","mr-0","mr-sm-1","mr-lg-0"],[1,"text","d-none","d-sm-block","d-lg-none"]],template:function(o,c){1&o&&(t.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"section"),t._UZ(9,"bngx-benefits-component"),t.qZA(),t.TgZ(10,"section",6)(11,"h2",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",8)(15,"div",9)(16,"button",10),t.NdJ("click",function(){return c.openCreateLinkDialog()}),t._UZ(17,"i",11),t.TgZ(18,"p"),t._UZ(19,"i",12),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.YNc(22,jt,39,29,"div",13),t.qZA()()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,5,"AFFILIATES_CODES_PAGE.HEADER")),t.xp6(7),t.Oqu(t.lcZ(13,7,"AFFILIATES_CODES_PAGE.CODES_SECTION.HEADER")),t.xp6(2),t.Q6J("bngxLoadingLayer",c.loading),t.xp6(6),t.hij("\xa0 ",t.lcZ(21,9,"AFFILIATES_CODES_PAGE.CODES_SECTION.NEW_CODE_BUTTON")," "),t.xp6(2),t.Q6J("ngForOf",c.codes))},directives:[qe,A.gO3,k.sg,A.eoe,k.O5,J.yS],pipes:[T.X$,k.uU,k.JJ],styles:[".card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]{border-top:1px solid #e8edf4}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .card-page-title[_ngcontent-%COMP%]{float:unset;margin-bottom:unset}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .links-section-column[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .links-section-column[_ngcontent-%COMP%]   .share-button[_ngcontent-%COMP%]{top:9px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;padding:20px 70px 20px 20px;border-radius:5px;box-shadow:0 0 0 1px #e8edf4}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]{margin-bottom:5px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]   .link-name-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:22px;position:relative;width:auto;padding-right:60px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]   .link-name-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;font-weight:700}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]   .link-name-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;padding:0;width:48px;height:48px;top:50%;right:24px;font-size:.8em;transform:translate(50%,-50%)}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]{margin-bottom:10px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{line-height:30px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:5px;font-weight:700}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7em}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]{background-color:#e8edf4;padding:4px 0 4px 10px;border-radius:5px;color:#044e97;position:relative}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding-right:32px;word-break:break-all}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;width:30px;height:30px;text-align:center;line-height:30px;border-radius:5px;transform:translateY(-50%);background-color:#0000000a;transition:all .3s ease}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#91adcc;color:#0f335b}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]{position:absolute;top:20px;right:15px;width:48px;height:calc(100% - 40px);display:flex;flex-direction:column;justify-content:space-between}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   a.charts-link[_ngcontent-%COMP%]{min-width:40px;border-radius:40px;height:40px;min-height:40px;margin:0 5px}@media (min-width: 576px){.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   a.charts-link[_ngcontent-%COMP%]{min-width:120px;border-radius:40px;height:40px;min-height:40px;right:75px;text-transform:none}}@media (min-width: 992px) and (max-width: 1140px){.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   a.charts-link[_ngcontent-%COMP%]{min-width:0px;right:0}}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{color:#d3d3d3}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]{text-align:center;box-shadow:0 0 0 1px #e8edf4;background-color:#f3f6f9;display:block;padding:20px;transition:all .3s ease}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]:hover{background-color:#e8edf4;box-shadow:0 0 0 1px #91adcc;font-weight:700}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{display:inline-block;font-size:60px;margin-bottom:10px;color:#91adcc;position:relative;left:10px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#91adcc}"]}),l})();var Wt=f(1854),ht=f.n(Wt),xe=f(50635),$t=f(44063),Kt=f.n($t),He=f(53808);const ke=["chart"];function Xt(l,v){if(1&l&&(t.TgZ(0,"div",9),t._UZ(1,"canvas",10,11),t.qZA()),2&l){const o=t.oxw();t.Udp("height",o.CHART_HEIGHT+"px"),t.xp6(1),t.Q6J("datasets",o.datasets)("labels",o.labels)("options",o.options)("chartType","line")}}var fe=(()=>{return(l=fe||(fe={})).son="1",l.grandSon="2",l.greatGrandSon="3",fe;var l})();let Ot=(()=>{class l{constructor(o,c){this.affiliatesService=o,this.translateService=c,this.B2M_COLOR="#044e97",this.OPACITY=.3,this.CHART_HEIGHT=400,this.codes=[],this.selectedCodes=[],this.selectedUsers=[],this.dateUtils=A.EDk,this.datasets=[],this.totalCodeStats=[],this.options={legend:{display:!1}},this.benefits=[],this.total={earnings:0,points:0,operations:0},this.destroy$=new O.x,this.colorGenerator=new(ht())}ngOnChanges(o){o.timeInterval&&this.setStats(),this.fillBenefitsData()}ngOnInit(){this.datasets=[{data:[]}],this.setStats(),this.translateService.onLangChange.pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.labels=this.getLabel(),this.options=this.getOptions(),this.lang=this.translateService.currentLang})}ngAfterViewInit(){this.stats&&this.fillBenefitsData()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}setStats(){this.loading=!0,this.affiliatesService.getStats(this.timeInterval).pipe((0,ee.R)(this.destroy$)).subscribe(o=>{this.stats=o,this.loading=!1,this.labels=this.getLabel(),this.options=this.getOptions(),this.fillBenefitsData()})}fillBenefitsData(){!this.stats||!this.stats.length||!this.codes.length||!this.datasets.length||(this.datasets=[],this.total={earnings:0,points:0,operations:0},this.totalCodeStats=[],this.fillDatasets())}accumulateBenefits(){return this.stats?this.stats.map((o,c)=>{const M={earnings:0,points:0,operations:0};return o.codes.map(L=>{this.isSelectedCode(L.id)&&(M.earnings+=this.addSelectedUserProperties(L.generations).earnings,M.operations+=this.addSelectedUserProperties(L.generations).operations,M.points+=this.addSelectedUserProperties(L.generations).points,this.setAcumulatedProperties(L))}),this.totalCodeStats[c]?this.totalCodeStats[c].push(M):this.totalCodeStats.push([M]),M.earnings}):null}setAcumulatedProperties(o){this.total.earnings+=this.addSelectedUserProperties(o.generations).earnings,this.total.points+=this.addSelectedUserProperties(o.generations).points,this.total.operations+=this.addSelectedUserProperties(o.generations).operations}addSelectedUserProperties(o){if(!o)return{earnings:0,operations:0,points:0};const c={earnings:0,operations:0,points:0};return this.isSelectedUser(fe.son)&&(c.earnings+=o.son.earnings,c.operations+=o.son.operations,c.points+=o.son.points),this.isSelectedUser(fe.grandSon)&&(c.earnings+=o.grandSon.earnings,c.operations+=o.grandSon.operations,c.points+=o.grandSon.points),this.isSelectedUser(fe.greatGrandSon)&&(c.earnings+=o.greatGrandSon.earnings,c.operations+=o.greatGrandSon.operations,c.points+=o.greatGrandSon.points),c}getLabel(){const o=[];let c=this.affiliatesService.detectRange(this.timeInterval);return c||(c="year",this.stats=this.stats.slice(1)),this.stats?(this.stats.map(M=>{const L=this.dateUtils.toDateTime(M.date),B=this.dateUtils.Info().months("short",{locale:this.translateService.currentLang})[L.month-1];switch(c){case"hour":o.push(0===L.hour?`${L.hour}h - ${L.day} - ${B}`:`${L.hour}h`);break;case"day":o.push(`${L.day}  ${L.monthShort}`);break;case"week":o.push(L.weekNumber);break;case"month":o.push(1===L.day?`${L.day} - ${B}`:L.day);break;case"year":o.push(1===L.month?B+" - "+L.year:B)}}),o):null}getOptions(){return{legend:{display:!1},maintainAspectRatio:!1,responsive:!0,title:{display:!1},tooltips:{enabled:!0,backgroundColor:"grey",mode:"nearest",position:"average",intersect:!1,callbacks:{label:o=>{const c=this.totalCodeStats[o.index][o.datasetIndex].earnings||"",M=this.totalCodeStats[o.index][o.datasetIndex].operations||"",L=this.totalCodeStats[o.index][o.datasetIndex].points||"",B=[];return B.push(`${this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.TOOLTIPS.BENEFITS")}: ${c.toString()}`),B.push(`${this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.TOOLTIPS.OPERATIONS")}: ${M.toString()}`),B.push(`${this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.TOOLTIPS.POINTS")}: ${L.toString()}`),B}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.Y-AXIS-NAME")}}],xAxes:[{scaleLabel:{display:!0,labelString:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.X-AXIS-NAME")}}]}}}getGradient(o=this.B2M_COLOR){if(!this.chart||!this.chart.nativeElement)return"";const M=this.chart.nativeElement.getContext("2d").createLinearGradient(0,this.CHART_HEIGHT-50,0,0);return M.addColorStop(1,Kt()(o).alpha(this.OPACITY).rgb().toString()),M.addColorStop(0,"#ffffff"),M}isSelectedUser(o){return this.selectedUsers.some(c=>c.id===o)}isSelectedCode(o){return this.selectedCodes.some(c=>c.id===o)}areAtLeastTwoCodesSelected(){return this.selectedCodes.length>=2}getColorBySelectedCodes(){var o,c;return this.areAtLeastTwoCodesSelected()?this.B2M_COLOR:this.colorGenerator.hex(null===(c=null===(o=this.selectedCodes)||void 0===o?void 0:o.first())||void 0===c?void 0:c.id)}fillDatasets(){const o=this.getColorBySelectedCodes();this.datasets.push({borderColor:o,borderWidth:1,pointBorderColor:o,pointBackgroundColor:o,pointBorderWidth:0,pointRadius:2,pointHoverRadius:3,fill:!0,data:this.accumulateBenefits(),backgroundColor:this.getGradient(o)}),this.datasets.length||this.datasets.push({data:[]})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Oiz),t.Y36(T.sK))},l.\u0275cmp=t.Xpm({type:l,selectors:[["b2m-benefits-chart"]],viewQuery:function(o,c){if(1&o&&t.Gf(ke,5),2&o){let M;t.iGM(M=t.CRH())&&(c.chart=M.first)}},inputs:{codes:"codes",selectedCodes:"selectedCodes",selectedUsers:"selectedUsers",timeInterval:"timeInterval"},features:[t.TTD],decls:33,vars:21,consts:[["context","fullcomponent",1,"chart-wrapper","position-relative",3,"bngxLoadingLayer"],["class","chart",3,"height",4,"ngIf"],[1,"resume"],["context","fullcomponent",1,"row",3,"bngxLoadingLayer"],[1,"col-12","col-md-4"],[1,"resume-box","mb-2","mb-md-0"],[1,"amount"],[1,"value"],[1,"currency"],[1,"chart"],["baseChart","","id","chart",3,"datasets","labels","options","chartType"],["chart",""]],template:function(o,c){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Xt,3,6,"div",1),t.qZA(),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6)(7,"span",7),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"span",8),t._uU(11,"EUR"),t.qZA()(),t.TgZ(12,"p"),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",4)(16,"div",5)(17,"p",6)(18,"span",7),t._uU(19),t.ALo(20,"number"),t.qZA()(),t.TgZ(21,"p"),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"div",4)(25,"div",5)(26,"p",6)(27,"span",7),t._uU(28),t.ALo(29,"number"),t.qZA()(),t.TgZ(30,"p"),t._uU(31),t.ALo(32,"translate"),t.qZA()()()()()),2&o&&(t.Q6J("bngxLoadingLayer",c.loading),t.xp6(1),t.Q6J("ngIf",c.datasets),t.xp6(2),t.Q6J("bngxLoadingLayer",c.loading),t.xp6(5),t.Oqu(t.lcZ(9,9,null==c.total?null:c.total.earnings)),t.xp6(5),t.Oqu(t.lcZ(14,11,"AFFILIATES_ACTIVITY_PAGE.STATS.BENEFITS")),t.xp6(6),t.Oqu(t.lcZ(20,13,null==c.total?null:c.total.points)),t.xp6(3),t.Oqu(t.lcZ(23,15,"AFFILIATES_ACTIVITY_PAGE.STATS.SCORE")),t.xp6(6),t.Oqu(t.lcZ(29,17,null==c.total?null:c.total.operations)),t.xp6(3),t.Oqu(t.lcZ(32,19,"AFFILIATES_ACTIVITY_PAGE.STATS.OPERATIONS")))},directives:[A.gO3,k.O5,He.jh],pipes:[k.JJ,T.X$],styles:[".chart-wrapper[_ngcontent-%COMP%]{z-index:1}.chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{width:100%;background-color:#fff;margin-bottom:30px}.resume[_ngcontent-%COMP%]{position:relative;z-index:1}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]{padding:10px 20px;box-shadow:0 0 0 1px #e8edf4;border-radius:4px}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin:0}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2rem;color:#044e97}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:5px}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:.8em}"]}),l})(),Ge=(()=>{class l extends k.JJ{constructor(o){super(o),this.locale=o}transform(o,c,M=this.locale){return o?super.transform(o,c,M):"-"}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(t.soG,16))},l.\u0275pipe=t.Yjl({name:"activityHyphenNumber",type:l,pure:!0}),l})();function Ye(l,v){1&l&&(t.TgZ(0,"span"),t._uU(1,"\u20ac"),t.qZA())}function je(l,v){if(1&l&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"i",11),t._uU(3,"\xa0"),t._UZ(4,"span",12),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"activityHyphenNumber"),t.YNc(11,Ye,2,0,"span",7),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"activityHyphenNumber"),t.qZA()()),2&l){const o=v.$implicit;t.xp6(2),t.Tol(null==o?null:o.iconClass),t.xp6(2),t.Q6J("innerHTML",o.type,t.oJD),t.xp6(2),t.Oqu(t.xi3(7,7,null==o?null:o.date,"short")),t.xp6(3),t.hij("",t.lcZ(10,10,null==o?null:o.earnings)," "),t.xp6(2),t.Q6J("ngIf",(null==o?null:o.earnings)>0),t.xp6(2),t.Oqu(t.lcZ(14,12,null==o?null:o.points))}}function en(l,v){if(1&l&&(t.TgZ(0,"tbody"),t.YNc(1,je,15,14,"tr",10),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.activity)}}function tn(l,v){if(1&l&&(t.TgZ(0,"div",13),t._UZ(1,"bngx-no-results",14),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("description",o.notFound)}}function nn(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"div",15)(1,"nz-pagination",16),t.NdJ("nzPageIndexChange",function(M){return t.CHM(o),t.oxw().handleActivityTablePageChange(M)})("nzPageIndexChange",function(M){return t.CHM(o),t.oxw().page=M}),t.qZA()()}if(2&l){const o=t.oxw();t.xp6(1),t.Q6J("nzTotal",o.total)("nzPageIndex",o.page)("nzPageSize",o.pageSize)}}const on=function(l){return{"border-bottom":l}};let rn=(()=>{class l{constructor(o,c,M,L){this.translateService=o,this.affiliatesService=c,this.router=M,this.activatedRoute=L,this.notFound="AFFILIATES_ACTIVITY_PAGE.NOT_FOUND.ACTIVITY",this.activity=[],this.pageSize=8,this.page=1,this.offset=0,this.types={newSon:{action:"NEW_AFFILIATE",descendant:"SON",icon:"b2msf-user-plus"},newGrandSon:{action:"NEW_AFFILIATE",descendant:"GRANDSON",icon:"b2msf-user-plus-alt"},newGreatGrandSon:{action:"NEW_AFFILIATE",descendant:"GREAT_GRANDSON",icon:"b2msf-user-group-plus"},earningsSon:{action:"NEW_BENEFIT",descendant:"SON",icon:"b2msf-coins"},earningsGrandSon:{action:"NEW_BENEFIT",descendant:"GRANDSON",icon:"b2msf-coins-normal"},earningsGreatGrandSon:{action:"NEW_BENEFIT",descendant:"GREAT_GRANDSON",icon:"b2msf-coin-alternative"},payoutRequest:{action:"NEW_WITHDRAWAL",icon:"b2msf-transfer-balance"},payoutDone:{action:"NEW_WITHDRAWAL",icon:"b2msf-transfer-balance"},payoutRejected:{action:"NEW_WITHDRAWAL",icon:"b2msf-arrow-down d-inline-block rotate-45-cw"},adminUpdate:{action:"ADMIN_UPDATE",icon:"b2msf-user-edit"}},this.subscription=new O.x}ngOnChanges(o){o.timeInterval&&this.setActivity()}ngOnInit(){this.activatedRoute.queryParams.pipe((0,ee.R)(this.subscription)).subscribe(o=>{this.offset=o.offset||0,this.page=this.offset/this.pageSize+1}),this.addOffsetAndLimitToQueryparams(),this.translateService.onLangChange.pipe((0,ee.R)(this.subscription)).subscribe(()=>{this.setActivity()})}ngOnDestroy(){this.subscription.next(!0),this.subscription.complete()}setActivity(){this.loading=!0,this.affiliatesService.getActivity({fromDate:this.timeInterval.fromDate,toDate:this.timeInterval.toDate,offset:this.offset,limit:this.pageSize}).pipe((0,xe.U)(c=>c.data.map(({type:M,date:L,id:B,earnings:ie,points:pe})=>({id:B,earnings:ie,points:pe,date:L,iconClass:this.setIconClassByType(M),type:this.setType(M)}),this.total=c.total))).pipe((0,ee.R)(this.subscription)).subscribe(c=>{this.loading=!1,this.activity=c})}setType(o){if(!o)return null;const c=this.types[o];let M=this.translateService.instant(`AFFILIATES_ACTIVITY_PAGE.ACTIVITY.${c.action}`);return c.descendant&&(M+=`(${this.translateService.instant(`AFFILIATES_ACTIVITY_PAGE.ACTIVITY.DESCENDANTS.${c.descendant}`)})`),M}setIconClassByType(o){if(!o)return null;const c=this.types[o];return null==c?void 0:c.icon}handleActivityTablePageChange(o){this.setOffsetForPage(o),this.addOffsetAndLimitToQueryparams("activity-table"),this.setActivity()}addOffsetAndLimitToQueryparams(o){this.router.navigate([],{fragment:o,relativeTo:this.activatedRoute,queryParams:{offset:this.offset,limit:this.pageSize,fromDate:this.timeInterval.fromDate,toDate:this.timeInterval.toDate},queryParamsHandling:"merge",replaceUrl:!0})}setOffsetForPage(o){this.offset=(o-1)*this.pageSize}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(T.sK),t.Y36(A.Oiz),t.Y36(J.F0),t.Y36(J.gz))},l.\u0275cmp=t.Xpm({type:l,selectors:[["bngx-activity-table"]],inputs:{timeInterval:"timeInterval"},features:[t.TTD],decls:23,vars:19,consts:[["id","activity-table"],[1,"table-wrapper-parent-loading-fix"],["context","fullcomponent",3,"bngxLoadingLayer"],[1,"table-wrapper"],[1,"table-responsive","table-striped"],[3,"ngClass"],["scope","row"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[4,"ngFor","ngForOf"],["aria-hidden","true"],[3,"innerHTML"],[1,"w-100"],[3,"description"],[1,"pagination-wrapper"],[3,"nzTotal","nzPageIndex","nzPageSize","nzPageIndexChange"]],template:function(o,c){1&o&&(t._UZ(0,"a",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"table",4),t._UZ(5,"caption"),t.TgZ(6,"thead",5)(7,"tr")(8,"th",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",6),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",6),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",6),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.YNc(20,en,2,1,"tbody",7),t.qZA()(),t.YNc(21,tn,2,1,"div",8),t.YNc(22,nn,2,3,"div",9),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("bngxLoadingLayer",c.loading),t.xp6(4),t.Q6J("ngClass",t.VKq(17,on,!c.activity.length)),t.xp6(3),t.Oqu(t.lcZ(10,9,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.ACTION")),t.xp6(3),t.Oqu(t.lcZ(13,11,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.DATE")),t.xp6(3),t.Oqu(t.lcZ(16,13,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.BENEFITS")),t.xp6(3),t.Oqu(t.lcZ(19,15,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.SCORE")),t.xp6(2),t.Q6J("ngIf",null==c.activity?null:c.activity.length),t.xp6(1),t.Q6J("ngIf",!c.activity.length),t.xp6(1),t.Q6J("ngIf",null==c.activity?null:c.activity.length))},directives:[A.gO3,k.mk,k.O5,k.sg,A.tMq,R.dE],pipes:[T.X$,k.uU,Ge],styles:[".table-wrapper-parent-loading-fix[_ngcontent-%COMP%]{position:relative;z-index:1}.table-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}.table-wrapper[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:30px;text-align:left;vertical-align:middle}"]}),l})();function an(l,v){1&l&&(t.TgZ(0,"div"),t._UZ(1,"i",32),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&l&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"AFFILIATES_ACTIVITY_PAGE.FILTERS.LINKS.ALL")))}function sn(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"span",35)(1,"span",36),t.NdJ("click",function(){t.CHM(o);const M=t.oxw().$implicit;return t.oxw(2).clear(M)}),t._uU(2,"\xd7"),t.qZA(),t._uU(3),t.qZA()}if(2&l){const o=t.oxw().$implicit;t.xp6(3),t.hij("",null==o?null:o.label," ")}}function Se(l,v){if(1&l&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&l){const o=t.oxw(3).items;t.xp6(1),t.hij("+",(null==o?null:o.length)-1,"")}}function We(l,v){if(1&l&&(t.TgZ(0,"div"),t.YNc(1,sn,4,1,"span",34),t.YNc(2,Se,2,1,"span",34),t.qZA()),2&l){const o=v.$implicit,c=t.oxw(2).items;t.xp6(1),t.Q6J("ngIf",null==o?null:o.label),t.xp6(1),t.Q6J("ngIf",c.length>1)}}function At(l,v){if(1&l&&(t.TgZ(0,"div"),t.YNc(1,We,3,2,"div",33),t.ALo(2,"slice"),t.qZA()),2&l){const o=t.oxw().items;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,o,0,1))}}function Ct(l,v){if(1&l&&(t.YNc(0,an,5,3,"div",31),t.YNc(1,At,3,5,"div",31)),2&l){const o=v.items,c=t.oxw();t.Q6J("ngIf",o.length===c.codes.length),t.xp6(1),t.Q6J("ngIf",o.length!==c.codes.length)}}function ln(l,v){if(1&l&&t._UZ(0,"div",41),2&l){const o=t.oxw().item;t.Udp("background-color",o.colorHex)}}function cn(l,v){if(1&l&&(t.TgZ(0,"div",37)(1,"div",38)(2,"div",32),t._UZ(3,"input",39),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,ln,1,2,"div",40),t.qZA()()),2&l){const o=v.item,c=v.item$;t.xp6(3),t.Q6J("ngModel",c.selected),t.xp6(2),t.Oqu(t.lcZ(6,3,null==o?null:o.label)),t.xp6(2),t.Q6J("ngIf",o.colorHex)}}function Pt(l,v){1&l&&(t.TgZ(0,"div"),t._UZ(1,"i",32),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&l&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"AFFILIATES_ACTIVITY_PAGE.FILTERS.LINKS.ALL")))}function ge(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"span",35)(1,"span",36),t.NdJ("click",function(){t.CHM(o);const M=t.oxw().$implicit;return t.oxw(2).clear(M)}),t._uU(2,"\xd7"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}if(2&l){const o=t.oxw().$implicit;t.xp6(3),t.hij("",t.lcZ(4,1,null==o?null:o.label)," ")}}function dn(l,v){if(1&l&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&l){const o=t.oxw(3).items;t.xp6(1),t.hij("+",(null==o?null:o.length)-1,"")}}function gn(l,v){if(1&l&&(t.TgZ(0,"div"),t.YNc(1,ge,5,3,"span",34),t.YNc(2,dn,2,1,"span",34),t.qZA()),2&l){const o=v.$implicit,c=t.oxw(2).items;t.xp6(1),t.Q6J("ngIf",null==o?null:o.label),t.xp6(1),t.Q6J("ngIf",c.length>1)}}function pn(l,v){if(1&l&&(t.TgZ(0,"div"),t.YNc(1,gn,3,2,"div",33),t.ALo(2,"slice"),t.qZA()),2&l){const o=t.oxw().items;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,o,0,1))}}function un(l,v){if(1&l&&(t.YNc(0,Pt,5,3,"div",31),t.YNc(1,pn,3,5,"div",31)),2&l){const o=v.items,c=t.oxw();t.Q6J("ngIf",o.length===c.users.length),t.xp6(1),t.Q6J("ngIf",o.length!==c.users.length)}}function _n(l,v){if(1&l&&(t._UZ(0,"input",42),t._uU(1),t.ALo(2,"translate")),2&l){const o=v.item;t.Q6J("ngModel",v.item$.selected),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.group)," ")}}function mn(l,v){if(1&l&&(t.TgZ(0,"div",37)(1,"div",38)(2,"div",32),t._UZ(3,"input",39),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()),2&l){const o=v.item,c=v.item$;t.xp6(3),t.Q6J("ngModel",c.selected),t.xp6(2),t.Oqu(t.lcZ(6,2,o.label))}}function fn(l,v){if(1&l&&(t._UZ(0,"i",43),t._uU(1),t.ALo(2,"translate")),2&l){const o=v.item;t.xp6(1),t.hij(" ",t.lcZ(2,1,null==o?null:o.time)," ")}}function Tt(l,v){if(1&l&&(t._uU(0),t.ALo(1,"translate")),2&l){const o=v.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.time)," ")}}function hn(l,v){if(1&l&&(t._uU(0),t.ALo(1,"translate")),2&l){const o=v.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.group)," ")}}function On(l,v){if(1&l&&(t._UZ(0,"i",43),t._uU(1),t.ALo(2,"translate")),2&l){const o=v.item;t.xp6(1),t.hij(" ",t.lcZ(2,1,null==o?null:o.time)," ")}}function vt(l,v){if(1&l&&(t._uU(0),t.ALo(1,"translate")),2&l){const o=v.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.time)," ")}}function _(l,v){if(1&l&&(t._uU(0),t.ALo(1,"translate")),2&l){const o=v.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.group)," ")}}let y=(()=>{class l{constructor(o,c,M,L,B){this.translateService=o,this.codeService=c,this.router=M,this.activatedRoute=L,this.currentUserStore=B,this.submitting=!0,this.selectedCodes=[],this.subscription=new O.x,this.colorGenerator=new(ht()),this.dateUtils=A.EDk}ngOnInit(){this.router.events.pipe((0,ee.R)(this.subscription),(0,ot.h)(o=>o instanceof J.m2)).subscribe(()=>{}),this.initializeAllVariables(),this.selectedUsers=this.users,this.translateService.onLangChange.pipe((0,ee.R)(this.subscription)).subscribe(()=>{this.setCodes(),this.setTime()})}ngOnDestroy(){this.subscription.next(!0),this.subscription.complete()}setCodes(){this.codesAreLoading=!0,this.codes=[],this.codeService.findAllUserCodes().pipe((0,xe.U)(o=>o.data.map(c=>Object.assign(Object.assign({},c),{colorHex:this.colorGenerator.hex(c.id),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.LINKS.ALL")})))).pipe((0,ee.R)(this.subscription)).subscribe(o=>{this.codesAreLoading=!1,this.codes=o,this.selectedCodes=this.getQueryParamCodes().length?this.getQueryParamCodes():this.codes},()=>{})}navigateByDateFilter(o){this.selectedTime||(this.selectedTime=this.time[2]);const c=this.filters[this.selectedTime.id-1];c.offset=0,c.codes=this.getSelectedCodesIds(),this.router.navigate([],{fragment:o,queryParams:c,relativeTo:this.activatedRoute,queryParamsHandling:"merge",replaceUrl:!0})}onChangeCodes(o=[]){setTimeout(()=>{o.length||(this.selectedCodes=this.codes)},1)}onChangeUsers(o=[]){setTimeout(()=>{o.length||(this.selectedUsers=this.users)},1)}setDateFilters(){const o=this.dateUtils.DateTime().local(),c=o.minus({days:1}).toJSDate(),M=o.minus({weeks:1}).toJSDate(),L=o.minus({months:1}).toJSDate(),B=o.minus({years:1}).toJSDate(),ie=this.dateUtils.prepareDatetimeToBack(o.toJSDate());this.filters=[{toDate:ie,fromDate:this.dateUtils.prepareDatetimeToBack(c)},{toDate:ie,fromDate:this.dateUtils.prepareDatetimeToBack(M)},{toDate:ie,fromDate:this.dateUtils.prepareDatetimeToBack(L)},{toDate:ie,fromDate:this.dateUtils.prepareDatetimeToBack(B)}]}setUsers(){this.users=[{id:fe.son,group:"AFFILIATES_ACTIVITY_PAGE.USERS.ALL",label:"AFFILIATES_ACTIVITY_PAGE.USERS.SONS"},{id:fe.grandSon,group:"AFFILIATES_ACTIVITY_PAGE.USERS.ALL",label:"AFFILIATES_ACTIVITY_PAGE.USERS.GRANDSONS"},{id:fe.greatGrandSon,group:"AFFILIATES_ACTIVITY_PAGE.USERS.ALL",label:"AFFILIATES_ACTIVITY_PAGE.USERS.GREAT_GRANDSONS"}]}setTime(){this.time=[{id:1,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_DAY"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")},{id:2,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_WEEK"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")},{id:3,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_MONTH"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")},{id:4,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_YEAR"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")}],this.addYearsToTimeFilter()}addYearsToTimeFilter(){const o=this.getRegistrationYear(),c=this.dateUtils.DateTime().local().year-o;c&&new Array(c).fill(null).forEach((B,ie)=>{this.time.push({id:5+ie,time:(o+ie).toString(),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.PREVIOUS_YEARS")});const pe=this.dateUtils.DateTime().local(o+ie).startOf("year").toJSDate(),he=this.dateUtils.DateTime().local(o+ie).endOf("year").toJSDate();this.filters.push({fromDate:this.dateUtils.prepareDatetimeToBack(pe),toDate:this.dateUtils.prepareDatetimeToBack(he)})})}getRegistrationYear(){return this.currentUserStore.user&&this.currentUserStore.user.account&&this.currentUserStore.user.account.registrationDateTime?this.currentUserStore.user.account.registrationDateTime.year:null}initializeAllVariables(){this.setDateFilters(),this.setCodes(),this.setTime(),this.setUsers(),this.navigateByDateFilter()}getQueryParamCodes(){if(!this.codes||!this.activatedRoute.snapshot.queryParams.codes)return[];const c=this.activatedRoute.snapshot.queryParams.codes.split(",");return this.codes.filter(M=>c.find(L=>L===M.id))}getSelectedCodesIds(){return this.selectedCodes.map(o=>o.id).join(",")}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(T.sK),t.Y36(A.$T3),t.Y36(J.F0),t.Y36(J.gz),t.Y36(A.Dk$))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:61,vars:58,consts:[[1,"affiliates-activity-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],["id","filters"],["id","section-filters"],[1,"chart-section","border-bottom"],[1,"filters"],[1,"row"],[1,"col-12","col-md-4","col-lg-3"],[1,"form-group"],["groupBy","group",1,"b2m-select",3,"items","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","loading","searchable","clearable","ngModel","ngModelChange","change"],["ng-multi-label-tmp",""],["ng-option-tmp",""],["groupBy","group",1,"b2m-select",3,"items","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","searchable","clearable","ngModel","ngModelChange","change"],["ng-optgroup-tmp",""],[1,"col-12","col-md-3","col-lg-3","offset-md-1","offset-lg-3"],["groupBy","group",1,"align-right","b2m-select",3,"items","multiple","placeholder","clearable","closeOnSelect","searchable","ngModel","ngModelChange","change"],["ng-label-tmp",""],[3,"selectedCodes","selectedUsers","timeInterval","codes"],[1,"activity-table-section","border-bottom"],[1,"title-bar"],[1,"block","left"],[1,"card-page-title","activity-table-title"],[1,"block","right"],[1,"form-group","m-0"],["groupBy","group",1,"align-right","b2m-select",3,"items","multiple","placeholder","clearable","searchable","closeOnSelect","ngModel","ngModelChange","change"],["id","table-time-search"],[3,"timeInterval"],[4,"ngIf"],[1,"mr-2"],[4,"ngFor","ngForOf"],["class","mr-2 ng-value",4,"ngIf"],[1,"mr-2","ng-value"],["aria-hidden","true",1,"ng-value-icon","right","mr-1",3,"click"],[1,"b2m-checkbox","py-0"],[1,"d-flex","justify-content-between","align-items-center"],["type","checkbox",3,"ngModel"],["class","link-color",3,"background-color",4,"ngIf"],[1,"link-color"],["type","checkbox",1,"d-none",3,"ngModel"],[1,"b2msf-calendar",2,"color","#044e97"]],template:function(o,c){1&o&&(t.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"section"),t._UZ(9,"a",6)(10,"bngx-benefits-component"),t.qZA(),t._UZ(11,"section",7),t.TgZ(12,"section",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"fieldset",12)(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"ng-select",13),t.NdJ("ngModelChange",function(L){return c.selectedCodes=L})("change",function(L){return c.onChangeCodes(L),c.navigateByDateFilter("section-filters")}),t.YNc(21,Ct,2,2,"ng-template",14),t.YNc(22,cn,8,5,"ng-template",15),t.qZA()()(),t.TgZ(23,"div",11)(24,"fieldset",12)(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"ng-select",16),t.NdJ("ngModelChange",function(L){return c.selectedUsers=L})("change",function(L){return c.onChangeUsers(L)}),t.YNc(29,un,2,2,"ng-template",14),t.YNc(30,_n,3,4,"ng-template",17),t.YNc(31,mn,7,4,"ng-template",15),t.qZA()()(),t.TgZ(32,"div",18)(33,"fieldset",12)(34,"label"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"ng-select",19),t.NdJ("ngModelChange",function(L){return c.selectedTime=L})("change",function(){return c.navigateByDateFilter("section-filters")}),t.ALo(38,"translate"),t.YNc(39,fn,3,3,"ng-template",20),t.YNc(40,Tt,2,3,"ng-template",15),t.YNc(41,hn,2,3,"ng-template",17),t.qZA()()()()(),t._UZ(42,"b2m-benefits-chart",21),t.qZA(),t.TgZ(43,"section",22)(44,"div",23)(45,"div",24)(46,"h2",25),t._uU(47),t.ALo(48,"translate"),t.qZA()(),t.TgZ(49,"div",26)(50,"fieldset",27)(51,"label"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"ng-select",28),t.NdJ("ngModelChange",function(L){return c.selectedTime=L})("change",function(){return c.navigateByDateFilter("table-time-search")}),t.ALo(55,"translate"),t.YNc(56,On,3,3,"ng-template",20),t.YNc(57,vt,2,3,"ng-template",15),t.YNc(58,_,2,3,"ng-template",17),t.qZA()()()(),t._UZ(59,"a",29)(60,"bngx-activity-table",30),t.qZA()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,42,"AFFILIATES_ACTIVITY_PAGE.HEADER")),t.xp6(13),t.Oqu(t.lcZ(19,44,"AFFILIATES_ACTIVITY_PAGE.FILTERS.MY_LINKS")),t.xp6(2),t.Q6J("items",c.codes)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1)("loading",c.codesAreLoading)("searchable",!0)("clearable",!1)("ngModel",c.selectedCodes),t.xp6(6),t.Oqu(t.lcZ(27,46,"AFFILIATES_ACTIVITY_PAGE.FILTER.USER_TYPE")),t.xp6(2),t.Q6J("items",c.users)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1)("searchable",!1)("clearable",!1)("ngModel",c.selectedUsers),t.xp6(7),t.Oqu(t.lcZ(36,48,"AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME_INTERVAL")),t.xp6(2),t.Q6J("items",c.time)("multiple",!1)("placeholder",t.lcZ(38,50,"AFFILIATES_ACTIVITY_PAGE.FILTER.USER_TYPE"))("clearable",!1)("closeOnSelect",!1)("searchable",!1)("ngModel",c.selectedTime),t.xp6(5),t.Q6J("selectedCodes",c.selectedCodes)("selectedUsers",c.selectedUsers)("timeInterval",c.filters[(null==c.selectedTime?null:c.selectedTime.id)-1])("codes",c.codes),t.xp6(5),t.hij(" ",t.lcZ(48,52,"AFFILIATES_ACTIVITY_PAGE.HISTORY")," "),t.xp6(5),t.Oqu(t.lcZ(53,54,"AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME_INTERVAL")),t.xp6(2),t.Q6J("items",c.time)("multiple",!1)("placeholder",t.lcZ(55,56,"AFFILIATES_ACTIVITY_PAGE.FILTER.USER_TYPE"))("clearable",!1)("searchable",!1)("closeOnSelect",!1)("ngModel",c.selectedTime),t.xp6(6),t.Q6J("timeInterval",c.filters[(null==c.selectedTime?null:c.selectedTime.id)-1]))},directives:[qe,Oe.w9,q.JJ,q.On,Oe.zB,k.O5,k.sg,Oe.ir,q.Wl,Oe.C5,Oe.mR,Ot,rn],pipes:[T.X$,k.OU],styles:[".affiliates-activity-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.affiliates-activity-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.affiliates-activity-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.affiliates-activity-page[_ngcontent-%COMP%]   section#section-filters[_ngcontent-%COMP%]{height:0;padding:15px 0}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]{border-top:1px solid #e8edf4}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{margin-bottom:30px}@media (min-width: 768px){.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-input, .affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-placeholder{display:none}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .b2m-checkbox .link-color{width:40px;height:2px}@media (min-width: 768px){.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select.align-right[_ngcontent-%COMP%]     .ng-dropdown-panel{left:initial;left:unset;right:0}}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:20px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:flex;align-items:center}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]{max-width:240px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{width:240px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-input, .affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-placeholder{display:none}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-input .ng-dropdown-panel, .affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-placeholder .ng-dropdown-panel{left:initial!important;right:0!important}@media (max-width: 767px){.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{margin-bottom:10px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]{max-width:100%}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{width:100%}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{width:100%}}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:30px;text-align:left;vertical-align:middle}"]}),l})();var h=f(54108);function u(l,v){1&l&&t._UZ(0,"i",24)}function x(l,v){1&l&&t._UZ(0,"i",25)}function H(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.INVALID_CHARACTERS")," "))}function re(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const ae=function(l){return{value:l}};function de(l,v){if(1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.REQUIRED",t.VKq(4,ae,o.passwordValidations.minLength))," ")}}function Ae(l,v){if(1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.VKq(4,ae,o.passwordValidations.maxLength))," ")}}function Re(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD")," "))}function Je(l,v){1&l&&t._UZ(0,"i",24)}function ye(l,v){1&l&&t._UZ(0,"i",25)}function $e(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.INVALID_CHARACTERS")," "))}function Ke(l,v){1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function An(l,v){if(1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_LONGER",t.VKq(4,ae,o.passwordValidations.minLength))," ")}}function Cn(l,v){if(1&l&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.VKq(4,ae,o.passwordValidations.maxLength))," ")}}const Pn=function(l){return{submitted:l}};let xn=(()=>{class l{constructor(o,c,M,L,B,ie){this.modalService=o,this.formBuilder=c,this.accountService=M,this.authService=L,this.changeDetectorRef=B,this.sessionsService=ie,this.destroy=new O.x,this.passwordValidations={pattern:/^[^\s]+$/,minLength:6,maxLength:64},this.currentPasswordVisible=!1,this.newPasswordVisible=!1,this.showTooManyRquestsWarning=!1}ngOnInit(){this.changePasswordForm=this.formBuilder.group({currentPassword:["",[q.kI.required,q.kI.pattern(this.passwordValidations.pattern),q.kI.minLength(this.passwordValidations.minLength),q.kI.maxLength(this.passwordValidations.maxLength)]],newPassword:["",[q.kI.required,q.kI.pattern(this.passwordValidations.pattern),q.kI.minLength(this.passwordValidations.minLength),q.kI.maxLength(this.passwordValidations.maxLength)]]}),this.setSessionId()}togglePasswordVisibility(o){this[`${o}Visible`]=!this[`${o}Visible`]}submitNewPassword(){if(this.resetInvalidPasswordError(),this.changePasswordForm.invalid)return;let o=this.changePasswordForm.getRawValue();o=Object.assign(Object.assign({},o),{sessionId:this.sessionId}),this.submitting=!0,this.changeDetectorRef.detectChanges(),this.accountService.changePasswordV2(o).subscribe(()=>{this.modalService.dismissAll()},c=>{var M;if(this.submitting=!1,401===c.status&&this.changePasswordForm.get("currentPassword").setErrors({invalidPassword:!0}),null===(M=null==c?void 0:c.error)||void 0===M?void 0:M.includes("rateLimitRemaining")){const L=JSON.parse(c.error);this.remainingMinutes=L.rateLimitRemaining,this.showTooManyRquestsWarning=!0}},()=>{this.submitting=!1})}resetInvalidPasswordError(){var o;const c=this.changePasswordForm.get("currentPassword");(null===(o=null==c?void 0:c.errors)||void 0===o?void 0:o.invalidPassword)&&c.setErrors(null)}setSessionId(){this.sessionsService.getSessions({filter:"active"}).pipe((0,ee.R)(this.destroy),(0,xe.U)(c=>c.data.filter(M=>!0===M.current))).subscribe(c=>{this.sessionId=c[0].id,this.sessionsService.subject.next(c[0].id)})}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Z7U),t.Y36(q.qu),t.Y36(A.BRM),t.Y36(A.e80),t.Y36(t.sBO),t.Y36(A.jVh))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:48,vars:46,consts:[[1,"modal-header"],[1,"modal-title"],["name","change-password-form",1,"change-password-form",3,"formGroup","ngClass","ngSubmit"],["changePasswordFormTemplate","ngForm"],[1,"modal-body"],[1,"form-group","pb-4"],["for","current-password"],[1,"input-group"],["formControlName","currentPassword","name","current-password","autofocus","",3,"type","placeholder","maxlength"],[1,"input-addon","right"],["type","button",3,"click"],["aria-hidden","true","class","b2msf-eye",4,"ngIf"],["aria-hidden","true","class","b2msf-eye-slash",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-group"],["for","new-password"],["formControlName","newPassword","name","new-password",3,"type","placeholder","maxlength"],[3,"password"],[1,"password-strength-box"],[1,"fill"],[3,"remainingMinutes","showTooManyRequestsWarning"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","mr-0",3,"bngxLoadingLayer","disabled"],["aria-hidden","true",1,"b2msf-eye"],["aria-hidden","true",1,"b2msf-eye-slash"]],template:function(o,c){if(1&o&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"form",2,3),t.NdJ("ngSubmit",function(){return c.submitNewPassword()}),t.TgZ(6,"div",4)(7,"fieldset",5)(8,"label",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"input",8),t.ALo(13,"translate"),t.TgZ(14,"div",9)(15,"button",10),t.NdJ("click",function(){return c.togglePasswordVisibility("currentPassword")}),t.YNc(16,u,1,0,"i",11),t.YNc(17,x,1,0,"i",12),t.qZA()()(),t.TgZ(18,"div",13),t.YNc(19,H,3,3,"div",14),t.YNc(20,re,3,3,"div",14),t.YNc(21,de,3,6,"div",14),t.YNc(22,Ae,3,6,"div",14),t.YNc(23,Re,3,3,"div",14),t.qZA()(),t.TgZ(24,"fieldset",15)(25,"label",16),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",7),t._UZ(29,"input",17),t.ALo(30,"translate"),t.TgZ(31,"div",9)(32,"button",10),t.NdJ("click",function(){return c.togglePasswordVisibility("newPassword")}),t.YNc(33,Je,1,0,"i",11),t.YNc(34,ye,1,0,"i",12),t.qZA()()(),t._UZ(35,"bngx-password-strength",18),t.TgZ(36,"div",19),t._UZ(37,"div",20),t.qZA(),t.TgZ(38,"div",13),t.YNc(39,$e,3,3,"div",14),t.YNc(40,Ke,3,3,"div",14),t.YNc(41,An,3,6,"div",14),t.YNc(42,Cn,3,6,"div",14),t._UZ(43,"bngx-too-many-requests-warning",21),t.qZA()()(),t.TgZ(44,"div",22)(45,"button",23),t._uU(46),t.ALo(47,"translate"),t.qZA()()()),2&o){const M=t.MAs(5);let L,B,ie,pe,he,le,Nn,wn,Un;t.xp6(2),t.Oqu(t.lcZ(3,32,"CHANGE_PASSWORD_DIALOG.TITLE")),t.xp6(2),t.Q6J("formGroup",c.changePasswordForm)("ngClass",t.VKq(44,Pn,M.submitted)),t.xp6(5),t.Oqu(t.lcZ(10,34,"CHANGE_PASSWORD_DIALOG.CURRENT_PASSWORD_LABEL")),t.xp6(3),t.Q6J("type",c.currentPasswordVisible?"text":"password")("placeholder",t.lcZ(13,36,"CHANGE_PASSWORD_DIALOG.CURRENT_PASSWORD_LABEL"))("maxlength",c.passwordValidations.maxLength+1),t.xp6(4),t.Q6J("ngIf",!c.currentPasswordVisible),t.xp6(1),t.Q6J("ngIf",c.currentPasswordVisible),t.xp6(2),t.Q6J("ngIf",null==c.changePasswordForm||null==(L=c.changePasswordForm.get("currentPassword"))||null==L.errors?null:L.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(B=c.changePasswordForm.get("currentPassword"))||null==B.errors?null:B.errors.required),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(ie=c.changePasswordForm.get("currentPassword"))||null==ie.errors?null:ie.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(pe=c.changePasswordForm.get("currentPassword"))||null==pe.errors?null:pe.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(he=c.changePasswordForm.get("currentPassword"))||null==he.errors?null:he.errors.invalidPassword),t.xp6(3),t.Oqu(t.lcZ(27,38,"CHANGE_PASSWORD_DIALOG.NEW_PASSWORD_LABEL")),t.xp6(3),t.Q6J("type",c.newPasswordVisible?"text":"password")("placeholder",t.lcZ(30,40,"CHANGE_PASSWORD_DIALOG.NEW_PASSWORD_LABEL"))("maxlength",c.passwordValidations.maxLength+1),t.xp6(4),t.Q6J("ngIf",!c.newPasswordVisible),t.xp6(1),t.Q6J("ngIf",c.newPasswordVisible),t.xp6(1),t.Q6J("password",null==c.changePasswordForm||null==c.changePasswordForm.value?null:c.changePasswordForm.value.newPassword),t.xp6(2),t.Udp("width",c.changePasswordForm.value.newPassword.length/16*100),t.xp6(2),t.Q6J("ngIf",null==c.changePasswordForm||null==(le=c.changePasswordForm.get("newPassword"))||null==le.errors?null:le.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(Nn=c.changePasswordForm.get("newPassword"))||null==Nn.errors?null:Nn.errors.required),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(wn=c.changePasswordForm.get("newPassword"))||null==wn.errors?null:wn.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==c.changePasswordForm||null==(Un=c.changePasswordForm.get("newPassword"))||null==Un.errors?null:Un.errors.maxlength),t.xp6(1),t.Q6J("remainingMinutes",c.remainingMinutes)("showTooManyRequestsWarning",c.showTooManyRquestsWarning),t.xp6(2),t.Q6J("bngxLoadingLayer",c.submitting)("disabled",c.submitting||c.showTooManyRquestsWarning),t.xp6(1),t.hij(" ",t.lcZ(47,42,"BUTTONS.CHANGE")," ")}},directives:[q._Y,q.JL,q.sg,k.mk,q.Fj,q.JJ,q.u,A.Uqp,q.nD,k.O5,h.I,A.tUR,A.gO3],pipes:[T.X$],styles:[""]}),l})(),En=(()=>{class l{constructor(o,c){this.modalService=o,this.authService=c}ngOnInit(){this.authService.refresh().subscribe()}openChangePasswordDialog(){this.modalService.open(xn)}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Z7U),t.Y36(A.e80))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:26,vars:18,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],[1,"py-4"],[1,"title","title-border-bottom","mb-4"],[1,"row"],[1,"col-12","col-sm-7","col-md-8","col-lg-8"],[1,"col-12","col-sm-5","col-md-4","col-lg-4"],["id","change-password-button",1,"b2m-btn","btn-line","w-100",3,"click"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"section",6)(9,"h5",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",8)(13,"div",9)(14,"p"),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"em"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",10)(23,"button",11),t.NdJ("click",function(){return c.openChangePasswordDialog()}),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"HEADER_NAVBAR.SECURITY_PASSWORD")),t.xp6(5),t.hij(" ",t.lcZ(11,8,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(16,10,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TEXT.TEXT_A"),"\xa0 "),t.xp6(3),t.Oqu(t.lcZ(19,12,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TEXT.TEXT_B")),t.xp6(2),t.hij("\xa0",t.lcZ(21,14,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TEXT.TEXT_C")," "),t.xp6(4),t.hij(" ",t.lcZ(25,16,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.BUTTON")," "))},pipes:[T.X$],styles:[".password-strength-box[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:4px;background-color:#e8ecf4;margin-top:20px;overflow:hidden}.password-strength-box[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{transition:all ease .3s;width:0;height:100%;background-color:transparent}.password-strength-box.strong[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#36a34d}.password-strength-box.medium[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#e0b825}.password-strength-box.weak[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#ce0000}.download-app-links[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.download-app-links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:5px}.qr-container[_ngcontent-%COMP%]{width:100%;max-width:240px;background-color:#fff;margin:0 auto;box-sizing:content-box}.qr-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:100%}.data-2fa[_ngcontent-%COMP%]{padding:15px;background:#f2f6fa}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:10px}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.title-border-bottom[_ngcontent-%COMP%]   .pull-left[_ngcontent-%COMP%], .title-border-bottom[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{float:none;width:100%;text-align:left}@media (max-width: 575px){.card-page-inner[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:0}}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:green;font-size:40px}@media (min-width: 577px){.authentication-enabled[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{padding-left:80px;position:relative}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{position:absolute;top:50%;left:30px;transform:translate(-50%) translateY(-50%)}}@media (max-width: 576px){.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{margin-bottom:20px}}.authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}"]}),l})();var bn=f(30445);function Sn(l,v){1&l&&(t.TgZ(0,"div",14)(1,"div",15)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&l&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"GENERAL_SECURITY_PAGE.2FA.VERIFICATION_NECESSARY")))}function Zn(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"p",18)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"em"),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",19)(14,"button",20),t.NdJ("click",function(){return t.CHM(o),t.oxw().openSetTwoFactorDialog()}),t._uU(15),t.ALo(16,"translate"),t.qZA()()()}if(2&l){const o=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"GENERAL_SECURITY_PAGE.2FA.TEXT.SENTENCE_A")),t.xp6(4),t.Oqu(t.lcZ(9,7,"GENERAL_SECURITY_PAGE.2FA.TEXT.SENTENCE_B")),t.xp6(3),t.Oqu(t.lcZ(12,9,"GENERAL_SECURITY_PAGE.2FA.TEXT.SENTENCE_C")),t.xp6(3),t.Q6J("disabled",!o.isEmailVerified),t.xp6(1),t.hij(" ",t.lcZ(16,11,"GENERAL_SECURITY_PAGE.2FA.BUTTON")," ")}}function Mn(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"div",21)(1,"div")(2,"p")(3,"span"),t._UZ(4,"i",22),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"p")(10,"span"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\xa0 "),t.TgZ(14,"a",23),t.ALo(15,"translate"),t.ALo(16,"translate"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._uU(19,". "),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"div",24)(24,"div")(25,"nz-switch",25),t.NdJ("ngModelChange",function(M){return t.CHM(o),t.oxw().is2faRequired=M})("ngModelChange",function(M){return t.CHM(o),t.oxw().checkValue(M)}),t.qZA()(),t.TgZ(26,"p")(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA()()()()}if(2&l){const o=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,9,"GENERAL_SECURITY_PAGE.2FA.ACTIVE.TEXT_A"),""),t.xp6(2),t.hij("\xa0",t.lcZ(8,11,"GENERAL_SECURITY_PAGE.2FA.ACTIVE.TEXT_B")," "),t.xp6(4),t.Oqu(t.lcZ(12,13,"GENERAL_SECURITY_PAGE.2FA.ACTIVE_MESSAGE_A")),t.xp6(3),t.s9C("href",t.lcZ(15,15,"CORE_UI.CHAT_BUBBLE.LINKS.WRITE_US_LINK"),t.LSH),t.s9C("title",t.lcZ(16,17,"GENERAL_SECURITY_PAGE.2FA.CONTACT_TITLE")),t.xp6(3),t.Oqu(t.lcZ(18,19,"GENERAL_SECURITY_PAGE.2FA.ACTIVE_MESSAGE_B")),t.xp6(4),t.Oqu(t.lcZ(22,21,"GENERAL_SECURITY_PAGE.2FA.ACTIVE_MESSAGE_C")),t.xp6(4),t.Q6J("ngModel",o.is2faRequired),t.xp6(3),t.Oqu(t.lcZ(29,23,"GENERAL_SECURITY_PAGE.2FA.CHECK_REQUIRED"))}}let In=(()=>{class l{constructor(o,c,M,L,B){this.modalService=o,this.authService=c,this.accountService=M,this.currentUserStore=L,this.sessionsService=B,this.destroy$=new O.x}ngOnInit(){this.setHasEmailVerification(),this.isEmailVerified&&(this.currentUserStore.userSubject.pipe((0,ee.R)(this.destroy$)).subscribe(o=>{this.is2faRequired=o.account.secondFactorAuth.alwaysRequired}),this.setHas2FA(),this.authService.refresh().subscribe(),this.tokenSubscription=this.authService.tokenSubject.subscribe(()=>{this.setHas2FA()}),this.setSessionId())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}setHas2FA(){this.hasSFA=this.authService.isVerified([A.Dzy.sfa])}openSetTwoFactorDialog(){this.modalService.open(A.yUD)}setHasEmailVerification(){this.isEmailVerified=this.authService.isVerified([A.Dzy.email])}setSessionId(){this.sessionsService.getSessions({filter:"active"}).pipe((0,ee.R)(this.destroy$),(0,xe.U)(c=>c.data.filter(M=>!0===M.current))).subscribe(c=>{this.sessionId=c[0].id,this.sessionsService.subject.next(c[0].id)})}checkValue(o){const c=this.modalService.open(A.Q6y);c.componentInstance.getTotp().pipe((0,ee.R)(this.destroy$)).subscribe(M=>{this.accountService.setSfaAlwaysRequired({totp:M,alwaysRequired:o,sessionId:this.sessionId}).subscribe(L=>{L&&c.close(!0)},L=>{c.componentInstance.setErrors(L)})}),c.afterClose.subscribe(M=>{M||(this.is2faRequired=!this.is2faRequired)})}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Z7U),t.Y36(A.e80),t.Y36(A.BRM),t.Y36(A.Dk$),t.Y36(A.jVh))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:24,vars:15,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],["class","alert mini-alert alert-warning","role","alert",4,"ngIf"],[1,"py-4"],[1,"mb-4","clearfix","title-border-bottom"],[1,"title","float-left"],[1,"float-right","d-none"],["target","_blank","rel","noopener noreferrer","href","#"],["class","row authentication-not-enabled",4,"ngIf"],["class","authentication-enabled",4,"ngIf"],["role","alert",1,"alert","mini-alert","alert-warning"],[1,"alert-contents"],[1,"row","authentication-not-enabled"],[1,"col-12","col-sm-7","col-md-8","col-lg-8"],[1,"mb-4"],[1,"col-12","col-sm-5","col-md-4","col-lg-4"],["id","set-2fa-button",1,"b2m-btn","btn-line","w-100",3,"disabled","click"],[1,"authentication-enabled"],["aria-hidden","true",1,"b2msf-check-circle-line"],["target","_blank","rel","noopener noreferrer",1,"link",3,"href","title"],[1,"contents","switch"],[3,"ngModel","ngModelChange"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5),t.YNc(8,Sn,5,3,"div",6),t.TgZ(9,"section",7)(10,"div",8)(11,"h5",9),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",10)(15,"span"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18,"\xa0"),t.TgZ(19,"a",11),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.YNc(22,Zn,17,13,"div",12),t.YNc(23,Mn,30,25,"div",13),t.qZA()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,7,"HEADER_NAVBAR.SECURITY_2FA")),t.xp6(3),t.Q6J("ngIf",!c.isEmailVerified),t.xp6(4),t.Oqu(t.lcZ(13,9,"GENERAL_SECURITY_PAGE.2FA.TITLE")),t.xp6(4),t.Oqu(t.lcZ(17,11,"GENERAL_SECURITY_PAGE.2FA.WHY")),t.xp6(4),t.Oqu(t.lcZ(21,13,"GENERAL_SECURITY_PAGE.2FA.KNOW_MORE")),t.xp6(2),t.Q6J("ngIf",!c.hasSFA),t.xp6(1),t.Q6J("ngIf",c.hasSFA))},directives:[k.O5,bn.i,q.JJ,q.On],pipes:[T.X$],styles:[".password-strength-box[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:4px;background-color:#e8ecf4;margin-top:20px;overflow:hidden}.password-strength-box[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{transition:all ease .3s;width:0;height:100%;background-color:transparent}.password-strength-box.strong[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#36a34d}.password-strength-box.medium[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#e0b825}.password-strength-box.weak[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#ce0000}.download-app-links[_ngcontent-%COMP%]{display:inline-block}.download-app-links[_ngcontent-%COMP%]{margin-right:5px}.download-app-links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:5px}.qr-container[_ngcontent-%COMP%]{width:100%;max-width:240px;background-color:#fff;margin:0 auto;box-sizing:content-box}.qr-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:100%}.data-2fa[_ngcontent-%COMP%]{padding:15px;background:#f2f6fa}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:10px}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.title-border-bottom[_ngcontent-%COMP%]   .pull-left[_ngcontent-%COMP%], .title-border-bottom[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{float:none;width:100%;text-align:left}.contents.switch[_ngcontent-%COMP%]{display:flex;padding-top:25px}.contents[_ngcontent-%COMP%]   nz-switch[_ngcontent-%COMP%]{position:absolute;top:75%;transform:translate(-50%) translateY(-50%)}@media (max-width: 575px){.card-page-inner[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:0}}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:green;font-size:40px}.contents[_ngcontent-%COMP%]   nz-switch[_ngcontent-%COMP%]{left:30px}@media (min-width: 577px){.authentication-enabled[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{padding-left:80px;position:relative}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{position:absolute;top:50%;left:30px;transform:translate(-50%) translateY(-50%)}}@media (max-width: 576px){.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{margin-bottom:20px}.contents[_ngcontent-%COMP%]   nz-switch[_ngcontent-%COMP%]{position:relative}}.authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.authentication-enabled[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-bottom:15px}.authentication-enabled[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#28853d;font-weight:700}.authentication-enabled[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]{margin-right:5px}.authentication-enabled[_ngcontent-%COMP%]   a.link[_ngcontent-%COMP%]{font-weight:700}"]}),l})();var Ln=f(65226),Tn=f(60399);function Rn(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(o);const M=t.oxw().$implicit;return t.oxw(2).downloadInvoice(null==M?null:M.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD")," "))}function p(l,v){1&l&&(t.TgZ(0,"button",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD")," "))}function E(l,v){if(1&l&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",30)(7,"a",31),t._uU(8),t.qZA()(),t.TgZ(9,"td",30),t._uU(10),t.qZA(),t.TgZ(11,"td",30),t._uU(12),t.qZA(),t.TgZ(13,"td",30),t.YNc(14,Rn,3,3,"button",32),t.YNc(15,p,3,3,"button",33),t.qZA(),t.TgZ(16,"td",30)(17,"a",31),t._uU(18),t.qZA()()()),2&l){const o=v.$implicit,c=t.oxw(2);t.xp6(2),t.Oqu(null==o?null:o.id),t.xp6(2),t.Oqu(t.xi3(5,10,null==o?null:o.createdAt,"short")),t.xp6(3),t.Q6J("href",c.urlService.service("wallet")+"pockets/"+(null==o?null:o.pocketId),t.LSH),t.xp6(1),t.Oqu(null==o?null:o.pocketId),t.xp6(2),t.hij("",null==o?null:o.earnings," \u20ac"),t.xp6(2),t.Oqu(null==o?null:o.type),t.xp6(2),t.Q6J("ngIf","done"===(null==o?null:o.type)),t.xp6(1),t.Q6J("ngIf","rejected"===(null==o?null:o.type)||"pending"===(null==o?null:o.type)),t.xp6(2),t.Q6J("href",c.urlService.service("wallet")+"activity/list/"+(null==o?null:o.movementId),t.LSH),t.xp6(1),t.Oqu(null==o?null:o.movementId)}}function d(l,v){if(1&l&&(t.TgZ(0,"tbody"),t.YNc(1,E,19,13,"tr",29),t.qZA()),2&l){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==o.payouts?null:o.payouts.data)}}function m(l,v){1&l&&(t.TgZ(0,"div",35),t._UZ(1,"bngx-no-results"),t.qZA())}function S(l,v){if(1&l){const o=t.EpF();t.TgZ(0,"div",36)(1,"nz-pagination",37),t.NdJ("nzPageIndexChange",function(M){return t.CHM(o),t.oxw().onPageChange(M)}),t.qZA()()}if(2&l){const o=t.oxw();t.xp6(1),t.Q6J("nzTotal",null==o.payouts?null:o.payouts.total)("nzPageSize",o.payoutsFilter.getFilter().limit)}}let Z=(()=>{class l{constructor(o,c,M,L,B,ie,pe,he){this.routerQueryParamsService=o,this.modalService=c,this.affiliatesService=M,this.urlService=L,this.translate=B,this.notificationService=ie,this.logger=pe,this.authService=he,this.destroy=new O.x,this.dateRange=[],this.loading=!0,this.payouts={data:[],total:0},this.currentDate=new Date,this.payoutsFilter=new A.ket({limit:8,offset:0,fromDate:"",toDate:""}),this.disabledDateRange=le=>le>this.limitDateRange,this.routerQueryParamsService.getQueryParamsActivatedRoute().pipe((0,ee.R)(this.destroy),(0,xe.U)(le=>{"string"==typeof le.fromDate&&Date.parse(le.fromDate)&&this.dateRange.push(new Date(le.fromDate)),"string"==typeof le.toDate&&Date.parse(le.toDate)&&this.dateRange.push(new Date(le.toDate))})).subscribe(le=>{le!==this.payoutsFilter.getFilter()&&(this.payoutsFilter.setFilter(le),this.search())})}ngOnInit(){this.limitDateRange=new Date,this.limitDateRange.setHours(23,59,59),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter(),{replaceUrl:!0}),this.isVerified=this.authService.isVerified([A.Dzy.email,A.Dzy.identity,A.Dzy.phone])}openAddAddressDialog(){this.isVerified?this.modalService.open(lt):this.openOnboardingDialog()}openOnboardingDialog(){this.modalService.open(A.qt9)}onPageChange(o){this.payoutsFilter.page=o,this.payoutsFilter.updateOffset(),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter(),{fragment:"payouts-table"})}handleSubmit(){this.payoutsFilter.goToFirstPage(),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter())}resetFilter(){this.payoutsFilter.resetFilter(),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter()),this.dateRange=[]}search(o=!1){o&&this.payoutsFilter.goToFirstPage(),this.loading=!0,this.affiliatesService.getPayouts(this.payoutsFilter.getFilter()).subscribe(c=>{this.payouts=c,this.loading=!1})}getMaxForFrom(){return this.payoutsFilter.getFilter("toDate")?this.payoutsFilter.getFilter("toDate"):this.currentDate}downloadInvoice(o){this.loading=!0,this.affiliatesService.getInvoice(o).subscribe(c=>{this.loading=!1;const M=c.headers.get("Content-Type"),L=c.headers.get("Content-Disposition").split('"')[1],B=new File([c.body],L,{type:M});(0,Ln.saveAs)(B,L),this.notificationService.success(this.translate.instant("AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD_SUCCESS"))},c=>{this.logger.log(c),this.loading=!1,this.notificationService.error(this.translate.instant("AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD_ERROR"))})}onDateRangeChange(o){const[c,M]=o;this.payoutsFilter.getFilter().fromDate=c,this.payoutsFilter.getFilter().toDate=M}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.Jj8),t.Y36(A.Z7U),t.Y36(A.Oiz),t.Y36(A.iOJ),t.Y36(T.sK),t.Y36(A.TFo),t.Y36(A.mQy),t.Y36(A.e80))},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:65,vars:43,consts:[[1,"affiliates-code-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],[1,"payouts-section"],["id","payouts-table"],[1,"row","m-0","header-row"],[1,"card-page-title","mb-5"],[1,"b2m-btn","btn-link","float-right",3,"click"],[1,"ml-1","b2msf-pencil"],[1,"row","m-0","filters"],[1,"col-12"],[1,"form-group"],[1,"input-group","range-picker"],["name","dateRange",3,"ngModel","nzDisabledDate","nzFormat","ngModelChange"],[1,"action-buttons"],[1,"b2m-btn","btn-line",3,"click"],[1,"b2m-btn","btn-solid",3,"click"],[1,"table-wrapper-parent-loading-fix","mt-5"],["context","fullcomponent",3,"bngxLoadingLayer"],[1,"table-wrapper"],[1,"table-responsive","table-striped"],["scope","row",1,"first"],["scope","row"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col"],[3,"href"],["class","b2m-btn btn-line",3,"click",4,"ngIf"],["class","b2m-btn btn-line","disabled","",4,"ngIf"],["disabled","",1,"b2m-btn","btn-line"],[1,"w-100"],[1,"pagination-wrapper"],[3,"nzTotal","nzPageSize","nzPageIndexChange"]],template:function(o,c){1&o&&(t.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"section"),t._UZ(9,"bngx-benefits-component"),t.qZA(),t.TgZ(10,"section",6),t._UZ(11,"a",7),t.TgZ(12,"div",8)(13,"h2",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return c.openAddAddressDialog()}),t._uU(17),t.ALo(18,"translate"),t._UZ(19,"i",11),t.qZA()(),t.TgZ(20,"div",12)(21,"div",13)(22,"fieldset",14)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",15)(27,"nz-range-picker",16),t.NdJ("ngModelChange",function(L){return c.dateRange=L})("ngModelChange",function(L){return c.onDateRangeChange(L)}),t.qZA()()()(),t.TgZ(28,"div",17)(29,"button",18),t.NdJ("click",function(){return c.resetFilter()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",19),t.NdJ("click",function(){return c.handleSubmit()}),t._uU(33),t.ALo(34,"translate"),t.qZA()()(),t.TgZ(35,"div",20)(36,"div",21)(37,"div",22)(38,"table",23)(39,"thead")(40,"tr")(41,"th",24),t._uU(42,"ID"),t.qZA(),t.TgZ(43,"th",25),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",25),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",25),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th",25),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th",25),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th",25),t._uU(59),t.ALo(60,"translate"),t.qZA()()(),t.YNc(61,d,2,1,"tbody",26),t.qZA()(),t.YNc(62,m,2,0,"div",27),t.YNc(63,S,2,2,"div",28),t._UZ(64,"a",7),t.qZA()()()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,19,"AFFILIATES_CODES_PAGE.HEADER")),t.xp6(9),t.Oqu(t.lcZ(15,21,"AFFILIATES_PAYOUTS_PAGE.HEADER")),t.xp6(3),t.hij(" ",t.lcZ(18,23,"AFFILIATES_PAYOUTS_PAGE.SET_INVOICE_SETTINGS")," "),t.xp6(7),t.Oqu(t.lcZ(25,25,"AFFILIATES_PAYOUTS_PAGE.RANGE_DATE")),t.xp6(3),t.Q6J("ngModel",c.dateRange)("nzDisabledDate",c.disabledDateRange)("nzFormat","dd/MM/yyyy"),t.xp6(3),t.hij(" ",t.lcZ(31,27,"AFFILIATES_PAYOUTS_PAGE.RESET")," "),t.xp6(3),t.hij(" ",t.lcZ(34,29,"AFFILIATES_PAYOUTS_PAGE.SEARCH")," "),t.xp6(3),t.Q6J("bngxLoadingLayer",c.loading),t.xp6(8),t.hij(" ",t.lcZ(45,31,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.DATE")," "),t.xp6(3),t.hij(" ",t.lcZ(48,33,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.WALLET")," "),t.xp6(3),t.hij(" ",t.lcZ(51,35,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.EARNINGS")," "),t.xp6(3),t.hij(" ",t.lcZ(54,37,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.TYPE")," "),t.xp6(3),t.hij(" ",t.lcZ(57,39,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.INVOICE")," "),t.xp6(3),t.hij(" ",t.lcZ(60,41,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.MOVEMENT")," "),t.xp6(2),t.Q6J("ngIf",null==c.payouts||null==c.payouts.data?null:c.payouts.data.length),t.xp6(1),t.Q6J("ngIf",!(null!=c.payouts&&null!=c.payouts.data&&c.payouts.data.length)),t.xp6(1),t.Q6J("ngIf",null==c.payouts||null==c.payouts.data?null:c.payouts.data.length))},directives:[qe,Tn.uw,Tn.wS,q.JJ,q.On,A.gO3,k.O5,k.sg,A.tMq,R.dE],pipes:[T.X$,k.uU],styles:[".card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]{border-top:1px solid #e8edf4}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{position:relative;z-index:2}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:30px;justify-content:space-around!important;padding-left:5px}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .payouts-section-column[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper-parent-loading-fix[_ngcontent-%COMP%]{position:relative;z-index:1}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:20%}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:15px;width:20%}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   th.first[_ngcontent-%COMP%]{padding-left:30px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.btn-link[_ngcontent-%COMP%]{background-color:#e8edf4;height:20px}@media (max-width: 768px){.filters[_ngcontent-%COMP%]{margin-top:40px!important}.btn-link[_ngcontent-%COMP%]{line-height:15px}}@media (max-width: 350px){.action-buttons[_ngcontent-%COMP%]{gap:10px;flex-wrap:wrap}}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]{border-top:0px;border-left:0px;border-right:0px;border-bottom:1px solid #c8d6e5;width:100%;padding:12px 15px}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-range-separator{padding:0;display:block;width:22px;line-height:22px;height:22px}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-range-separator span{display:block;line-height:inherit;height:100%;width:100%}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-suffix, .range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-clear{margin-left:0;display:block;width:22px;line-height:22px;height:22px}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-suffix i, .range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-clear i{vertical-align:middle}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted+.ng-star-inserted{margin-left:5px}"]}),l})(),oe=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:6,vars:0,consts:[[1,"onboarding-layout"],[1,"background"],[1,"d-none"],[1,"content"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"bngx-header-notifications-button",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"router-outlet"),t.qZA()(),t._UZ(5,"bngx-footer"))},directives:[A.ta$,J.lC,A.eIb],styles:[".onboarding-layout[_ngcontent-%COMP%]{width:100vw;min-height:calc(100vh - 48px);display:flex;justify-content:center}.onboarding-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#fff;position:absolute;height:100%;width:100vw;top:0;left:0;z-index:1}.onboarding-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:2;position:relative;align-items:center;width:100%}.onboarding-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-outer{padding:15px}.onboarding-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents{width:100%;max-width:512px;border-radius:8px}"]}),l})();var _e=f(76598);let Te=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],decls:13,vars:6,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"container-fluid"],[1,"modal-header","success"],["aria-hidden","true",1,"b2msf-check-circle-line"],[1,"modal-title"],[1,"modal-body"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",6)(9,"div")(10,"p"),t._uU(11),t.ALo(12,"translate"),t.qZA()()()()()()),2&o&&(t.xp6(6),t.Oqu(t.lcZ(7,2,"AUTHORIZED_DEVICE_PAGE.SUCCESS.TITLE")),t.xp6(5),t.Oqu(t.lcZ(12,4,"AUTHORIZED_DEVICE_PAGE.SUCCESS.MESSAGE")))},pipes:[T.X$],styles:[".card-page-outer[_ngcontent-%COMP%]{width:412px;font-size:16px;margin:auto;text-align:center}@media (max-width: 576px){.card-page-outer[_ngcontent-%COMP%]{width:100%}}.modal-header[_ngcontent-%COMP%]{display:block}.success[_ngcontent-%COMP%]{color:#36a34d;font-weight:700}"]}),l})();var W=f(59891);let ve=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["ng-component"]],exportAs:["emailValidationLayout"],decls:10,vars:1,consts:[[1,"email-validation-layout"],[1,"background"],["alt","","src","assets/images/onboarding/bg-top-left.svg",1,"bg-top-left"],["alt","","src","assets/images/onboarding/bg-bottom-right-2.svg",1,"bg-bottom-right"],[1,"content"],["serviceIconClass","b2msf-logo",3,"hideAlerts"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2)(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"bngx-header-panel",5),t._UZ(6,"bngx-header-options"),t.qZA(),t._UZ(7,"router-outlet"),t.qZA()(),t._UZ(8,"bngx-footer")(9,"bngx-chat-bubble")),2&o&&(t.xp6(5),t.Q6J("hideAlerts",!0))},directives:[A.Dsw,A.kdW,J.lC,A.eIb,A.iyC],styles:[".email-validation-layout[_ngcontent-%COMP%]{width:100vw;min-height:calc(100vh - 48px);display:flex;justify-content:center}.email-validation-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#044e97;position:absolute;min-height:100%;width:100%;top:0;left:0;z-index:1}.email-validation-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-top-left[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:15vw}.email-validation-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-bottom-right[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:45vw}.email-validation-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:2;position:relative;align-items:center;width:100%}.email-validation-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-outer{padding:15px}.email-validation-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents{width:100%;max-width:512px;border-radius:8px}"]}),l})();var De=f(25006);const Xe=[{path:"",redirectTo:"/profile/general",pathMatch:"full"},{path:"login",component:Q,resolve:[i.u],loadChildren:()=>Promise.resolve().then(f.bind(f,77730)).then(l=>l.LoginModule),data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"profile",component:n,canActivate:[A.a1M],loadChildren:()=>Promise.resolve().then(f.bind(f,64798)).then(l=>l.ProfileModule),data:{title:"ACCOUNT.ROUTE_TITLES.PROFILE"}},{path:"onboarding",component:oe,loadChildren:()=>Promise.resolve().then(f.bind(f,55605)).then(l=>l.OnboardingModule),data:{title:"ACCOUNT.ROUTE_TITLES.ONBOARDING"}},{path:"email-validation",component:ve,canActivate:[A.a1M],loadChildren:()=>Promise.resolve().then(f.bind(f,77939)).then(l=>l.EmailValidationModule),data:{title:"ACCOUNT.ROUTE_TITLES.ONBOARDING"}},{path:"preferences",component:n,loadChildren:()=>f.e("src_app_preferences_preferences_module_ts").then(f.bind(f,51022)).then(l=>l.PreferencesModule),canActivate:[A.a1M]},{path:"security",component:n,canActivate:[A.a1M],children:[{path:"",pathMatch:"prefix",redirectTo:"password"},{path:"password",component:En,data:{title:"ACCOUNT.ROUTE_TITLES.CHANGE_PASSWORD",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"2fa",component:In,data:{title:"ACCOUNT.ROUTE_TITLES.TWO_FACTOR",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"sessions",component:te,data:{title:"ACCOUNT.ROUTE_TITLES.SESSIONS",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}]},{path:"identity",component:n,canActivate:[A.a1M],children:[{path:"",pathMatch:"prefix",redirectTo:"success"},{path:"success",component:_e.b,data:{title:"ACCOUNT.ROUTE_TITLES.IDENTITY",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}]},{path:"referrals",component:n,canActivate:[A.a1M],children:[{path:"",pathMatch:"prefix",redirectTo:"links"},{path:"links",component:Be,data:{title:"ACCOUNT.ROUTE_TITLES.AFFILIATES",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"activity",component:y,data:{title:"ACCOUNT.ROUTE_TITLES.AFFILIATES",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"payouts",component:Z,data:{title:"ACCOUNT.ROUTE_TITLES.AFFILIATES",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}]},{path:"sessions",component:n,canActivate:[A.a1M],children:[{path:"",component:te,data:{title:"ACCOUNT.ROUTE_TITLES.SESSIONS",analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}]},{path:"payment-methods",component:n,canActivate:[A.a1M],loadChildren:()=>f.e("src_app_payment-methods_payment-methods_module_ts").then(f.bind(f,98652)).then(l=>l.PaymentMethodsModule),data:{title:"ACCOUNT.ROUTE_TITLES.PAYMENT_METHODS"}},{path:"handler/:type/:token",resolve:[X.$],component:Q,data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"handler/:type/:token/:extraHash",resolve:[X.$],component:Q,data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"callback/oauth/:provider",resolve:[W.J],component:Q,data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"authorized-device",component:Q,children:[{path:"",component:Te}]},{path:"add-card",component:A.sP1,data:{title:"ACCOUNT.ROUTE_TITLES.NEW_CARD"}},{path:"identity/image/:token",component:Y.x,data:{title:"ACCOUNT.ROUTE_TITLES.CAMERA",analytics:{pageAccess:A.Sk.anyone,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"confirmed-email",component:Q,children:[{path:"",component:De.d}]},{path:"unavailable",component:A.jAZ,data:{title:"ACCOUNT.ROUTE_TITLES.ERROR_PAGE"}},{path:"**",canActivate:[A.a1M],component:n,children:[{path:"",component:A.nvg,data:{title:"ACCOUNT.ROUTE_TITLES.NOT_FOUND"}}]}];let et=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[J.Bz.forRoot(Xe,{scrollPositionRestoration:"top",anchorScrolling:"enabled",relativeLinkResolution:"legacy"})],J.Bz]}),l})();var tt=f(64798);const Jn=[{path:"",component:(()=>{class l{constructor(o){this.logger=o,this.logger.info("instantiated")}ngOnInit(){this.logger.info("initialized")}}return l.\u0275fac=function(o){return new(o||l)(t.Y36(A.mQy))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-dashboard-page"]],decls:2,vars:0,template:function(o,c){1&o&&(t.TgZ(0,"div"),t._uU(1," DASHBOARD\n"),t.qZA())},styles:[""]}),l})(),data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}];let qn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[J.Bz.forChild(Jn)],J.Bz]}),l})(),Qn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[T.aw,qn],qn]}),l})();var Vn=f(77939);const zn=[{path:"password",component:En,data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"2fa",component:In,data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"sessions",component:te,data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}];let kn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[J.Bz.forChild(zn)],J.Bz]}),l})();var yn=f(28086);let Bn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[],imports:[[yn.v,A.Rbs.forChild(),kn,R.uK,bn.m],kn]}),l})();var vn=f(16916);const Hn=[{path:"",pathMatch:"prefix",redirectTo:"links"},{path:"links",component:Be,data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"activity",component:y,data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}},{path:"payouts",component:Z,data:{analytics:{pageAccess:A.Sk.loggedIn,pageType:A.vnv.companyInfo,pageCategory:A.ycu.general,pageCode:200}}}];let Gn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[[k.ez,A.Rbs.forChild(),yn.v,J.Bz.forChild(Hn)],J.Bz]}),l})(),jn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[],imports:[[yn.v,A.Rbs.forChild(),Gn,He.m9,Tn.Hb,R.uK],Gn]}),l})();var Wn=f(55605),Dn=f(13068),Yn=f(69495),$n=f(47743);(0,A.H4J)();let Kn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=t.oAB({type:l,bootstrap:[e]}),l.\u0275inj=t.cJS({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Dn.tV.PROVIDER_ID,provider:new Dn.tV(vn.N.googleProvider.clientId)},{id:Yn.E.PROVIDER_ID,provider:new Yn.E(vn.N.appleProvider.clientId)}]}}],imports:[[C.b2,D.PW,A.Rbs.forRoot(vn.N),g.JF,T.aw.forRoot({loader:{provide:T.Zw,useFactory:A.pAk,deps:[g.eN]}}),et,w.LoginModule,Qn,Vn.EmailValidationModule,tt.ProfileModule,Bn,jn,Wn.OnboardingModule,b.Aw.forRoot({}),$n.sQ.forRoot(),Dn.RB]]}),l})();vn.N.production&&(0,t.G48)(),C.q6().bootstrapModule(Kn).then(l=>{vn.N.production||(window.ngRef&&window.ngRef.destroy(),window.ngRef=l)}).catch(l=>console.error("Platform bootstrap error",l))},46700:(se,$,f)=>{var C={"./af":58685,"./af.js":58685,"./ar":254,"./ar-dz":4312,"./ar-dz.js":4312,"./ar-kw":32614,"./ar-kw.js":32614,"./ar-ly":18630,"./ar-ly.js":18630,"./ar-ma":28674,"./ar-ma.js":28674,"./ar-sa":49032,"./ar-sa.js":49032,"./ar-tn":24730,"./ar-tn.js":24730,"./ar.js":254,"./az":53052,"./az.js":53052,"./be":60150,"./be.js":60150,"./bg":63069,"./bg.js":63069,"./bm":13466,"./bm.js":13466,"./bn":18516,"./bn-bd":90557,"./bn-bd.js":90557,"./bn.js":18516,"./bo":26273,"./bo.js":26273,"./br":9588,"./br.js":9588,"./bs":19815,"./bs.js":19815,"./ca":83331,"./ca.js":83331,"./cs":21320,"./cs.js":21320,"./cv":72219,"./cv.js":72219,"./cy":68266,"./cy.js":68266,"./da":66427,"./da.js":66427,"./de":67435,"./de-at":52871,"./de-at.js":52871,"./de-ch":12994,"./de-ch.js":12994,"./de.js":67435,"./dv":82357,"./dv.js":82357,"./el":95649,"./el.js":95649,"./en-au":59961,"./en-au.js":59961,"./en-ca":19878,"./en-ca.js":19878,"./en-gb":3924,"./en-gb.js":3924,"./en-ie":70864,"./en-ie.js":70864,"./en-il":91579,"./en-il.js":91579,"./en-in":30940,"./en-in.js":30940,"./en-nz":16181,"./en-nz.js":16181,"./en-sg":44301,"./en-sg.js":44301,"./eo":85291,"./eo.js":85291,"./es":54529,"./es-do":53764,"./es-do.js":53764,"./es-mx":12584,"./es-mx.js":12584,"./es-us":63425,"./es-us.js":63425,"./es.js":54529,"./et":35203,"./et.js":35203,"./eu":70678,"./eu.js":70678,"./fa":83483,"./fa.js":83483,"./fi":96262,"./fi.js":96262,"./fil":52521,"./fil.js":52521,"./fo":34555,"./fo.js":34555,"./fr":63131,"./fr-ca":88239,"./fr-ca.js":88239,"./fr-ch":21702,"./fr-ch.js":21702,"./fr.js":63131,"./fy":267,"./fy.js":267,"./ga":23821,"./ga.js":23821,"./gd":71753,"./gd.js":71753,"./gl":4074,"./gl.js":4074,"./gom-deva":92762,"./gom-deva.js":92762,"./gom-latn":5969,"./gom-latn.js":5969,"./gu":82809,"./gu.js":82809,"./he":45402,"./he.js":45402,"./hi":315,"./hi.js":315,"./hr":10410,"./hr.js":10410,"./hu":38288,"./hu.js":38288,"./hy-am":67928,"./hy-am.js":67928,"./id":71334,"./id.js":71334,"./is":86959,"./is.js":86959,"./it":34864,"./it-ch":51124,"./it-ch.js":51124,"./it.js":34864,"./ja":36141,"./ja.js":36141,"./jv":29187,"./jv.js":29187,"./ka":42136,"./ka.js":42136,"./kk":94332,"./kk.js":94332,"./km":18607,"./km.js":18607,"./kn":84305,"./kn.js":84305,"./ko":70234,"./ko.js":70234,"./ku":16003,"./ku.js":16003,"./ky":75061,"./ky.js":75061,"./lb":32786,"./lb.js":32786,"./lo":66183,"./lo.js":66183,"./lt":50029,"./lt.js":50029,"./lv":24169,"./lv.js":24169,"./me":68577,"./me.js":68577,"./mi":68177,"./mi.js":68177,"./mk":50337,"./mk.js":50337,"./ml":65260,"./ml.js":65260,"./mn":52325,"./mn.js":52325,"./mr":14695,"./mr.js":14695,"./ms":75334,"./ms-my":37151,"./ms-my.js":37151,"./ms.js":75334,"./mt":63570,"./mt.js":63570,"./my":97963,"./my.js":97963,"./nb":88028,"./nb.js":88028,"./ne":86638,"./ne.js":86638,"./nl":50302,"./nl-be":66782,"./nl-be.js":66782,"./nl.js":50302,"./nn":33501,"./nn.js":33501,"./oc-lnc":50563,"./oc-lnc.js":50563,"./pa-in":50869,"./pa-in.js":50869,"./pl":65302,"./pl.js":65302,"./pt":49687,"./pt-br":74884,"./pt-br.js":74884,"./pt.js":49687,"./ro":79107,"./ro.js":79107,"./ru":33627,"./ru.js":33627,"./sd":30355,"./sd.js":30355,"./se":83427,"./se.js":83427,"./si":11848,"./si.js":11848,"./sk":54590,"./sk.js":54590,"./sl":20184,"./sl.js":20184,"./sq":56361,"./sq.js":56361,"./sr":78965,"./sr-cyrl":81287,"./sr-cyrl.js":81287,"./sr.js":78965,"./ss":25456,"./ss.js":25456,"./sv":70451,"./sv.js":70451,"./sw":77558,"./sw.js":77558,"./ta":51356,"./ta.js":51356,"./te":73693,"./te.js":73693,"./tet":21243,"./tet.js":21243,"./tg":42500,"./tg.js":42500,"./th":55768,"./th.js":55768,"./tk":77761,"./tk.js":77761,"./tl-ph":35780,"./tl-ph.js":35780,"./tlh":29590,"./tlh.js":29590,"./tr":33807,"./tr.js":33807,"./tzl":93857,"./tzl.js":93857,"./tzm":60654,"./tzm-latn":8806,"./tzm-latn.js":8806,"./tzm.js":60654,"./ug-cn":30845,"./ug-cn.js":30845,"./uk":19232,"./uk.js":19232,"./ur":47052,"./ur.js":47052,"./uz":77967,"./uz-latn":32233,"./uz-latn.js":32233,"./uz.js":77967,"./vi":98615,"./vi.js":98615,"./x-pseudo":12320,"./x-pseudo.js":12320,"./yo":31313,"./yo.js":31313,"./zh-cn":64490,"./zh-cn.js":64490,"./zh-hk":55910,"./zh-hk.js":55910,"./zh-mo":98262,"./zh-mo.js":98262,"./zh-tw":44223,"./zh-tw.js":44223};function t(g){var T=A(g);return f(T)}function A(g){if(!f.o(C,g)){var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}return C[g]}t.keys=function(){return Object.keys(C)},t.resolve=A,se.exports=t,t.id=46700}},se=>{se.O(0,["vendor"],()=>se(se.s=63902)),se.O()}]);